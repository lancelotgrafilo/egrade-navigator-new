function vg(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wm={exports:{}},pi={},Ym={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ra=Symbol.for("react.element"),yg=Symbol.for("react.portal"),xg=Symbol.for("react.fragment"),bg=Symbol.for("react.strict_mode"),jg=Symbol.for("react.profiler"),wg=Symbol.for("react.provider"),Cg=Symbol.for("react.context"),Sg=Symbol.for("react.forward_ref"),Ng=Symbol.for("react.suspense"),Ig=Symbol.for("react.memo"),$g=Symbol.for("react.lazy"),nu=Symbol.iterator;function kg(e){return e===null||typeof e!="object"?null:(e=nu&&e[nu]||e["@@iterator"],typeof e=="function"?e:null)}var Qm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Km=Object.assign,Jm={};function gr(e,t,s){this.props=e,this.context=t,this.refs=Jm,this.updater=s||Qm}gr.prototype.isReactComponent={};gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xm(){}Xm.prototype=gr.prototype;function qc(e,t,s){this.props=e,this.context=t,this.refs=Jm,this.updater=s||Qm}var Vc=qc.prototype=new Xm;Vc.constructor=qc;Km(Vc,gr.prototype);Vc.isPureReactComponent=!0;var su=Array.isArray,Zm=Object.prototype.hasOwnProperty,Hc={current:null},ef={key:!0,ref:!0,__self:!0,__source:!0};function tf(e,t,s){var r,a={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Zm.call(t,r)&&!ef.hasOwnProperty(r)&&(a[r]=t[r]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var d=Array(o),g=0;g<o;g++)d[g]=arguments[g+2];a.children=d}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:Ra,type:e,key:i,ref:l,props:a,_owner:Hc.current}}function Eg(e,t){return{$$typeof:Ra,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ra}function Bg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var ru=/\/+/g;function Wi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bg(""+e.key):t.toString(36)}function So(e,t,s,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ra:case yg:l=!0}}if(l)return l=e,a=a(l),e=r===""?"."+Wi(l,0):r,su(a)?(s="",e!=null&&(s=e.replace(ru,"$&/")+"/"),So(a,t,s,"",function(g){return g})):a!=null&&(Gc(a)&&(a=Eg(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(ru,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=r===""?".":r+":",su(e))for(var o=0;o<e.length;o++){i=e[o];var d=r+Wi(i,o);l+=So(i,t,s,d,a)}else if(d=kg(e),typeof d=="function")for(e=d.call(e),o=0;!(i=e.next()).done;)i=i.value,d=r+Wi(i,o++),l+=So(i,t,s,d,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Xa(e,t,s){if(e==null)return e;var r=[],a=0;return So(e,r,"","",function(i){return t.call(s,i,a++)}),r}function Rg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Et={current:null},No={transition:null},Lg={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:No,ReactCurrentOwner:Hc};function nf(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Xa,forEach:function(e,t,s){Xa(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Xa(e,function(){t++}),t},toArray:function(e){return Xa(e,function(t){return t})||[]},only:function(e){if(!Gc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=gr;Re.Fragment=xg;Re.Profiler=jg;Re.PureComponent=qc;Re.StrictMode=bg;Re.Suspense=Ng;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lg;Re.act=nf;Re.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Km({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Hc.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)Zm.call(t,d)&&!ef.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=s;else if(1<d){o=Array(d);for(var g=0;g<d;g++)o[g]=arguments[g+2];r.children=o}return{$$typeof:Ra,type:e.type,key:a,ref:i,props:r,_owner:l}};Re.createContext=function(e){return e={$$typeof:Cg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wg,_context:e},e.Consumer=e};Re.createElement=tf;Re.createFactory=function(e){var t=tf.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:Sg,render:e}};Re.isValidElement=Gc;Re.lazy=function(e){return{$$typeof:$g,_payload:{_status:-1,_result:e},_init:Rg}};Re.memo=function(e,t){return{$$typeof:Ig,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=No.transition;No.transition={};try{e()}finally{No.transition=t}};Re.unstable_act=nf;Re.useCallback=function(e,t){return Et.current.useCallback(e,t)};Re.useContext=function(e){return Et.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return Et.current.useDeferredValue(e)};Re.useEffect=function(e,t){return Et.current.useEffect(e,t)};Re.useId=function(){return Et.current.useId()};Re.useImperativeHandle=function(e,t,s){return Et.current.useImperativeHandle(e,t,s)};Re.useInsertionEffect=function(e,t){return Et.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return Et.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return Et.current.useMemo(e,t)};Re.useReducer=function(e,t,s){return Et.current.useReducer(e,t,s)};Re.useRef=function(e){return Et.current.useRef(e)};Re.useState=function(e){return Et.current.useState(e)};Re.useSyncExternalStore=function(e,t,s){return Et.current.useSyncExternalStore(e,t,s)};Re.useTransition=function(){return Et.current.useTransition()};Re.version="18.3.1";Ym.exports=Re;var j=Ym.exports;const qe=zc(j),Fg=vg({__proto__:null,default:qe},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg=j,Ag=Symbol.for("react.element"),Dg=Symbol.for("react.fragment"),Tg=Object.prototype.hasOwnProperty,Og=Pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mg={key:!0,ref:!0,__self:!0,__source:!0};function sf(e,t,s){var r,a={},i=null,l=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Tg.call(t,r)&&!Mg.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Ag,type:e,key:i,ref:l,props:a,_owner:Og.current}}pi.Fragment=Dg;pi.jsx=sf;pi.jsxs=sf;Wm.exports=pi;var n=Wm.exports,rf={exports:{}},Yt={},af={exports:{}},of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,V){var z=D.length;D.push(V);e:for(;0<z;){var M=z-1>>>1,H=D[M];if(0<a(H,V))D[M]=V,D[z]=H,z=M;else break e}}function s(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],z=D.pop();if(z!==V){D[0]=z;e:for(var M=0,H=D.length,me=H>>>1;M<me;){var K=2*(M+1)-1,ue=D[K],Q=K+1,fe=D[Q];if(0>a(ue,z))Q<H&&0>a(fe,ue)?(D[M]=fe,D[Q]=z,M=Q):(D[M]=ue,D[K]=z,M=K);else if(Q<H&&0>a(fe,z))D[M]=fe,D[Q]=z,M=Q;else break e}}return V}function a(D,V){var z=D.sortIndex-V.sortIndex;return z!==0?z:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var d=[],g=[],v=1,c=null,h=3,_=!1,f=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var V=s(g);V!==null;){if(V.callback===null)r(g);else if(V.startTime<=D)r(g),V.sortIndex=V.expirationTime,t(d,V);else break;V=s(g)}}function w(D){if(m=!1,x(D),!f)if(s(d)!==null)f=!0,q(I);else{var V=s(g);V!==null&&G(w,V.startTime-D)}}function I(D,V){f=!1,m&&(m=!1,u(b),b=-1),_=!0;var z=h;try{for(x(V),c=s(d);c!==null&&(!(c.expirationTime>V)||D&&!k());){var M=c.callback;if(typeof M=="function"){c.callback=null,h=c.priorityLevel;var H=M(c.expirationTime<=V);V=e.unstable_now(),typeof H=="function"?c.callback=H:c===s(d)&&r(d),x(V)}else r(d);c=s(d)}if(c!==null)var me=!0;else{var K=s(g);K!==null&&G(w,K.startTime-V),me=!1}return me}finally{c=null,h=z,_=!1}}var $=!1,N=null,b=-1,C=5,S=-1;function k(){return!(e.unstable_now()-S<C)}function B(){if(N!==null){var D=e.unstable_now();S=D;var V=!0;try{V=N(!0,D)}finally{V?R():($=!1,N=null)}}else $=!1}var R;if(typeof p=="function")R=function(){p(B)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,A=L.port2;L.port1.onmessage=B,R=function(){A.postMessage(null)}}else R=function(){y(B,0)};function q(D){N=D,$||($=!0,R())}function G(D,V){b=y(function(){D(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){f||_||(f=!0,q(I))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var z=h;h=V;try{return D()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=h;h=D;try{return V()}finally{h=z}},e.unstable_scheduleCallback=function(D,V,z){var M=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?M+z:M):z=M,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,D={id:v++,callback:V,priorityLevel:D,startTime:z,expirationTime:H,sortIndex:-1},z>M?(D.sortIndex=z,t(g,D),s(d)===null&&D===s(g)&&(m?(u(b),b=-1):m=!0,G(w,z-M))):(D.sortIndex=H,t(d,D),f||_||(f=!0,q(I))),D},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(D){var V=h;return function(){var z=h;h=V;try{return D.apply(this,arguments)}finally{h=z}}}})(of);af.exports=of;var Ug=af.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg=j,Wt=Ug;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lf=new Set,ia={};function As(e,t){cr(e,t),cr(e+"Capture",t)}function cr(e,t){for(ia[e]=t,e=0;e<t.length;e++)lf.add(t[e])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=Object.prototype.hasOwnProperty,qg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,au={},ou={};function Vg(e){return Pl.call(ou,e)?!0:Pl.call(au,e)?!1:qg.test(e)?ou[e]=!0:(au[e]=!0,!1)}function Hg(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gg(e,t,s,r){if(t===null||typeof t>"u"||Hg(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,s,r,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wc=/[\-:]([a-z])/g;function Yc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wc,Yc);_t[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wc,Yc);_t[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wc,Yc);_t[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qc(e,t,s,r){var a=_t.hasOwnProperty(t)?_t[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gg(t,s,a,r)&&(s=null),r||a===null?Vg(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var Tn=zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Za=Symbol.for("react.element"),Vs=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),Kc=Symbol.for("react.strict_mode"),Al=Symbol.for("react.profiler"),cf=Symbol.for("react.provider"),df=Symbol.for("react.context"),Jc=Symbol.for("react.forward_ref"),Dl=Symbol.for("react.suspense"),Tl=Symbol.for("react.suspense_list"),Xc=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),uf=Symbol.for("react.offscreen"),iu=Symbol.iterator;function Fr(e){return e===null||typeof e!="object"?null:(e=iu&&e[iu]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Object.assign,Yi;function Gr(e){if(Yi===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Yi=t&&t[1]||""}return`
`+Yi+e}var Qi=!1;function Ki(e,t){if(!e||Qi)return"";Qi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var a=g.stack.split(`
`),i=r.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var d=`
`+a[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=o);break}}}finally{Qi=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Gr(e):""}function Wg(e){switch(e.tag){case 5:return Gr(e.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 2:case 15:return e=Ki(e.type,!1),e;case 11:return e=Ki(e.type.render,!1),e;case 1:return e=Ki(e.type,!0),e;default:return""}}function Ol(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hs:return"Fragment";case Vs:return"Portal";case Al:return"Profiler";case Kc:return"StrictMode";case Dl:return"Suspense";case Tl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case df:return(e.displayName||"Context")+".Consumer";case cf:return(e._context.displayName||"Context")+".Provider";case Jc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xc:return t=e.displayName||null,t!==null?t:Ol(e.type)||"Memo";case Hn:t=e._payload,e=e._init;try{return Ol(e(t))}catch{}}return null}function Yg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ol(t);case 8:return t===Kc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qg(e){var t=mf(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function eo(e){e._valueTracker||(e._valueTracker=Qg(e))}function ff(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=mf(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ml(e,t){var s=t.checked;return nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function lu(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=cs(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hf(e,t){t=t.checked,t!=null&&Qc(e,"checked",t,!1)}function Ul(e,t){hf(e,t);var s=cs(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zl(e,t.type,s):t.hasOwnProperty("defaultValue")&&zl(e,t.type,cs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cu(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function zl(e,t,s){(t!=="number"||Mo(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Wr=Array.isArray;function nr(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+cs(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ql(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function du(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(W(92));if(Wr(s)){if(1<s.length)throw Error(W(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:cs(s)}}function pf(e,t){var s=cs(t.value),r=cs(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function uu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var to,_f=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(to=to||document.createElement("div"),to.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=to.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function la(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kg=["Webkit","ms","Moz","O"];Object.keys(Jr).forEach(function(e){Kg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jr[t]=Jr[e]})});function vf(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Jr.hasOwnProperty(e)&&Jr[e]?(""+t).trim():t+"px"}function yf(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=vf(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var Jg=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hl(e,t){if(t){if(Jg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Gl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=null;function Zc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yl=null,sr=null,rr=null;function mu(e){if(e=Pa(e)){if(typeof Yl!="function")throw Error(W(280));var t=e.stateNode;t&&(t=xi(t),Yl(e.stateNode,e.type,t))}}function xf(e){sr?rr?rr.push(e):rr=[e]:sr=e}function bf(){if(sr){var e=sr,t=rr;if(rr=sr=null,mu(e),t)for(e=0;e<t.length;e++)mu(t[e])}}function jf(e,t){return e(t)}function wf(){}var Ji=!1;function Cf(e,t,s){if(Ji)return e(t,s);Ji=!0;try{return jf(e,t,s)}finally{Ji=!1,(sr!==null||rr!==null)&&(wf(),bf())}}function ca(e,t){var s=e.stateNode;if(s===null)return null;var r=xi(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(W(231,t,typeof s));return s}var Ql=!1;if(Rn)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Ql=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Ql=!1}function Xg(e,t,s,r,a,i,l,o,d){var g=Array.prototype.slice.call(arguments,3);try{t.apply(s,g)}catch(v){this.onError(v)}}var Xr=!1,Uo=null,zo=!1,Kl=null,Zg={onError:function(e){Xr=!0,Uo=e}};function e_(e,t,s,r,a,i,l,o,d){Xr=!1,Uo=null,Xg.apply(Zg,arguments)}function t_(e,t,s,r,a,i,l,o,d){if(e_.apply(this,arguments),Xr){if(Xr){var g=Uo;Xr=!1,Uo=null}else throw Error(W(198));zo||(zo=!0,Kl=g)}}function Ds(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Sf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fu(e){if(Ds(e)!==e)throw Error(W(188))}function n_(e){var t=e.alternate;if(!t){if(t=Ds(e),t===null)throw Error(W(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return fu(a),e;if(i===r)return fu(a),t;i=i.sibling}throw Error(W(188))}if(s.return!==r.return)s=a,r=i;else{for(var l=!1,o=a.child;o;){if(o===s){l=!0,s=a,r=i;break}if(o===r){l=!0,r=a,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,r=a;break}if(o===r){l=!0,r=i,s=a;break}o=o.sibling}if(!l)throw Error(W(189))}}if(s.alternate!==r)throw Error(W(190))}if(s.tag!==3)throw Error(W(188));return s.stateNode.current===s?e:t}function Nf(e){return e=n_(e),e!==null?If(e):null}function If(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=If(e);if(t!==null)return t;e=e.sibling}return null}var $f=Wt.unstable_scheduleCallback,hu=Wt.unstable_cancelCallback,s_=Wt.unstable_shouldYield,r_=Wt.unstable_requestPaint,at=Wt.unstable_now,a_=Wt.unstable_getCurrentPriorityLevel,ed=Wt.unstable_ImmediatePriority,kf=Wt.unstable_UserBlockingPriority,qo=Wt.unstable_NormalPriority,o_=Wt.unstable_LowPriority,Ef=Wt.unstable_IdlePriority,gi=null,xn=null;function i_(e){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(gi,e,void 0,(e.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:d_,l_=Math.log,c_=Math.LN2;function d_(e){return e>>>=0,e===0?32:31-(l_(e)/c_|0)|0}var no=64,so=4194304;function Yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vo(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~a;o!==0?r=Yr(o):(i&=l,i!==0&&(r=Yr(i)))}else l=s&~a,l!==0?r=Yr(l):i!==0&&(r=Yr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-dn(t),a=1<<s,r|=e[s],t&=~a;return r}function u_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m_(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-dn(i),o=1<<l,d=a[l];d===-1?(!(o&s)||o&r)&&(a[l]=u_(o,t)):d<=t&&(e.expiredLanes|=o),i&=~o}}function Jl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bf(){var e=no;return no<<=1,!(no&4194240)&&(no=64),e}function Xi(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function La(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dn(t),e[t]=s}function f_(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-dn(s),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~i}}function td(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-dn(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var Ve=0;function Rf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lf,nd,Ff,Pf,Af,Xl=!1,ro=[],es=null,ts=null,ns=null,da=new Map,ua=new Map,Yn=[],h_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pu(e,t){switch(e){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":da.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(t.pointerId)}}function Ar(e,t,s,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Pa(t),t!==null&&nd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function p_(e,t,s,r,a){switch(t){case"focusin":return es=Ar(es,e,t,s,r,a),!0;case"dragenter":return ts=Ar(ts,e,t,s,r,a),!0;case"mouseover":return ns=Ar(ns,e,t,s,r,a),!0;case"pointerover":var i=a.pointerId;return da.set(i,Ar(da.get(i)||null,e,t,s,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ua.set(i,Ar(ua.get(i)||null,e,t,s,r,a)),!0}return!1}function Df(e){var t=js(e.target);if(t!==null){var s=Ds(t);if(s!==null){if(t=s.tag,t===13){if(t=Sf(s),t!==null){e.blockedOn=t,Af(e.priority,function(){Ff(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Zl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Wl=r,s.target.dispatchEvent(r),Wl=null}else return t=Pa(s),t!==null&&nd(t),e.blockedOn=s,!1;t.shift()}return!0}function gu(e,t,s){Io(e)&&s.delete(t)}function g_(){Xl=!1,es!==null&&Io(es)&&(es=null),ts!==null&&Io(ts)&&(ts=null),ns!==null&&Io(ns)&&(ns=null),da.forEach(gu),ua.forEach(gu)}function Dr(e,t){e.blockedOn===t&&(e.blockedOn=null,Xl||(Xl=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,g_)))}function ma(e){function t(a){return Dr(a,e)}if(0<ro.length){Dr(ro[0],e);for(var s=1;s<ro.length;s++){var r=ro[s];r.blockedOn===e&&(r.blockedOn=null)}}for(es!==null&&Dr(es,e),ts!==null&&Dr(ts,e),ns!==null&&Dr(ns,e),da.forEach(t),ua.forEach(t),s=0;s<Yn.length;s++)r=Yn[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yn.length&&(s=Yn[0],s.blockedOn===null);)Df(s),s.blockedOn===null&&Yn.shift()}var ar=Tn.ReactCurrentBatchConfig,Ho=!0;function __(e,t,s,r){var a=Ve,i=ar.transition;ar.transition=null;try{Ve=1,sd(e,t,s,r)}finally{Ve=a,ar.transition=i}}function v_(e,t,s,r){var a=Ve,i=ar.transition;ar.transition=null;try{Ve=4,sd(e,t,s,r)}finally{Ve=a,ar.transition=i}}function sd(e,t,s,r){if(Ho){var a=Zl(e,t,s,r);if(a===null)ll(e,t,r,Go,s),pu(e,r);else if(p_(a,e,t,s,r))r.stopPropagation();else if(pu(e,r),t&4&&-1<h_.indexOf(e)){for(;a!==null;){var i=Pa(a);if(i!==null&&Lf(i),i=Zl(e,t,s,r),i===null&&ll(e,t,r,Go,s),i===a)break;a=i}a!==null&&r.stopPropagation()}else ll(e,t,r,null,s)}}var Go=null;function Zl(e,t,s,r){if(Go=null,e=Zc(r),e=js(e),e!==null)if(t=Ds(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Sf(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Go=e,null}function Tf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a_()){case ed:return 1;case kf:return 4;case qo:case o_:return 16;case Ef:return 536870912;default:return 16}default:return 16}}var Kn=null,rd=null,$o=null;function Of(){if($o)return $o;var e,t=rd,s=t.length,r,a="value"in Kn?Kn.value:Kn.textContent,i=a.length;for(e=0;e<s&&t[e]===a[e];e++);var l=s-e;for(r=1;r<=l&&t[s-r]===a[i-r];r++);return $o=a.slice(e,1<r?1-r:void 0)}function ko(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ao(){return!0}function _u(){return!1}function Qt(e){function t(s,r,a,i,l){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ao:_u,this.isPropagationStopped=_u,this}return nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ao)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ao)},persist:function(){},isPersistent:ao}),t}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ad=Qt(_r),Fa=nt({},_r,{view:0,detail:0}),y_=Qt(Fa),Zi,el,Tr,_i=nt({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tr&&(Tr&&e.type==="mousemove"?(Zi=e.screenX-Tr.screenX,el=e.screenY-Tr.screenY):el=Zi=0,Tr=e),Zi)},movementY:function(e){return"movementY"in e?e.movementY:el}}),vu=Qt(_i),x_=nt({},_i,{dataTransfer:0}),b_=Qt(x_),j_=nt({},Fa,{relatedTarget:0}),tl=Qt(j_),w_=nt({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),C_=Qt(w_),S_=nt({},_r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),N_=Qt(S_),I_=nt({},_r,{data:0}),yu=Qt(I_),$_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=E_[e])?!!t[e]:!1}function od(){return B_}var R_=nt({},Fa,{key:function(e){if(e.key){var t=$_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ko(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?k_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(e){return e.type==="keypress"?ko(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ko(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L_=Qt(R_),F_=nt({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xu=Qt(F_),P_=nt({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),A_=Qt(P_),D_=nt({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),T_=Qt(D_),O_=nt({},_i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M_=Qt(O_),U_=[9,13,27,32],id=Rn&&"CompositionEvent"in window,Zr=null;Rn&&"documentMode"in document&&(Zr=document.documentMode);var z_=Rn&&"TextEvent"in window&&!Zr,Mf=Rn&&(!id||Zr&&8<Zr&&11>=Zr),bu=" ",ju=!1;function Uf(e,t){switch(e){case"keyup":return U_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gs=!1;function q_(e,t){switch(e){case"compositionend":return zf(t);case"keypress":return t.which!==32?null:(ju=!0,bu);case"textInput":return e=t.data,e===bu&&ju?null:e;default:return null}}function V_(e,t){if(Gs)return e==="compositionend"||!id&&Uf(e,t)?(e=Of(),$o=rd=Kn=null,Gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mf&&t.locale!=="ko"?null:t.data;default:return null}}var H_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H_[e.type]:t==="textarea"}function qf(e,t,s,r){xf(r),t=Wo(t,"onChange"),0<t.length&&(s=new ad("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var ea=null,fa=null;function G_(e){eh(e,0)}function vi(e){var t=Qs(e);if(ff(t))return e}function W_(e,t){if(e==="change")return t}var Vf=!1;if(Rn){var nl;if(Rn){var sl="oninput"in document;if(!sl){var Cu=document.createElement("div");Cu.setAttribute("oninput","return;"),sl=typeof Cu.oninput=="function"}nl=sl}else nl=!1;Vf=nl&&(!document.documentMode||9<document.documentMode)}function Su(){ea&&(ea.detachEvent("onpropertychange",Hf),fa=ea=null)}function Hf(e){if(e.propertyName==="value"&&vi(fa)){var t=[];qf(t,fa,e,Zc(e)),Cf(G_,t)}}function Y_(e,t,s){e==="focusin"?(Su(),ea=t,fa=s,ea.attachEvent("onpropertychange",Hf)):e==="focusout"&&Su()}function Q_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vi(fa)}function K_(e,t){if(e==="click")return vi(t)}function J_(e,t){if(e==="input"||e==="change")return vi(t)}function X_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fn=typeof Object.is=="function"?Object.is:X_;function ha(e,t){if(fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!Pl.call(t,a)||!fn(e[a],t[a]))return!1}return!0}function Nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Iu(e,t){var s=Nu(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Nu(s)}}function Gf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wf(){for(var e=window,t=Mo();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Mo(e.document)}return t}function ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Z_(e){var t=Wf(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Gf(s.ownerDocument.documentElement,s)){if(r!==null&&ld(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=Iu(s,i);var l=Iu(s,r);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ev=Rn&&"documentMode"in document&&11>=document.documentMode,Ws=null,ec=null,ta=null,tc=!1;function $u(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;tc||Ws==null||Ws!==Mo(r)||(r=Ws,"selectionStart"in r&&ld(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ta&&ha(ta,r)||(ta=r,r=Wo(ec,"onSelect"),0<r.length&&(t=new ad("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Ws)))}function oo(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ys={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionend:oo("Transition","TransitionEnd")},rl={},Yf={};Rn&&(Yf=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function yi(e){if(rl[e])return rl[e];if(!Ys[e])return e;var t=Ys[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Yf)return rl[e]=t[s];return e}var Qf=yi("animationend"),Kf=yi("animationiteration"),Jf=yi("animationstart"),Xf=yi("transitionend"),Zf=new Map,ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(e,t){Zf.set(e,t),As(t,[e])}for(var al=0;al<ku.length;al++){var ol=ku[al],tv=ol.toLowerCase(),nv=ol[0].toUpperCase()+ol.slice(1);us(tv,"on"+nv)}us(Qf,"onAnimationEnd");us(Kf,"onAnimationIteration");us(Jf,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(Xf,"onTransitionEnd");cr("onMouseEnter",["mouseout","mouseover"]);cr("onMouseLeave",["mouseout","mouseover"]);cr("onPointerEnter",["pointerout","pointerover"]);cr("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qr));function Eu(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,t_(r,t,void 0,e),e.currentTarget=null}function eh(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],d=o.instance,g=o.currentTarget;if(o=o.listener,d!==i&&a.isPropagationStopped())break e;Eu(a,o,g),i=d}else for(l=0;l<r.length;l++){if(o=r[l],d=o.instance,g=o.currentTarget,o=o.listener,d!==i&&a.isPropagationStopped())break e;Eu(a,o,g),i=d}}}if(zo)throw e=Kl,zo=!1,Kl=null,e}function Ye(e,t){var s=t[oc];s===void 0&&(s=t[oc]=new Set);var r=e+"__bubble";s.has(r)||(th(t,e,2,!1),s.add(r))}function il(e,t,s){var r=0;t&&(r|=4),th(s,e,r,t)}var io="_reactListening"+Math.random().toString(36).slice(2);function pa(e){if(!e[io]){e[io]=!0,lf.forEach(function(s){s!=="selectionchange"&&(sv.has(s)||il(s,!1,e),il(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[io]||(t[io]=!0,il("selectionchange",!1,t))}}function th(e,t,s,r){switch(Tf(t)){case 1:var a=__;break;case 4:a=v_;break;default:a=sd}s=a.bind(null,t,s,e),a=void 0,!Ql||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function ll(e,t,s,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;l=l.return}for(;o!==null;){if(l=js(o),l===null)return;if(d=l.tag,d===5||d===6){r=i=l;continue e}o=o.parentNode}}r=r.return}Cf(function(){var g=i,v=Zc(s),c=[];e:{var h=Zf.get(e);if(h!==void 0){var _=ad,f=e;switch(e){case"keypress":if(ko(s)===0)break e;case"keydown":case"keyup":_=L_;break;case"focusin":f="focus",_=tl;break;case"focusout":f="blur",_=tl;break;case"beforeblur":case"afterblur":_=tl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=b_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=A_;break;case Qf:case Kf:case Jf:_=C_;break;case Xf:_=T_;break;case"scroll":_=y_;break;case"wheel":_=M_;break;case"copy":case"cut":case"paste":_=N_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=xu}var m=(t&4)!==0,y=!m&&e==="scroll",u=m?h!==null?h+"Capture":null:h;m=[];for(var p=g,x;p!==null;){x=p;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,u!==null&&(w=ca(p,u),w!=null&&m.push(ga(p,w,x)))),y)break;p=p.return}0<m.length&&(h=new _(h,f,null,s,v),c.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",h&&s!==Wl&&(f=s.relatedTarget||s.fromElement)&&(js(f)||f[Ln]))break e;if((_||h)&&(h=v.window===v?v:(h=v.ownerDocument)?h.defaultView||h.parentWindow:window,_?(f=s.relatedTarget||s.toElement,_=g,f=f?js(f):null,f!==null&&(y=Ds(f),f!==y||f.tag!==5&&f.tag!==6)&&(f=null)):(_=null,f=g),_!==f)){if(m=vu,w="onMouseLeave",u="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(m=xu,w="onPointerLeave",u="onPointerEnter",p="pointer"),y=_==null?h:Qs(_),x=f==null?h:Qs(f),h=new m(w,p+"leave",_,s,v),h.target=y,h.relatedTarget=x,w=null,js(v)===g&&(m=new m(u,p+"enter",f,s,v),m.target=x,m.relatedTarget=y,w=m),y=w,_&&f)t:{for(m=_,u=f,p=0,x=m;x;x=Us(x))p++;for(x=0,w=u;w;w=Us(w))x++;for(;0<p-x;)m=Us(m),p--;for(;0<x-p;)u=Us(u),x--;for(;p--;){if(m===u||u!==null&&m===u.alternate)break t;m=Us(m),u=Us(u)}m=null}else m=null;_!==null&&Bu(c,h,_,m,!1),f!==null&&y!==null&&Bu(c,y,f,m,!0)}}e:{if(h=g?Qs(g):window,_=h.nodeName&&h.nodeName.toLowerCase(),_==="select"||_==="input"&&h.type==="file")var I=W_;else if(wu(h))if(Vf)I=J_;else{I=Q_;var $=Y_}else(_=h.nodeName)&&_.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=K_);if(I&&(I=I(e,g))){qf(c,I,s,v);break e}$&&$(e,h,g),e==="focusout"&&($=h._wrapperState)&&$.controlled&&h.type==="number"&&zl(h,"number",h.value)}switch($=g?Qs(g):window,e){case"focusin":(wu($)||$.contentEditable==="true")&&(Ws=$,ec=g,ta=null);break;case"focusout":ta=ec=Ws=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,$u(c,s,v);break;case"selectionchange":if(ev)break;case"keydown":case"keyup":$u(c,s,v)}var N;if(id)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gs?Uf(e,s)&&(b="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(b="onCompositionStart");b&&(Mf&&s.locale!=="ko"&&(Gs||b!=="onCompositionStart"?b==="onCompositionEnd"&&Gs&&(N=Of()):(Kn=v,rd="value"in Kn?Kn.value:Kn.textContent,Gs=!0)),$=Wo(g,b),0<$.length&&(b=new yu(b,e,null,s,v),c.push({event:b,listeners:$}),N?b.data=N:(N=zf(s),N!==null&&(b.data=N)))),(N=z_?q_(e,s):V_(e,s))&&(g=Wo(g,"onBeforeInput"),0<g.length&&(v=new yu("onBeforeInput","beforeinput",null,s,v),c.push({event:v,listeners:g}),v.data=N))}eh(c,t)})}function ga(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Wo(e,t){for(var s=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ca(e,s),i!=null&&r.unshift(ga(e,i,a)),i=ca(e,t),i!=null&&r.push(ga(e,i,a))),e=e.return}return r}function Us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bu(e,t,s,r,a){for(var i=t._reactName,l=[];s!==null&&s!==r;){var o=s,d=o.alternate,g=o.stateNode;if(d!==null&&d===r)break;o.tag===5&&g!==null&&(o=g,a?(d=ca(s,i),d!=null&&l.unshift(ga(s,d,o))):a||(d=ca(s,i),d!=null&&l.push(ga(s,d,o)))),s=s.return}l.length!==0&&e.push({event:t,listeners:l})}var rv=/\r\n?/g,av=/\u0000|\uFFFD/g;function Ru(e){return(typeof e=="string"?e:""+e).replace(rv,`
`).replace(av,"")}function lo(e,t,s){if(t=Ru(t),Ru(e)!==t&&s)throw Error(W(425))}function Yo(){}var nc=null,sc=null;function rc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ac=typeof setTimeout=="function"?setTimeout:void 0,ov=typeof clearTimeout=="function"?clearTimeout:void 0,Lu=typeof Promise=="function"?Promise:void 0,iv=typeof queueMicrotask=="function"?queueMicrotask:typeof Lu<"u"?function(e){return Lu.resolve(null).then(e).catch(lv)}:ac;function lv(e){setTimeout(function(){throw e})}function cl(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),ma(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);ma(t)}function ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var vr=Math.random().toString(36).slice(2),yn="__reactFiber$"+vr,_a="__reactProps$"+vr,Ln="__reactContainer$"+vr,oc="__reactEvents$"+vr,cv="__reactListeners$"+vr,dv="__reactHandles$"+vr;function js(e){var t=e[yn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ln]||s[yn]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Fu(e);e!==null;){if(s=e[yn])return s;e=Fu(e)}return t}e=s,s=e.parentNode}return null}function Pa(e){return e=e[yn]||e[Ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function xi(e){return e[_a]||null}var ic=[],Ks=-1;function ms(e){return{current:e}}function Qe(e){0>Ks||(e.current=ic[Ks],ic[Ks]=null,Ks--)}function We(e,t){Ks++,ic[Ks]=e.current,e.current=t}var ds={},St=ms(ds),Dt=ms(!1),Es=ds;function dr(e,t){var s=e.type.contextTypes;if(!s)return ds;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Tt(e){return e=e.childContextTypes,e!=null}function Qo(){Qe(Dt),Qe(St)}function Pu(e,t,s){if(St.current!==ds)throw Error(W(168));We(St,t),We(Dt,s)}function nh(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(W(108,Yg(e)||"Unknown",a));return nt({},s,r)}function Ko(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ds,Es=St.current,We(St,e),We(Dt,Dt.current),!0}function Au(e,t,s){var r=e.stateNode;if(!r)throw Error(W(169));s?(e=nh(e,t,Es),r.__reactInternalMemoizedMergedChildContext=e,Qe(Dt),Qe(St),We(St,e)):Qe(Dt),We(Dt,s)}var In=null,bi=!1,dl=!1;function sh(e){In===null?In=[e]:In.push(e)}function uv(e){bi=!0,sh(e)}function fs(){if(!dl&&In!==null){dl=!0;var e=0,t=Ve;try{var s=In;for(Ve=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}In=null,bi=!1}catch(a){throw In!==null&&(In=In.slice(e+1)),$f(ed,fs),a}finally{Ve=t,dl=!1}}return null}var Js=[],Xs=0,Jo=null,Xo=0,Zt=[],en=0,Bs=null,$n=1,kn="";function xs(e,t){Js[Xs++]=Xo,Js[Xs++]=Jo,Jo=e,Xo=t}function rh(e,t,s){Zt[en++]=$n,Zt[en++]=kn,Zt[en++]=Bs,Bs=e;var r=$n;e=kn;var a=32-dn(r)-1;r&=~(1<<a),s+=1;var i=32-dn(t)+a;if(30<i){var l=a-a%5;i=(r&(1<<l)-1).toString(32),r>>=l,a-=l,$n=1<<32-dn(t)+a|s<<a|r,kn=i+e}else $n=1<<i|s<<a|r,kn=e}function cd(e){e.return!==null&&(xs(e,1),rh(e,1,0))}function dd(e){for(;e===Jo;)Jo=Js[--Xs],Js[Xs]=null,Xo=Js[--Xs],Js[Xs]=null;for(;e===Bs;)Bs=Zt[--en],Zt[en]=null,kn=Zt[--en],Zt[en]=null,$n=Zt[--en],Zt[en]=null}var Ht=null,zt=null,Je=!1,cn=null;function ah(e,t){var s=tn(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Du(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ht=e,zt=ss(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ht=e,zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Bs!==null?{id:$n,overflow:kn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=tn(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Ht=e,zt=null,!0):!1;default:return!1}}function lc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cc(e){if(Je){var t=zt;if(t){var s=t;if(!Du(e,t)){if(lc(e))throw Error(W(418));t=ss(s.nextSibling);var r=Ht;t&&Du(e,t)?ah(r,s):(e.flags=e.flags&-4097|2,Je=!1,Ht=e)}}else{if(lc(e))throw Error(W(418));e.flags=e.flags&-4097|2,Je=!1,Ht=e}}}function Tu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ht=e}function co(e){if(e!==Ht)return!1;if(!Je)return Tu(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rc(e.type,e.memoizedProps)),t&&(t=zt)){if(lc(e))throw oh(),Error(W(418));for(;t;)ah(e,t),t=ss(t.nextSibling)}if(Tu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){zt=ss(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}zt=null}}else zt=Ht?ss(e.stateNode.nextSibling):null;return!0}function oh(){for(var e=zt;e;)e=ss(e.nextSibling)}function ur(){zt=Ht=null,Je=!1}function ud(e){cn===null?cn=[e]:cn.push(e)}var mv=Tn.ReactCurrentBatchConfig;function Or(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(W(309));var r=s.stateNode}if(!r)throw Error(W(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(W(284));if(!s._owner)throw Error(W(290,e))}return e}function uo(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ou(e){var t=e._init;return t(e._payload)}function ih(e){function t(u,p){if(e){var x=u.deletions;x===null?(u.deletions=[p],u.flags|=16):x.push(p)}}function s(u,p){if(!e)return null;for(;p!==null;)t(u,p),p=p.sibling;return null}function r(u,p){for(u=new Map;p!==null;)p.key!==null?u.set(p.key,p):u.set(p.index,p),p=p.sibling;return u}function a(u,p){return u=is(u,p),u.index=0,u.sibling=null,u}function i(u,p,x){return u.index=x,e?(x=u.alternate,x!==null?(x=x.index,x<p?(u.flags|=2,p):x):(u.flags|=2,p)):(u.flags|=1048576,p)}function l(u){return e&&u.alternate===null&&(u.flags|=2),u}function o(u,p,x,w){return p===null||p.tag!==6?(p=_l(x,u.mode,w),p.return=u,p):(p=a(p,x),p.return=u,p)}function d(u,p,x,w){var I=x.type;return I===Hs?v(u,p,x.props.children,w,x.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Hn&&Ou(I)===p.type)?(w=a(p,x.props),w.ref=Or(u,p,x),w.return=u,w):(w=Ao(x.type,x.key,x.props,null,u.mode,w),w.ref=Or(u,p,x),w.return=u,w)}function g(u,p,x,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=vl(x,u.mode,w),p.return=u,p):(p=a(p,x.children||[]),p.return=u,p)}function v(u,p,x,w,I){return p===null||p.tag!==7?(p=Is(x,u.mode,w,I),p.return=u,p):(p=a(p,x),p.return=u,p)}function c(u,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=_l(""+p,u.mode,x),p.return=u,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Za:return x=Ao(p.type,p.key,p.props,null,u.mode,x),x.ref=Or(u,null,p),x.return=u,x;case Vs:return p=vl(p,u.mode,x),p.return=u,p;case Hn:var w=p._init;return c(u,w(p._payload),x)}if(Wr(p)||Fr(p))return p=Is(p,u.mode,x,null),p.return=u,p;uo(u,p)}return null}function h(u,p,x,w){var I=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:o(u,p,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Za:return x.key===I?d(u,p,x,w):null;case Vs:return x.key===I?g(u,p,x,w):null;case Hn:return I=x._init,h(u,p,I(x._payload),w)}if(Wr(x)||Fr(x))return I!==null?null:v(u,p,x,w,null);uo(u,x)}return null}function _(u,p,x,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return u=u.get(x)||null,o(p,u,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Za:return u=u.get(w.key===null?x:w.key)||null,d(p,u,w,I);case Vs:return u=u.get(w.key===null?x:w.key)||null,g(p,u,w,I);case Hn:var $=w._init;return _(u,p,x,$(w._payload),I)}if(Wr(w)||Fr(w))return u=u.get(x)||null,v(p,u,w,I,null);uo(p,w)}return null}function f(u,p,x,w){for(var I=null,$=null,N=p,b=p=0,C=null;N!==null&&b<x.length;b++){N.index>b?(C=N,N=null):C=N.sibling;var S=h(u,N,x[b],w);if(S===null){N===null&&(N=C);break}e&&N&&S.alternate===null&&t(u,N),p=i(S,p,b),$===null?I=S:$.sibling=S,$=S,N=C}if(b===x.length)return s(u,N),Je&&xs(u,b),I;if(N===null){for(;b<x.length;b++)N=c(u,x[b],w),N!==null&&(p=i(N,p,b),$===null?I=N:$.sibling=N,$=N);return Je&&xs(u,b),I}for(N=r(u,N);b<x.length;b++)C=_(N,u,b,x[b],w),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?b:C.key),p=i(C,p,b),$===null?I=C:$.sibling=C,$=C);return e&&N.forEach(function(k){return t(u,k)}),Je&&xs(u,b),I}function m(u,p,x,w){var I=Fr(x);if(typeof I!="function")throw Error(W(150));if(x=I.call(x),x==null)throw Error(W(151));for(var $=I=null,N=p,b=p=0,C=null,S=x.next();N!==null&&!S.done;b++,S=x.next()){N.index>b?(C=N,N=null):C=N.sibling;var k=h(u,N,S.value,w);if(k===null){N===null&&(N=C);break}e&&N&&k.alternate===null&&t(u,N),p=i(k,p,b),$===null?I=k:$.sibling=k,$=k,N=C}if(S.done)return s(u,N),Je&&xs(u,b),I;if(N===null){for(;!S.done;b++,S=x.next())S=c(u,S.value,w),S!==null&&(p=i(S,p,b),$===null?I=S:$.sibling=S,$=S);return Je&&xs(u,b),I}for(N=r(u,N);!S.done;b++,S=x.next())S=_(N,u,b,S.value,w),S!==null&&(e&&S.alternate!==null&&N.delete(S.key===null?b:S.key),p=i(S,p,b),$===null?I=S:$.sibling=S,$=S);return e&&N.forEach(function(B){return t(u,B)}),Je&&xs(u,b),I}function y(u,p,x,w){if(typeof x=="object"&&x!==null&&x.type===Hs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Za:e:{for(var I=x.key,$=p;$!==null;){if($.key===I){if(I=x.type,I===Hs){if($.tag===7){s(u,$.sibling),p=a($,x.props.children),p.return=u,u=p;break e}}else if($.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Hn&&Ou(I)===$.type){s(u,$.sibling),p=a($,x.props),p.ref=Or(u,$,x),p.return=u,u=p;break e}s(u,$);break}else t(u,$);$=$.sibling}x.type===Hs?(p=Is(x.props.children,u.mode,w,x.key),p.return=u,u=p):(w=Ao(x.type,x.key,x.props,null,u.mode,w),w.ref=Or(u,p,x),w.return=u,u=w)}return l(u);case Vs:e:{for($=x.key;p!==null;){if(p.key===$)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){s(u,p.sibling),p=a(p,x.children||[]),p.return=u,u=p;break e}else{s(u,p);break}else t(u,p);p=p.sibling}p=vl(x,u.mode,w),p.return=u,u=p}return l(u);case Hn:return $=x._init,y(u,p,$(x._payload),w)}if(Wr(x))return f(u,p,x,w);if(Fr(x))return m(u,p,x,w);uo(u,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(s(u,p.sibling),p=a(p,x),p.return=u,u=p):(s(u,p),p=_l(x,u.mode,w),p.return=u,u=p),l(u)):s(u,p)}return y}var mr=ih(!0),lh=ih(!1),Zo=ms(null),ei=null,Zs=null,md=null;function fd(){md=Zs=ei=null}function hd(e){var t=Zo.current;Qe(Zo),e._currentValue=t}function dc(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function or(e,t){ei=e,md=Zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function sn(e){var t=e._currentValue;if(md!==e)if(e={context:e,memoizedValue:t,next:null},Zs===null){if(ei===null)throw Error(W(308));Zs=e,ei.dependencies={lanes:0,firstContext:e}}else Zs=Zs.next=e;return t}var ws=null;function pd(e){ws===null?ws=[e]:ws.push(e)}function ch(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,pd(t)):(s.next=a.next,a.next=s),t.interleaved=s,Fn(e,r)}function Fn(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Gn=!1;function gd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function En(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rs(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Fn(e,s)}return a=r.interleaved,a===null?(t.next=t,pd(r)):(t.next=a.next,a.next=t),r.interleaved=t,Fn(e,s)}function Eo(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,td(e,s)}}function Mu(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?a=i=t:i=i.next=t}else a=i=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function ti(e,t,s,r){var a=e.updateQueue;Gn=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var d=o,g=d.next;d.next=null,l===null?i=g:l.next=g,l=d;var v=e.alternate;v!==null&&(v=v.updateQueue,o=v.lastBaseUpdate,o!==l&&(o===null?v.firstBaseUpdate=g:o.next=g,v.lastBaseUpdate=d))}if(i!==null){var c=a.baseState;l=0,v=g=d=null,o=i;do{var h=o.lane,_=o.eventTime;if((r&h)===h){v!==null&&(v=v.next={eventTime:_,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(h=t,_=s,m.tag){case 1:if(f=m.payload,typeof f=="function"){c=f.call(_,c,h);break e}c=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=m.payload,h=typeof f=="function"?f.call(_,c,h):f,h==null)break e;c=nt({},c,h);break e;case 2:Gn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else _={eventTime:_,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},v===null?(g=v=_,d=c):v=v.next=_,l|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(v===null&&(d=c),a.baseState=d,a.firstBaseUpdate=g,a.lastBaseUpdate=v,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ls|=l,e.lanes=l,e.memoizedState=c}}function Uu(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(W(191,a));a.call(r)}}}var Aa={},bn=ms(Aa),va=ms(Aa),ya=ms(Aa);function Cs(e){if(e===Aa)throw Error(W(174));return e}function _d(e,t){switch(We(ya,t),We(va,e),We(bn,Aa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vl(t,e)}Qe(bn),We(bn,t)}function fr(){Qe(bn),Qe(va),Qe(ya)}function uh(e){Cs(ya.current);var t=Cs(bn.current),s=Vl(t,e.type);t!==s&&(We(va,e),We(bn,s))}function vd(e){va.current===e&&(Qe(bn),Qe(va))}var et=ms(0);function ni(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=[];function yd(){for(var e=0;e<ul.length;e++)ul[e]._workInProgressVersionPrimary=null;ul.length=0}var Bo=Tn.ReactCurrentDispatcher,ml=Tn.ReactCurrentBatchConfig,Rs=0,tt=null,ct=null,ft=null,si=!1,na=!1,xa=0,fv=0;function jt(){throw Error(W(321))}function xd(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!fn(e[s],t[s]))return!1;return!0}function bd(e,t,s,r,a,i){if(Rs=i,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bo.current=e===null||e.memoizedState===null?_v:vv,e=s(r,a),na){i=0;do{if(na=!1,xa=0,25<=i)throw Error(W(301));i+=1,ft=ct=null,t.updateQueue=null,Bo.current=yv,e=s(r,a)}while(na)}if(Bo.current=ri,t=ct!==null&&ct.next!==null,Rs=0,ft=ct=tt=null,si=!1,t)throw Error(W(300));return e}function jd(){var e=xa!==0;return xa=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?tt.memoizedState=ft=e:ft=ft.next=e,ft}function rn(){if(ct===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=ft===null?tt.memoizedState:ft.next;if(t!==null)ft=t,ct=e;else{if(e===null)throw Error(W(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},ft===null?tt.memoizedState=ft=e:ft=ft.next=e}return ft}function ba(e,t){return typeof t=="function"?t(e):t}function fl(e){var t=rn(),s=t.queue;if(s===null)throw Error(W(311));s.lastRenderedReducer=e;var r=ct,a=r.baseQueue,i=s.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,r=r.baseState;var o=l=null,d=null,g=i;do{var v=g.lane;if((Rs&v)===v)d!==null&&(d=d.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var c={lane:v,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};d===null?(o=d=c,l=r):d=d.next=c,tt.lanes|=v,Ls|=v}g=g.next}while(g!==null&&g!==i);d===null?l=r:d.next=o,fn(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=d,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do i=a.lane,tt.lanes|=i,Ls|=i,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function hl(e){var t=rn(),s=t.queue;if(s===null)throw Error(W(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,i=t.memoizedState;if(a!==null){s.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);fn(i,t.memoizedState)||(At=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,r]}function mh(){}function fh(e,t){var s=tt,r=rn(),a=t(),i=!fn(r.memoizedState,a);if(i&&(r.memoizedState=a,At=!0),r=r.queue,wd(gh.bind(null,s,r,e),[e]),r.getSnapshot!==t||i||ft!==null&&ft.memoizedState.tag&1){if(s.flags|=2048,ja(9,ph.bind(null,s,r,a,t),void 0,null),ht===null)throw Error(W(349));Rs&30||hh(s,t,a)}return a}function hh(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function ph(e,t,s,r){t.value=s,t.getSnapshot=r,_h(t)&&vh(e)}function gh(e,t,s){return s(function(){_h(t)&&vh(e)})}function _h(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!fn(e,s)}catch{return!0}}function vh(e){var t=Fn(e,1);t!==null&&un(t,e,1,-1)}function zu(e){var t=vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=gv.bind(null,tt,e),[t.memoizedState,e]}function ja(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function yh(){return rn().memoizedState}function Ro(e,t,s,r){var a=vn();tt.flags|=e,a.memoizedState=ja(1|t,s,void 0,r===void 0?null:r)}function ji(e,t,s,r){var a=rn();r=r===void 0?null:r;var i=void 0;if(ct!==null){var l=ct.memoizedState;if(i=l.destroy,r!==null&&xd(r,l.deps)){a.memoizedState=ja(t,s,i,r);return}}tt.flags|=e,a.memoizedState=ja(1|t,s,i,r)}function qu(e,t){return Ro(8390656,8,e,t)}function wd(e,t){return ji(2048,8,e,t)}function xh(e,t){return ji(4,2,e,t)}function bh(e,t){return ji(4,4,e,t)}function jh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wh(e,t,s){return s=s!=null?s.concat([e]):null,ji(4,4,jh.bind(null,t,e),s)}function Cd(){}function Ch(e,t){var s=rn();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&xd(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Sh(e,t){var s=rn();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&xd(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Nh(e,t,s){return Rs&21?(fn(s,t)||(s=Bf(),tt.lanes|=s,Ls|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=s)}function hv(e,t){var s=Ve;Ve=s!==0&&4>s?s:4,e(!0);var r=ml.transition;ml.transition={};try{e(!1),t()}finally{Ve=s,ml.transition=r}}function Ih(){return rn().memoizedState}function pv(e,t,s){var r=os(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},$h(e))kh(t,s);else if(s=ch(e,t,s,r),s!==null){var a=kt();un(s,e,r,a),Eh(s,t,r)}}function gv(e,t,s){var r=os(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if($h(e))kh(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,s);if(a.hasEagerState=!0,a.eagerState=o,fn(o,l)){var d=t.interleaved;d===null?(a.next=a,pd(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}s=ch(e,t,a,r),s!==null&&(a=kt(),un(s,e,r,a),Eh(s,t,r))}}function $h(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function kh(e,t){na=si=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Eh(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,td(e,s)}}var ri={readContext:sn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},_v={readContext:sn,useCallback:function(e,t){return vn().memoizedState=[e,t===void 0?null:t],e},useContext:sn,useEffect:qu,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ro(4194308,4,jh.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var s=vn();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=vn();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pv.bind(null,tt,e),[r.memoizedState,e]},useRef:function(e){var t=vn();return e={current:e},t.memoizedState=e},useState:zu,useDebugValue:Cd,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=zu(!1),t=e[0];return e=hv.bind(null,e[1]),vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=tt,a=vn();if(Je){if(s===void 0)throw Error(W(407));s=s()}else{if(s=t(),ht===null)throw Error(W(349));Rs&30||hh(r,t,s)}a.memoizedState=s;var i={value:s,getSnapshot:t};return a.queue=i,qu(gh.bind(null,r,i,e),[e]),r.flags|=2048,ja(9,ph.bind(null,r,i,s,t),void 0,null),s},useId:function(){var e=vn(),t=ht.identifierPrefix;if(Je){var s=kn,r=$n;s=(r&~(1<<32-dn(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=xa++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=fv++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vv={readContext:sn,useCallback:Ch,useContext:sn,useEffect:wd,useImperativeHandle:wh,useInsertionEffect:xh,useLayoutEffect:bh,useMemo:Sh,useReducer:fl,useRef:yh,useState:function(){return fl(ba)},useDebugValue:Cd,useDeferredValue:function(e){var t=rn();return Nh(t,ct.memoizedState,e)},useTransition:function(){var e=fl(ba)[0],t=rn().memoizedState;return[e,t]},useMutableSource:mh,useSyncExternalStore:fh,useId:Ih,unstable_isNewReconciler:!1},yv={readContext:sn,useCallback:Ch,useContext:sn,useEffect:wd,useImperativeHandle:wh,useInsertionEffect:xh,useLayoutEffect:bh,useMemo:Sh,useReducer:hl,useRef:yh,useState:function(){return hl(ba)},useDebugValue:Cd,useDeferredValue:function(e){var t=rn();return ct===null?t.memoizedState=e:Nh(t,ct.memoizedState,e)},useTransition:function(){var e=hl(ba)[0],t=rn().memoizedState;return[e,t]},useMutableSource:mh,useSyncExternalStore:fh,useId:Ih,unstable_isNewReconciler:!1};function on(e,t){if(e&&e.defaultProps){t=nt({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function uc(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:nt({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var wi={isMounted:function(e){return(e=e._reactInternals)?Ds(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=kt(),a=os(e),i=En(r,a);i.payload=t,s!=null&&(i.callback=s),t=rs(e,i,a),t!==null&&(un(t,e,a,r),Eo(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=kt(),a=os(e),i=En(r,a);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=rs(e,i,a),t!==null&&(un(t,e,a,r),Eo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=kt(),r=os(e),a=En(s,r);a.tag=2,t!=null&&(a.callback=t),t=rs(e,a,r),t!==null&&(un(t,e,r,s),Eo(t,e,r))}};function Vu(e,t,s,r,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!ha(s,r)||!ha(a,i):!0}function Bh(e,t,s){var r=!1,a=ds,i=t.contextType;return typeof i=="object"&&i!==null?i=sn(i):(a=Tt(t)?Es:St.current,r=t.contextTypes,i=(r=r!=null)?dr(e,a):ds),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hu(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&wi.enqueueReplaceState(t,t.state,null)}function mc(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},gd(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=sn(i):(i=Tt(t)?Es:St.current,a.context=dr(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(uc(e,t,i,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&wi.enqueueReplaceState(a,a.state,null),ti(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function hr(e,t){try{var s="",r=t;do s+=Wg(r),r=r.return;while(r);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function pl(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function fc(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var xv=typeof WeakMap=="function"?WeakMap:Map;function Rh(e,t,s){s=En(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){oi||(oi=!0,wc=r),fc(e,t)},s}function Lh(e,t,s){s=En(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){fc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){fc(e,t),typeof r!="function"&&(as===null?as=new Set([this]):as.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),s}function Gu(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new xv;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=Fv.bind(null,e,t,s),t.then(e,e))}function Wu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yu(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=En(-1,1),t.tag=2,rs(s,t,1))),s.lanes|=1),e)}var bv=Tn.ReactCurrentOwner,At=!1;function It(e,t,s,r){t.child=e===null?lh(t,null,s,r):mr(t,e.child,s,r)}function Qu(e,t,s,r,a){s=s.render;var i=t.ref;return or(t,a),r=bd(e,t,s,r,i,a),s=jd(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pn(e,t,a)):(Je&&s&&cd(t),t.flags|=1,It(e,t,r,a),t.child)}function Ku(e,t,s,r,a){if(e===null){var i=s.type;return typeof i=="function"&&!Rd(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,Fh(e,t,i,r,a)):(e=Ao(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:ha,s(l,r)&&e.ref===t.ref)return Pn(e,t,a)}return t.flags|=1,e=is(i,r),e.ref=t.ref,e.return=t,t.child=e}function Fh(e,t,s,r,a){if(e!==null){var i=e.memoizedProps;if(ha(i,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,Pn(e,t,a)}return hc(e,t,s,r,a)}function Ph(e,t,s){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(tr,Ut),Ut|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(tr,Ut),Ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:s,We(tr,Ut),Ut|=r}else i!==null?(r=i.baseLanes|s,t.memoizedState=null):r=s,We(tr,Ut),Ut|=r;return It(e,t,a,s),t.child}function Ah(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function hc(e,t,s,r,a){var i=Tt(s)?Es:St.current;return i=dr(t,i),or(t,a),s=bd(e,t,s,r,i,a),r=jd(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pn(e,t,a)):(Je&&r&&cd(t),t.flags|=1,It(e,t,s,a),t.child)}function Ju(e,t,s,r,a){if(Tt(s)){var i=!0;Ko(t)}else i=!1;if(or(t,a),t.stateNode===null)Lo(e,t),Bh(t,s,r),mc(t,s,r,a),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var d=l.context,g=s.contextType;typeof g=="object"&&g!==null?g=sn(g):(g=Tt(s)?Es:St.current,g=dr(t,g));var v=s.getDerivedStateFromProps,c=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function";c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||d!==g)&&Hu(t,l,r,g),Gn=!1;var h=t.memoizedState;l.state=h,ti(t,r,l,a),d=t.memoizedState,o!==r||h!==d||Dt.current||Gn?(typeof v=="function"&&(uc(t,s,v,r),d=t.memoizedState),(o=Gn||Vu(t,s,o,r,h,d,g))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=g,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,dh(e,t),o=t.memoizedProps,g=t.type===t.elementType?o:on(t.type,o),l.props=g,c=t.pendingProps,h=l.context,d=s.contextType,typeof d=="object"&&d!==null?d=sn(d):(d=Tt(s)?Es:St.current,d=dr(t,d));var _=s.getDerivedStateFromProps;(v=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==c||h!==d)&&Hu(t,l,r,d),Gn=!1,h=t.memoizedState,l.state=h,ti(t,r,l,a);var f=t.memoizedState;o!==c||h!==f||Dt.current||Gn?(typeof _=="function"&&(uc(t,s,_,r),f=t.memoizedState),(g=Gn||Vu(t,s,g,r,h,f,d)||!1)?(v||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,f,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,f,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),l.props=r,l.state=f,l.context=d,r=g):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return pc(e,t,s,r,i,a)}function pc(e,t,s,r,a,i){Ah(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return a&&Au(t,s,!1),Pn(e,t,i);r=t.stateNode,bv.current=t;var o=l&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=mr(t,e.child,null,i),t.child=mr(t,null,o,i)):It(e,t,o,i),t.memoizedState=r.state,a&&Au(t,s,!0),t.child}function Dh(e){var t=e.stateNode;t.pendingContext?Pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pu(e,t.context,!1),_d(e,t.containerInfo)}function Xu(e,t,s,r,a){return ur(),ud(a),t.flags|=256,It(e,t,s,r),t.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function _c(e){return{baseLanes:e,cachePool:null,transitions:null}}function Th(e,t,s){var r=t.pendingProps,a=et.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),We(et,a&1),e===null)return cc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ni(l,r,0,null),e=Is(e,r,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_c(s),t.memoizedState=gc,e):Sd(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return jv(e,t,l,r,o,a,s);if(i){i=r.fallback,l=t.mode,a=e.child,o=a.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=is(a,d),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=is(o,i):(i=Is(i,l,s,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?_c(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~s,t.memoizedState=gc,r}return i=e.child,e=i.sibling,r=is(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function Sd(e,t){return t=Ni({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mo(e,t,s,r){return r!==null&&ud(r),mr(t,e.child,null,s),e=Sd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jv(e,t,s,r,a,i,l){if(s)return t.flags&256?(t.flags&=-257,r=pl(Error(W(422))),mo(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Ni({mode:"visible",children:r.children},a,0,null),i=Is(i,a,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&mr(t,e.child,null,l),t.child.memoizedState=_c(l),t.memoizedState=gc,i);if(!(t.mode&1))return mo(e,t,l,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(W(419)),r=pl(i,r,void 0),mo(e,t,l,r)}if(o=(l&e.childLanes)!==0,At||o){if(r=ht,r!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Fn(e,a),un(r,e,a,-1))}return Bd(),r=pl(Error(W(421))),mo(e,t,l,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Pv.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,zt=ss(a.nextSibling),Ht=t,Je=!0,cn=null,e!==null&&(Zt[en++]=$n,Zt[en++]=kn,Zt[en++]=Bs,$n=e.id,kn=e.overflow,Bs=t),t=Sd(t,r.children),t.flags|=4096,t)}function Zu(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dc(e.return,t,s)}function gl(e,t,s,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=s,i.tailMode=a)}function Oh(e,t,s){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(It(e,t,r.children,s),r=et.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zu(e,s,t);else if(e.tag===19)Zu(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(et,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&ni(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),gl(t,!1,a,s,i);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ni(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}gl(t,!0,s,null,i);break;case"together":gl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ls|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,s=is(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=is(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function wv(e,t,s){switch(t.tag){case 3:Dh(t),ur();break;case 5:uh(t);break;case 1:Tt(t.type)&&Ko(t);break;case 4:_d(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;We(Zo,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(et,et.current&1),t.flags|=128,null):s&t.child.childLanes?Th(e,t,s):(We(et,et.current&1),e=Pn(e,t,s),e!==null?e.sibling:null);We(et,et.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return Oh(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),We(et,et.current),r)break;return null;case 22:case 23:return t.lanes=0,Ph(e,t,s)}return Pn(e,t,s)}var Mh,vc,Uh,zh;Mh=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};vc=function(){};Uh=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Cs(bn.current);var i=null;switch(s){case"input":a=Ml(e,a),r=Ml(e,r),i=[];break;case"select":a=nt({},a,{value:void 0}),r=nt({},r,{value:void 0}),i=[];break;case"textarea":a=ql(e,a),r=ql(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yo)}Hl(s,r);var l;s=null;for(g in a)if(!r.hasOwnProperty(g)&&a.hasOwnProperty(g)&&a[g]!=null)if(g==="style"){var o=a[g];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ia.hasOwnProperty(g)?i||(i=[]):(i=i||[]).push(g,null));for(g in r){var d=r[g];if(o=a!=null?a[g]:void 0,r.hasOwnProperty(g)&&d!==o&&(d!=null||o!=null))if(g==="style")if(o){for(l in o)!o.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in d)d.hasOwnProperty(l)&&o[l]!==d[l]&&(s||(s={}),s[l]=d[l])}else s||(i||(i=[]),i.push(g,s)),s=d;else g==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(i=i||[]).push(g,d)):g==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(g,""+d):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(ia.hasOwnProperty(g)?(d!=null&&g==="onScroll"&&Ye("scroll",e),i||o===d||(i=[])):(i=i||[]).push(g,d))}s&&(i=i||[]).push("style",s);var g=i;(t.updateQueue=g)&&(t.flags|=4)}};zh=function(e,t,s,r){s!==r&&(t.flags|=4)};function Mr(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function Cv(e,t,s){var r=t.pendingProps;switch(dd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Tt(t.type)&&Qo(),wt(t),null;case 3:return r=t.stateNode,fr(),Qe(Dt),Qe(St),yd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(co(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cn!==null&&(Nc(cn),cn=null))),vc(e,t),wt(t),null;case 5:vd(t);var a=Cs(ya.current);if(s=t.type,e!==null&&t.stateNode!=null)Uh(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return wt(t),null}if(e=Cs(bn.current),co(t)){r=t.stateNode,s=t.type;var i=t.memoizedProps;switch(r[yn]=t,r[_a]=i,e=(t.mode&1)!==0,s){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(a=0;a<Qr.length;a++)Ye(Qr[a],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":lu(r,i),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",r);break;case"textarea":du(r,i),Ye("invalid",r)}Hl(s,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&lo(r.textContent,o,e),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&lo(r.textContent,o,e),a=["children",""+o]):ia.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Ye("scroll",r)}switch(s){case"input":eo(r),cu(r,i,!0);break;case"textarea":eo(r),uu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yo)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gf(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(s,{is:r.is}):(e=l.createElement(s),s==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,s),e[yn]=t,e[_a]=r,Mh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Gl(s,r),s){case"dialog":Ye("cancel",e),Ye("close",e),a=r;break;case"iframe":case"object":case"embed":Ye("load",e),a=r;break;case"video":case"audio":for(a=0;a<Qr.length;a++)Ye(Qr[a],e);a=r;break;case"source":Ye("error",e),a=r;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),a=r;break;case"details":Ye("toggle",e),a=r;break;case"input":lu(e,r),a=Ml(e,r),Ye("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=nt({},r,{value:void 0}),Ye("invalid",e);break;case"textarea":du(e,r),a=ql(e,r),Ye("invalid",e);break;default:a=r}Hl(s,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var d=o[i];i==="style"?yf(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&_f(e,d)):i==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&la(e,d):typeof d=="number"&&la(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ia.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Ye("scroll",e):d!=null&&Qc(e,i,d,l))}switch(s){case"input":eo(e),cu(e,r,!1);break;case"textarea":eo(e),uu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cs(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?nr(e,!!r.multiple,i,!1):r.defaultValue!=null&&nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yo)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)zh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(s=Cs(ya.current),Cs(bn.current),co(t)){if(r=t.stateNode,s=t.memoizedProps,r[yn]=t,(i=r.nodeValue!==s)&&(e=Ht,e!==null))switch(e.tag){case 3:lo(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lo(r.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[yn]=t,t.stateNode=r}return wt(t),null;case 13:if(Qe(et),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&zt!==null&&t.mode&1&&!(t.flags&128))oh(),ur(),t.flags|=98560,i=!1;else if(i=co(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(W(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[yn]=t}else ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),i=!1}else cn!==null&&(Nc(cn),cn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?ut===0&&(ut=3):Bd())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return fr(),vc(e,t),e===null&&pa(t.stateNode.containerInfo),wt(t),null;case 10:return hd(t.type._context),wt(t),null;case 17:return Tt(t.type)&&Qo(),wt(t),null;case 19:if(Qe(et),i=t.memoizedState,i===null)return wt(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)Mr(i,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ni(e),l!==null){for(t.flags|=128,Mr(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)i=s,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return We(et,et.current&1|2),t.child}e=e.sibling}i.tail!==null&&at()>pr&&(t.flags|=128,r=!0,Mr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ni(l),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Mr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Je)return wt(t),null}else 2*at()-i.renderingStartTime>pr&&s!==1073741824&&(t.flags|=128,r=!0,Mr(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(s=i.last,s!==null?s.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=at(),t.sibling=null,s=et.current,We(et,r?s&1|2:s&1),t):(wt(t),null);case 22:case 23:return Ed(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ut&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function Sv(e,t){switch(dd(t),t.tag){case 1:return Tt(t.type)&&Qo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),Qe(Dt),Qe(St),yd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vd(t),null;case 13:if(Qe(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(et),null;case 4:return fr(),null;case 10:return hd(t.type._context),null;case 22:case 23:return Ed(),null;case 24:return null;default:return null}}var fo=!1,Ct=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,ce=null;function er(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){st(e,t,r)}else s.current=null}function yc(e,t,s){try{s()}catch(r){st(e,t,r)}}var em=!1;function Iv(e,t){if(nc=Ho,e=Wf(),ld(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,o=-1,d=-1,g=0,v=0,c=e,h=null;t:for(;;){for(var _;c!==s||a!==0&&c.nodeType!==3||(o=l+a),c!==i||r!==0&&c.nodeType!==3||(d=l+r),c.nodeType===3&&(l+=c.nodeValue.length),(_=c.firstChild)!==null;)h=c,c=_;for(;;){if(c===e)break t;if(h===s&&++g===a&&(o=l),h===i&&++v===r&&(d=l),(_=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=_}s=o===-1||d===-1?null:{start:o,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(sc={focusedElem:e,selectionRange:s},Ho=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var m=f.memoizedProps,y=f.memoizedState,u=t.stateNode,p=u.getSnapshotBeforeUpdate(t.elementType===t.type?m:on(t.type,m),y);u.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(w){st(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return f=em,em=!1,f}function sa(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&yc(t,s,i)}a=a.next}while(a!==r)}}function Ci(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function xc(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function qh(e){var t=e.alternate;t!==null&&(e.alternate=null,qh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[_a],delete t[oc],delete t[cv],delete t[dv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vh(e){return e.tag===5||e.tag===3||e.tag===4}function tm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bc(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Yo));else if(r!==4&&(e=e.child,e!==null))for(bc(e,t,s),e=e.sibling;e!==null;)bc(e,t,s),e=e.sibling}function jc(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jc(e,t,s),e=e.sibling;e!==null;)jc(e,t,s),e=e.sibling}var pt=null,ln=!1;function zn(e,t,s){for(s=s.child;s!==null;)Hh(e,t,s),s=s.sibling}function Hh(e,t,s){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(gi,s)}catch{}switch(s.tag){case 5:Ct||er(s,t);case 6:var r=pt,a=ln;pt=null,zn(e,t,s),pt=r,ln=a,pt!==null&&(ln?(e=pt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):pt.removeChild(s.stateNode));break;case 18:pt!==null&&(ln?(e=pt,s=s.stateNode,e.nodeType===8?cl(e.parentNode,s):e.nodeType===1&&cl(e,s),ma(e)):cl(pt,s.stateNode));break;case 4:r=pt,a=ln,pt=s.stateNode.containerInfo,ln=!0,zn(e,t,s),pt=r,ln=a;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&yc(s,t,l),a=a.next}while(a!==r)}zn(e,t,s);break;case 1:if(!Ct&&(er(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(o){st(s,t,o)}zn(e,t,s);break;case 21:zn(e,t,s);break;case 22:s.mode&1?(Ct=(r=Ct)||s.memoizedState!==null,zn(e,t,s),Ct=r):zn(e,t,s);break;default:zn(e,t,s)}}function nm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Nv),t.forEach(function(r){var a=Av.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function an(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:pt=o.stateNode,ln=!1;break e;case 3:pt=o.stateNode.containerInfo,ln=!0;break e;case 4:pt=o.stateNode.containerInfo,ln=!0;break e}o=o.return}if(pt===null)throw Error(W(160));Hh(i,l,a),pt=null,ln=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(g){st(a,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gh(t,e),t=t.sibling}function Gh(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(t,e),gn(e),r&4){try{sa(3,e,e.return),Ci(3,e)}catch(m){st(e,e.return,m)}try{sa(5,e,e.return)}catch(m){st(e,e.return,m)}}break;case 1:an(t,e),gn(e),r&512&&s!==null&&er(s,s.return);break;case 5:if(an(t,e),gn(e),r&512&&s!==null&&er(s,s.return),e.flags&32){var a=e.stateNode;try{la(a,"")}catch(m){st(e,e.return,m)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=s!==null?s.memoizedProps:i,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&hf(a,i),Gl(o,l);var g=Gl(o,i);for(l=0;l<d.length;l+=2){var v=d[l],c=d[l+1];v==="style"?yf(a,c):v==="dangerouslySetInnerHTML"?_f(a,c):v==="children"?la(a,c):Qc(a,v,c,g)}switch(o){case"input":Ul(a,i);break;case"textarea":pf(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?nr(a,!!i.multiple,_,!1):h!==!!i.multiple&&(i.defaultValue!=null?nr(a,!!i.multiple,i.defaultValue,!0):nr(a,!!i.multiple,i.multiple?[]:"",!1))}a[_a]=i}catch(m){st(e,e.return,m)}}break;case 6:if(an(t,e),gn(e),r&4){if(e.stateNode===null)throw Error(W(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){st(e,e.return,m)}}break;case 3:if(an(t,e),gn(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{ma(t.containerInfo)}catch(m){st(e,e.return,m)}break;case 4:an(t,e),gn(e);break;case 13:an(t,e),gn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||($d=at())),r&4&&nm(e);break;case 22:if(v=s!==null&&s.memoizedState!==null,e.mode&1?(Ct=(g=Ct)||v,an(t,e),Ct=g):an(t,e),gn(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!v&&e.mode&1)for(ce=e,v=e.child;v!==null;){for(c=ce=v;ce!==null;){switch(h=ce,_=h.child,h.tag){case 0:case 11:case 14:case 15:sa(4,h,h.return);break;case 1:er(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){r=h,s=h.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(m){st(r,s,m)}}break;case 5:er(h,h.return);break;case 22:if(h.memoizedState!==null){rm(c);continue}}_!==null?(_.return=h,ce=_):rm(c)}v=v.sibling}e:for(v=null,c=e;;){if(c.tag===5){if(v===null){v=c;try{a=c.stateNode,g?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=c.stateNode,d=c.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=vf("display",l))}catch(m){st(e,e.return,m)}}}else if(c.tag===6){if(v===null)try{c.stateNode.nodeValue=g?"":c.memoizedProps}catch(m){st(e,e.return,m)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;v===c&&(v=null),c=c.return}v===c&&(v=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:an(t,e),gn(e),r&4&&nm(e);break;case 21:break;default:an(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Vh(s)){var r=s;break e}s=s.return}throw Error(W(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(la(a,""),r.flags&=-33);var i=tm(e);jc(e,i,a);break;case 3:case 4:var l=r.stateNode.containerInfo,o=tm(e);bc(e,o,l);break;default:throw Error(W(161))}}catch(d){st(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $v(e,t,s){ce=e,Wh(e)}function Wh(e,t,s){for(var r=(e.mode&1)!==0;ce!==null;){var a=ce,i=a.child;if(a.tag===22&&r){var l=a.memoizedState!==null||fo;if(!l){var o=a.alternate,d=o!==null&&o.memoizedState!==null||Ct;o=fo;var g=Ct;if(fo=l,(Ct=d)&&!g)for(ce=a;ce!==null;)l=ce,d=l.child,l.tag===22&&l.memoizedState!==null?am(a):d!==null?(d.return=l,ce=d):am(a);for(;i!==null;)ce=i,Wh(i),i=i.sibling;ce=a,fo=o,Ct=g}sm(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ce=i):sm(e)}}function sm(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||Ci(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ct)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:on(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Uu(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Uu(t,l,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var v=g.memoizedState;if(v!==null){var c=v.dehydrated;c!==null&&ma(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ct||t.flags&512&&xc(t)}catch(h){st(t,t.return,h)}}if(t===e){ce=null;break}if(s=t.sibling,s!==null){s.return=t.return,ce=s;break}ce=t.return}}function rm(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ce=s;break}ce=t.return}}function am(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Ci(4,t)}catch(d){st(t,s,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(d){st(t,a,d)}}var i=t.return;try{xc(t)}catch(d){st(t,i,d)}break;case 5:var l=t.return;try{xc(t)}catch(d){st(t,l,d)}}}catch(d){st(t,t.return,d)}if(t===e){ce=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ce=o;break}ce=t.return}}var kv=Math.ceil,ai=Tn.ReactCurrentDispatcher,Nd=Tn.ReactCurrentOwner,nn=Tn.ReactCurrentBatchConfig,Me=0,ht=null,it=null,gt=0,Ut=0,tr=ms(0),ut=0,wa=null,Ls=0,Si=0,Id=0,ra=null,Pt=null,$d=0,pr=1/0,Nn=null,oi=!1,wc=null,as=null,ho=!1,Jn=null,ii=0,aa=0,Cc=null,Fo=-1,Po=0;function kt(){return Me&6?at():Fo!==-1?Fo:Fo=at()}function os(e){return e.mode&1?Me&2&&gt!==0?gt&-gt:mv.transition!==null?(Po===0&&(Po=Bf()),Po):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:Tf(e.type)),e):1}function un(e,t,s,r){if(50<aa)throw aa=0,Cc=null,Error(W(185));La(e,s,r),(!(Me&2)||e!==ht)&&(e===ht&&(!(Me&2)&&(Si|=s),ut===4&&Qn(e,gt)),Ot(e,r),s===1&&Me===0&&!(t.mode&1)&&(pr=at()+500,bi&&fs()))}function Ot(e,t){var s=e.callbackNode;m_(e,t);var r=Vo(e,e===ht?gt:0);if(r===0)s!==null&&hu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&hu(s),t===1)e.tag===0?uv(om.bind(null,e)):sh(om.bind(null,e)),iv(function(){!(Me&6)&&fs()}),s=null;else{switch(Rf(r)){case 1:s=ed;break;case 4:s=kf;break;case 16:s=qo;break;case 536870912:s=Ef;break;default:s=qo}s=tp(s,Yh.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Yh(e,t){if(Fo=-1,Po=0,Me&6)throw Error(W(327));var s=e.callbackNode;if(ir()&&e.callbackNode!==s)return null;var r=Vo(e,e===ht?gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=li(e,r);else{t=r;var a=Me;Me|=2;var i=Kh();(ht!==e||gt!==t)&&(Nn=null,pr=at()+500,Ns(e,t));do try{Rv();break}catch(o){Qh(e,o)}while(!0);fd(),ai.current=i,Me=a,it!==null?t=0:(ht=null,gt=0,t=ut)}if(t!==0){if(t===2&&(a=Jl(e),a!==0&&(r=a,t=Sc(e,a))),t===1)throw s=wa,Ns(e,0),Qn(e,r),Ot(e,at()),s;if(t===6)Qn(e,r);else{if(a=e.current.alternate,!(r&30)&&!Ev(a)&&(t=li(e,r),t===2&&(i=Jl(e),i!==0&&(r=i,t=Sc(e,i))),t===1))throw s=wa,Ns(e,0),Qn(e,r),Ot(e,at()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:bs(e,Pt,Nn);break;case 3:if(Qn(e,r),(r&130023424)===r&&(t=$d+500-at(),10<t)){if(Vo(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){kt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ac(bs.bind(null,e,Pt,Nn),t);break}bs(e,Pt,Nn);break;case 4:if(Qn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-dn(r);i=1<<l,l=t[l],l>a&&(a=l),r&=~i}if(r=a,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kv(r/1960))-r,10<r){e.timeoutHandle=ac(bs.bind(null,e,Pt,Nn),r);break}bs(e,Pt,Nn);break;case 5:bs(e,Pt,Nn);break;default:throw Error(W(329))}}}return Ot(e,at()),e.callbackNode===s?Yh.bind(null,e):null}function Sc(e,t){var s=ra;return e.current.memoizedState.isDehydrated&&(Ns(e,t).flags|=256),e=li(e,t),e!==2&&(t=Pt,Pt=s,t!==null&&Nc(t)),e}function Nc(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function Ev(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],i=a.getSnapshot;a=a.value;try{if(!fn(i(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~Id,t&=~Si,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-dn(t),r=1<<s;e[s]=-1,t&=~r}}function om(e){if(Me&6)throw Error(W(327));ir();var t=Vo(e,0);if(!(t&1))return Ot(e,at()),null;var s=li(e,t);if(e.tag!==0&&s===2){var r=Jl(e);r!==0&&(t=r,s=Sc(e,r))}if(s===1)throw s=wa,Ns(e,0),Qn(e,t),Ot(e,at()),s;if(s===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bs(e,Pt,Nn),Ot(e,at()),null}function kd(e,t){var s=Me;Me|=1;try{return e(t)}finally{Me=s,Me===0&&(pr=at()+500,bi&&fs())}}function Fs(e){Jn!==null&&Jn.tag===0&&!(Me&6)&&ir();var t=Me;Me|=1;var s=nn.transition,r=Ve;try{if(nn.transition=null,Ve=1,e)return e()}finally{Ve=r,nn.transition=s,Me=t,!(Me&6)&&fs()}}function Ed(){Ut=tr.current,Qe(tr)}function Ns(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,ov(s)),it!==null)for(s=it.return;s!==null;){var r=s;switch(dd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qo();break;case 3:fr(),Qe(Dt),Qe(St),yd();break;case 5:vd(r);break;case 4:fr();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:hd(r.type._context);break;case 22:case 23:Ed()}s=s.return}if(ht=e,it=e=is(e.current,null),gt=Ut=t,ut=0,wa=null,Id=Si=Ls=0,Pt=ra=null,ws!==null){for(t=0;t<ws.length;t++)if(s=ws[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,i=s.pending;if(i!==null){var l=i.next;i.next=a,r.next=l}s.pending=r}ws=null}return e}function Qh(e,t){do{var s=it;try{if(fd(),Bo.current=ri,si){for(var r=tt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}si=!1}if(Rs=0,ft=ct=tt=null,na=!1,xa=0,Nd.current=null,s===null||s.return===null){ut=1,wa=t,it=null;break}e:{var i=e,l=s.return,o=s,d=t;if(t=gt,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var g=d,v=o,c=v.tag;if(!(v.mode&1)&&(c===0||c===11||c===15)){var h=v.alternate;h?(v.updateQueue=h.updateQueue,v.memoizedState=h.memoizedState,v.lanes=h.lanes):(v.updateQueue=null,v.memoizedState=null)}var _=Wu(l);if(_!==null){_.flags&=-257,Yu(_,l,o,i,t),_.mode&1&&Gu(i,g,t),t=_,d=g;var f=t.updateQueue;if(f===null){var m=new Set;m.add(d),t.updateQueue=m}else f.add(d);break e}else{if(!(t&1)){Gu(i,g,t),Bd();break e}d=Error(W(426))}}else if(Je&&o.mode&1){var y=Wu(l);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Yu(y,l,o,i,t),ud(hr(d,o));break e}}i=d=hr(d,o),ut!==4&&(ut=2),ra===null?ra=[i]:ra.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var u=Rh(i,d,t);Mu(i,u);break e;case 1:o=d;var p=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(as===null||!as.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Lh(i,o,t);Mu(i,w);break e}}i=i.return}while(i!==null)}Xh(s)}catch(I){t=I,it===s&&s!==null&&(it=s=s.return);continue}break}while(!0)}function Kh(){var e=ai.current;return ai.current=ri,e===null?ri:e}function Bd(){(ut===0||ut===3||ut===2)&&(ut=4),ht===null||!(Ls&268435455)&&!(Si&268435455)||Qn(ht,gt)}function li(e,t){var s=Me;Me|=2;var r=Kh();(ht!==e||gt!==t)&&(Nn=null,Ns(e,t));do try{Bv();break}catch(a){Qh(e,a)}while(!0);if(fd(),Me=s,ai.current=r,it!==null)throw Error(W(261));return ht=null,gt=0,ut}function Bv(){for(;it!==null;)Jh(it)}function Rv(){for(;it!==null&&!s_();)Jh(it)}function Jh(e){var t=ep(e.alternate,e,Ut);e.memoizedProps=e.pendingProps,t===null?Xh(e):it=t,Nd.current=null}function Xh(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Sv(s,t),s!==null){s.flags&=32767,it=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,it=null;return}}else if(s=Cv(s,t,Ut),s!==null){it=s;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);ut===0&&(ut=5)}function bs(e,t,s){var r=Ve,a=nn.transition;try{nn.transition=null,Ve=1,Lv(e,t,s,r)}finally{nn.transition=a,Ve=r}return null}function Lv(e,t,s,r){do ir();while(Jn!==null);if(Me&6)throw Error(W(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(f_(e,i),e===ht&&(it=ht=null,gt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ho||(ho=!0,tp(qo,function(){return ir(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=nn.transition,nn.transition=null;var l=Ve;Ve=1;var o=Me;Me|=4,Nd.current=null,Iv(e,s),Gh(s,e),Z_(sc),Ho=!!nc,sc=nc=null,e.current=s,$v(s),r_(),Me=o,Ve=l,nn.transition=i}else e.current=s;if(ho&&(ho=!1,Jn=e,ii=a),i=e.pendingLanes,i===0&&(as=null),i_(s.stateNode),Ot(e,at()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(oi)throw oi=!1,e=wc,wc=null,e;return ii&1&&e.tag!==0&&ir(),i=e.pendingLanes,i&1?e===Cc?aa++:(aa=0,Cc=e):aa=0,fs(),null}function ir(){if(Jn!==null){var e=Rf(ii),t=nn.transition,s=Ve;try{if(nn.transition=null,Ve=16>e?16:e,Jn===null)var r=!1;else{if(e=Jn,Jn=null,ii=0,Me&6)throw Error(W(331));var a=Me;for(Me|=4,ce=e.current;ce!==null;){var i=ce,l=i.child;if(ce.flags&16){var o=i.deletions;if(o!==null){for(var d=0;d<o.length;d++){var g=o[d];for(ce=g;ce!==null;){var v=ce;switch(v.tag){case 0:case 11:case 15:sa(8,v,i)}var c=v.child;if(c!==null)c.return=v,ce=c;else for(;ce!==null;){v=ce;var h=v.sibling,_=v.return;if(qh(v),v===g){ce=null;break}if(h!==null){h.return=_,ce=h;break}ce=_}}}var f=i.alternate;if(f!==null){var m=f.child;if(m!==null){f.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}ce=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ce=l;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sa(9,i,i.return)}var u=i.sibling;if(u!==null){u.return=i.return,ce=u;break e}ce=i.return}}var p=e.current;for(ce=p;ce!==null;){l=ce;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,ce=x;else e:for(l=p;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ci(9,o)}}catch(I){st(o,o.return,I)}if(o===l){ce=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,ce=w;break e}ce=o.return}}if(Me=a,fs(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(gi,e)}catch{}r=!0}return r}finally{Ve=s,nn.transition=t}}return!1}function im(e,t,s){t=hr(s,t),t=Rh(e,t,1),e=rs(e,t,1),t=kt(),e!==null&&(La(e,1,t),Ot(e,t))}function st(e,t,s){if(e.tag===3)im(e,e,s);else for(;t!==null;){if(t.tag===3){im(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(as===null||!as.has(r))){e=hr(s,e),e=Lh(t,e,1),t=rs(t,e,1),e=kt(),t!==null&&(La(t,1,e),Ot(t,e));break}}t=t.return}}function Fv(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=kt(),e.pingedLanes|=e.suspendedLanes&s,ht===e&&(gt&s)===s&&(ut===4||ut===3&&(gt&130023424)===gt&&500>at()-$d?Ns(e,0):Id|=s),Ot(e,t)}function Zh(e,t){t===0&&(e.mode&1?(t=so,so<<=1,!(so&130023424)&&(so=4194304)):t=1);var s=kt();e=Fn(e,t),e!==null&&(La(e,t,s),Ot(e,s))}function Pv(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Zh(e,s)}function Av(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),Zh(e,s)}var ep;ep=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dt.current)At=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return At=!1,wv(e,t,s);At=!!(e.flags&131072)}else At=!1,Je&&t.flags&1048576&&rh(t,Xo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Lo(e,t),e=t.pendingProps;var a=dr(t,St.current);or(t,s),a=bd(null,t,r,e,a,s);var i=jd();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(r)?(i=!0,Ko(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,gd(t),a.updater=wi,t.stateNode=a,a._reactInternals=t,mc(t,r,e,s),t=pc(null,t,r,!0,i,s)):(t.tag=0,Je&&i&&cd(t),It(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Lo(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Tv(r),e=on(r,e),a){case 0:t=hc(null,t,r,e,s);break e;case 1:t=Ju(null,t,r,e,s);break e;case 11:t=Qu(null,t,r,e,s);break e;case 14:t=Ku(null,t,r,on(r.type,e),s);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:on(r,a),hc(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:on(r,a),Ju(e,t,r,a,s);case 3:e:{if(Dh(t),e===null)throw Error(W(387));r=t.pendingProps,i=t.memoizedState,a=i.element,dh(e,t),ti(t,r,null,s);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=hr(Error(W(423)),t),t=Xu(e,t,r,s,a);break e}else if(r!==a){a=hr(Error(W(424)),t),t=Xu(e,t,r,s,a);break e}else for(zt=ss(t.stateNode.containerInfo.firstChild),Ht=t,Je=!0,cn=null,s=lh(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ur(),r===a){t=Pn(e,t,s);break e}It(e,t,r,s)}t=t.child}return t;case 5:return uh(t),e===null&&cc(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,rc(r,a)?l=null:i!==null&&rc(r,i)&&(t.flags|=32),Ah(e,t),It(e,t,l,s),t.child;case 6:return e===null&&cc(t),null;case 13:return Th(e,t,s);case 4:return _d(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mr(t,null,r,s):It(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:on(r,a),Qu(e,t,r,a,s);case 7:return It(e,t,t.pendingProps,s),t.child;case 8:return It(e,t,t.pendingProps.children,s),t.child;case 12:return It(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,We(Zo,r._currentValue),r._currentValue=l,i!==null)if(fn(i.value,l)){if(i.children===a.children&&!Dt.current){t=Pn(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var d=o.firstContext;d!==null;){if(d.context===r){if(i.tag===1){d=En(-1,s&-s),d.tag=2;var g=i.updateQueue;if(g!==null){g=g.shared;var v=g.pending;v===null?d.next=d:(d.next=v.next,v.next=d),g.pending=d}}i.lanes|=s,d=i.alternate,d!==null&&(d.lanes|=s),dc(i.return,s,t),o.lanes|=s;break}d=d.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(W(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),dc(l,s,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}It(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,or(t,s),a=sn(a),r=r(a),t.flags|=1,It(e,t,r,s),t.child;case 14:return r=t.type,a=on(r,t.pendingProps),a=on(r.type,a),Ku(e,t,r,a,s);case 15:return Fh(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:on(r,a),Lo(e,t),t.tag=1,Tt(r)?(e=!0,Ko(t)):e=!1,or(t,s),Bh(t,r,a),mc(t,r,a,s),pc(null,t,r,!0,e,s);case 19:return Oh(e,t,s);case 22:return Ph(e,t,s)}throw Error(W(156,t.tag))};function tp(e,t){return $f(e,t)}function Dv(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,s,r){return new Dv(e,t,s,r)}function Rd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tv(e){if(typeof e=="function")return Rd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jc)return 11;if(e===Xc)return 14}return 2}function is(e,t){var s=e.alternate;return s===null?(s=tn(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Ao(e,t,s,r,a,i){var l=2;if(r=e,typeof e=="function")Rd(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Hs:return Is(s.children,a,i,t);case Kc:l=8,a|=8;break;case Al:return e=tn(12,s,t,a|2),e.elementType=Al,e.lanes=i,e;case Dl:return e=tn(13,s,t,a),e.elementType=Dl,e.lanes=i,e;case Tl:return e=tn(19,s,t,a),e.elementType=Tl,e.lanes=i,e;case uf:return Ni(s,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cf:l=10;break e;case df:l=9;break e;case Jc:l=11;break e;case Xc:l=14;break e;case Hn:l=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=tn(l,s,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Is(e,t,s,r){return e=tn(7,e,r,t),e.lanes=s,e}function Ni(e,t,s,r){return e=tn(22,e,r,t),e.elementType=uf,e.lanes=s,e.stateNode={isHidden:!1},e}function _l(e,t,s){return e=tn(6,e,null,t),e.lanes=s,e}function vl(e,t,s){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ov(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ld(e,t,s,r,a,i,l,o,d){return e=new Ov(e,t,s,o,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=tn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},gd(i),e}function Mv(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function np(e){if(!e)return ds;e=e._reactInternals;e:{if(Ds(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var s=e.type;if(Tt(s))return nh(e,s,t)}return t}function sp(e,t,s,r,a,i,l,o,d){return e=Ld(s,r,!0,e,a,i,l,o,d),e.context=np(null),s=e.current,r=kt(),a=os(s),i=En(r,a),i.callback=t??null,rs(s,i,a),e.current.lanes=a,La(e,a,r),Ot(e,r),e}function Ii(e,t,s,r){var a=t.current,i=kt(),l=os(a);return s=np(s),t.context===null?t.context=s:t.pendingContext=s,t=En(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rs(a,t,l),e!==null&&(un(e,a,l,i),Eo(e,a,l)),l}function ci(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Fd(e,t){lm(e,t),(e=e.alternate)&&lm(e,t)}function Uv(){return null}var rp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pd(e){this._internalRoot=e}$i.prototype.render=Pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Ii(e,t,null,null)};$i.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fs(function(){Ii(null,e,null,null)}),t[Ln]=null}};function $i(e){this._internalRoot=e}$i.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pf();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Yn.length&&t!==0&&t<Yn[s].priority;s++);Yn.splice(s,0,e),s===0&&Df(e)}};function Ad(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cm(){}function zv(e,t,s,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var g=ci(l);i.call(g)}}var l=sp(t,r,e,0,null,!1,!1,"",cm);return e._reactRootContainer=l,e[Ln]=l.current,pa(e.nodeType===8?e.parentNode:e),Fs(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var g=ci(d);o.call(g)}}var d=Ld(e,0,!1,null,null,!1,!1,"",cm);return e._reactRootContainer=d,e[Ln]=d.current,pa(e.nodeType===8?e.parentNode:e),Fs(function(){Ii(t,d,s,r)}),d}function Ei(e,t,s,r,a){var i=s._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var d=ci(l);o.call(d)}}Ii(t,l,e,a)}else l=zv(s,t,e,a,r);return ci(l)}Lf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Yr(t.pendingLanes);s!==0&&(td(t,s|1),Ot(t,at()),!(Me&6)&&(pr=at()+500,fs()))}break;case 13:Fs(function(){var r=Fn(e,1);if(r!==null){var a=kt();un(r,e,1,a)}}),Fd(e,1)}};nd=function(e){if(e.tag===13){var t=Fn(e,134217728);if(t!==null){var s=kt();un(t,e,134217728,s)}Fd(e,134217728)}};Ff=function(e){if(e.tag===13){var t=os(e),s=Fn(e,t);if(s!==null){var r=kt();un(s,e,t,r)}Fd(e,t)}};Pf=function(){return Ve};Af=function(e,t){var s=Ve;try{return Ve=e,t()}finally{Ve=s}};Yl=function(e,t,s){switch(t){case"input":if(Ul(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=xi(r);if(!a)throw Error(W(90));ff(r),Ul(r,a)}}}break;case"textarea":pf(e,s);break;case"select":t=s.value,t!=null&&nr(e,!!s.multiple,t,!1)}};jf=kd;wf=Fs;var qv={usingClientEntryPoint:!1,Events:[Pa,Qs,xi,xf,bf,kd]},Ur={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vv={bundleType:Ur.bundleType,version:Ur.version,rendererPackageName:Ur.rendererPackageName,rendererConfig:Ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nf(e),e===null?null:e.stateNode},findFiberByHostInstance:Ur.findFiberByHostInstance||Uv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{gi=po.inject(Vv),xn=po}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qv;Yt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ad(t))throw Error(W(200));return Mv(e,t,null,s)};Yt.createRoot=function(e,t){if(!Ad(e))throw Error(W(299));var s=!1,r="",a=rp;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ld(e,1,!1,null,null,s,!1,r,a),e[Ln]=t.current,pa(e.nodeType===8?e.parentNode:e),new Pd(t)};Yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Nf(t),e=e===null?null:e.stateNode,e};Yt.flushSync=function(e){return Fs(e)};Yt.hydrate=function(e,t,s){if(!ki(t))throw Error(W(200));return Ei(null,e,t,!0,s)};Yt.hydrateRoot=function(e,t,s){if(!Ad(e))throw Error(W(405));var r=s!=null&&s.hydratedSources||null,a=!1,i="",l=rp;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),t=sp(t,null,e,1,s??null,a,!1,i,l),e[Ln]=t.current,pa(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new $i(t)};Yt.render=function(e,t,s){if(!ki(t))throw Error(W(200));return Ei(null,e,t,!1,s)};Yt.unmountComponentAtNode=function(e){if(!ki(e))throw Error(W(40));return e._reactRootContainer?(Fs(function(){Ei(null,null,e,!1,function(){e._reactRootContainer=null,e[Ln]=null})}),!0):!1};Yt.unstable_batchedUpdates=kd;Yt.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!ki(s))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Ei(e,t,s,!1,r)};Yt.version="18.3.1-next-f1338f8080-20240426";function ap(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ap)}catch(e){console.error(e)}}ap(),rf.exports=Yt;var Hv=rf.exports;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Ca.apply(this,arguments)}var Xn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xn||(Xn={}));const dm="popstate";function Gv(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:l,hash:o}=r.location;return Ic("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:di(a)}return Yv(t,s,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function op(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Wv(){return Math.random().toString(36).substr(2,8)}function um(e,t){return{usr:e.state,key:e.key,idx:t}}function Ic(e,t,s,r){return s===void 0&&(s=null),Ca({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yr(t):t,{state:s,key:t&&t.key||r||Wv()})}function di(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function yr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Yv(e,t,s,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,o=Xn.Pop,d=null,g=v();g==null&&(g=0,l.replaceState(Ca({},l.state,{idx:g}),""));function v(){return(l.state||{idx:null}).idx}function c(){o=Xn.Pop;let y=v(),u=y==null?null:y-g;g=y,d&&d({action:o,location:m.location,delta:u})}function h(y,u){o=Xn.Push;let p=Ic(m.location,y,u);g=v()+1;let x=um(p,g),w=m.createHref(p);try{l.pushState(x,"",w)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;a.location.assign(w)}i&&d&&d({action:o,location:m.location,delta:1})}function _(y,u){o=Xn.Replace;let p=Ic(m.location,y,u);g=v();let x=um(p,g),w=m.createHref(p);l.replaceState(x,"",w),i&&d&&d({action:o,location:m.location,delta:0})}function f(y){let u=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof y=="string"?y:di(y);return p=p.replace(/ $/,"%20"),ot(u,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,u)}let m={get action(){return o},get location(){return e(a,l)},listen(y){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(dm,c),d=y,()=>{a.removeEventListener(dm,c),d=null}},createHref(y){return t(a,y)},createURL:f,encodeLocation(y){let u=f(y);return{pathname:u.pathname,search:u.search,hash:u.hash}},push:h,replace:_,go(y){return l.go(y)}};return m}var mm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mm||(mm={}));function Qv(e,t,s){return s===void 0&&(s="/"),Kv(e,t,s,!1)}function Kv(e,t,s,r){let a=typeof t=="string"?yr(t):t,i=Dd(a.pathname||"/",s);if(i==null)return null;let l=ip(e);Jv(l);let o=null;for(let d=0;o==null&&d<l.length;++d){let g=ly(i);o=oy(l[d],g,r)}return o}function ip(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let a=(i,l,o)=>{let d={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(ot(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let g=ls([r,d.relativePath]),v=s.concat(d);i.children&&i.children.length>0&&(ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),ip(i.children,t,v,g)),!(i.path==null&&!i.index)&&t.push({path:g,score:ry(g,i.index),routesMeta:v})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let d of lp(i.path))a(i,l,d)}),t}function lp(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let l=lp(r.join("/")),o=[];return o.push(...l.map(d=>d===""?i:[i,d].join("/"))),a&&o.push(...l),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function Jv(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:ay(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const Xv=/^:[\w-]+$/,Zv=3,ey=2,ty=1,ny=10,sy=-2,fm=e=>e==="*";function ry(e,t){let s=e.split("/"),r=s.length;return s.some(fm)&&(r+=sy),t&&(r+=ey),s.filter(a=>!fm(a)).reduce((a,i)=>a+(Xv.test(i)?Zv:i===""?ty:ny),r)}function ay(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function oy(e,t,s){let{routesMeta:r}=e,a={},i="/",l=[];for(let o=0;o<r.length;++o){let d=r[o],g=o===r.length-1,v=i==="/"?t:t.slice(i.length)||"/",c=hm({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},v),h=d.route;if(!c&&g&&s&&!r[r.length-1].route.index&&(c=hm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!c)return null;Object.assign(a,c.params),l.push({params:a,pathname:ls([i,c.pathname]),pathnameBase:my(ls([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=ls([i,c.pathnameBase]))}return l}function hm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=iy(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((g,v,c)=>{let{paramName:h,isOptional:_}=v;if(h==="*"){let m=o[c]||"";l=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const f=o[c];return _&&!f?g[h]=void 0:g[h]=(f||"").replace(/%2F/g,"/"),g},{}),pathname:i,pathnameBase:l,pattern:e}}function iy(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),op(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,d)=>(r.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function ly(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return op(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Dd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function cy(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:a=""}=typeof e=="string"?yr(e):e;return{pathname:s?s.startsWith("/")?s:dy(s,t):t,search:fy(r),hash:hy(a)}}function dy(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function yl(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uy(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Td(e,t){let s=uy(e);return t?s.map((r,a)=>a===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Od(e,t,s,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=yr(e):(a=Ca({},e),ot(!a.pathname||!a.pathname.includes("?"),yl("?","pathname","search",a)),ot(!a.pathname||!a.pathname.includes("#"),yl("#","pathname","hash",a)),ot(!a.search||!a.search.includes("#"),yl("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=s;else{let c=t.length-1;if(!r&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),c-=1;a.pathname=h.join("/")}o=c>=0?t[c]:"/"}let d=cy(a,o),g=l&&l!=="/"&&l.endsWith("/"),v=(i||l===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(g||v)&&(d.pathname+="/"),d}const ls=e=>e.join("/").replace(/\/\/+/g,"/"),my=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function py(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cp=["post","put","patch","delete"];new Set(cp);const gy=["get",...cp];new Set(gy);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Sa.apply(this,arguments)}const Md=j.createContext(null),_y=j.createContext(null),hs=j.createContext(null),Bi=j.createContext(null),jn=j.createContext({outlet:null,matches:[],isDataRoute:!1}),dp=j.createContext(null);function vy(e,t){let{relative:s}=t===void 0?{}:t;xr()||ot(!1);let{basename:r,navigator:a}=j.useContext(hs),{hash:i,pathname:l,search:o}=mp(e,{relative:s}),d=l;return r!=="/"&&(d=l==="/"?r:ls([r,l])),a.createHref({pathname:d,search:o,hash:i})}function xr(){return j.useContext(Bi)!=null}function br(){return xr()||ot(!1),j.useContext(Bi).location}function up(e){j.useContext(hs).static||j.useLayoutEffect(e)}function mt(){let{isDataRoute:e}=j.useContext(jn);return e?Ly():yy()}function yy(){xr()||ot(!1);let e=j.useContext(Md),{basename:t,future:s,navigator:r}=j.useContext(hs),{matches:a}=j.useContext(jn),{pathname:i}=br(),l=JSON.stringify(Td(a,s.v7_relativeSplatPath)),o=j.useRef(!1);return up(()=>{o.current=!0}),j.useCallback(function(g,v){if(v===void 0&&(v={}),!o.current)return;if(typeof g=="number"){r.go(g);return}let c=Od(g,JSON.parse(l),i,v.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:ls([t,c.pathname])),(v.replace?r.replace:r.push)(c,v.state,v)},[t,r,l,i,e])}const xy=j.createContext(null);function by(e){let t=j.useContext(jn).outlet;return t&&j.createElement(xy.Provider,{value:e},t)}function ps(){let{matches:e}=j.useContext(jn),t=e[e.length-1];return t?t.params:{}}function mp(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=j.useContext(hs),{matches:a}=j.useContext(jn),{pathname:i}=br(),l=JSON.stringify(Td(a,r.v7_relativeSplatPath));return j.useMemo(()=>Od(e,JSON.parse(l),i,s==="path"),[e,l,i,s])}function jy(e,t){return wy(e,t)}function wy(e,t,s,r){xr()||ot(!1);let{navigator:a}=j.useContext(hs),{matches:i}=j.useContext(jn),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let g=br(),v;if(t){var c;let y=typeof t=="string"?yr(t):t;d==="/"||(c=y.pathname)!=null&&c.startsWith(d)||ot(!1),v=y}else v=g;let h=v.pathname||"/",_=h;if(d!=="/"){let y=d.replace(/^\//,"").split("/");_="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let f=Qv(e,{pathname:_}),m=$y(f&&f.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:ls([d,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:ls([d,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,s,r);return t&&m?j.createElement(Bi.Provider,{value:{location:Sa({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Xn.Pop}},m):m}function Cy(){let e=Ry(),t=py(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),s?j.createElement("pre",{style:a},s):null,null)}const Sy=j.createElement(Cy,null);class Ny extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?j.createElement(jn.Provider,{value:this.props.routeContext},j.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Iy(e){let{routeContext:t,match:s,children:r}=e,a=j.useContext(Md);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),j.createElement(jn.Provider,{value:t},r)}function $y(e,t,s,r){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var i;if((i=s)!=null&&i.errors)e=s.matches;else return null}let l=e,o=(a=s)==null?void 0:a.errors;if(o!=null){let v=l.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);v>=0||ot(!1),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,g=-1;if(s&&r&&r.v7_partialHydration)for(let v=0;v<l.length;v++){let c=l[v];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(g=v),c.route.id){let{loaderData:h,errors:_}=s,f=c.route.loader&&h[c.route.id]===void 0&&(!_||_[c.route.id]===void 0);if(c.route.lazy||f){d=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((v,c,h)=>{let _,f=!1,m=null,y=null;s&&(_=o&&c.route.id?o[c.route.id]:void 0,m=c.route.errorElement||Sy,d&&(g<0&&h===0?(f=!0,y=null):g===h&&(f=!0,y=c.route.hydrateFallbackElement||null)));let u=t.concat(l.slice(0,h+1)),p=()=>{let x;return _?x=m:f?x=y:c.route.Component?x=j.createElement(c.route.Component,null):c.route.element?x=c.route.element:x=v,j.createElement(Iy,{match:c,routeContext:{outlet:v,matches:u,isDataRoute:s!=null},children:x})};return s&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?j.createElement(Ny,{location:s.location,revalidation:s.revalidation,component:m,error:_,children:p(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):p()},null)}var fp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fp||{}),ui=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ui||{});function ky(e){let t=j.useContext(Md);return t||ot(!1),t}function Ey(e){let t=j.useContext(_y);return t||ot(!1),t}function By(e){let t=j.useContext(jn);return t||ot(!1),t}function hp(e){let t=By(),s=t.matches[t.matches.length-1];return s.route.id||ot(!1),s.route.id}function Ry(){var e;let t=j.useContext(dp),s=Ey(ui.UseRouteError),r=hp(ui.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function Ly(){let{router:e}=ky(fp.UseNavigateStable),t=hp(ui.UseNavigateStable),s=j.useRef(!1);return up(()=>{s.current=!0}),j.useCallback(function(a,i){i===void 0&&(i={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Sa({fromRouteId:t},i)))},[e,t])}function Wn(e){let{to:t,replace:s,state:r,relative:a}=e;xr()||ot(!1);let{future:i,static:l}=j.useContext(hs),{matches:o}=j.useContext(jn),{pathname:d}=br(),g=mt(),v=Od(t,Td(o,i.v7_relativeSplatPath),d,a==="path"),c=JSON.stringify(v);return j.useEffect(()=>g(JSON.parse(c),{replace:s,state:r,relative:a}),[g,c,a,s,r]),null}function wn(e){return by(e.context)}function Z(e){ot(!1)}function Fy(e){let{basename:t="/",children:s=null,location:r,navigationType:a=Xn.Pop,navigator:i,static:l=!1,future:o}=e;xr()&&ot(!1);let d=t.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:d,navigator:i,static:l,future:Sa({v7_relativeSplatPath:!1},o)}),[d,o,i,l]);typeof r=="string"&&(r=yr(r));let{pathname:v="/",search:c="",hash:h="",state:_=null,key:f="default"}=r,m=j.useMemo(()=>{let y=Dd(v,d);return y==null?null:{location:{pathname:y,search:c,hash:h,state:_,key:f},navigationType:a}},[d,v,c,h,_,f,a]);return m==null?null:j.createElement(hs.Provider,{value:g},j.createElement(Bi.Provider,{children:s,value:m}))}function Py(e){let{children:t,location:s}=e;return jy($c(t),s)}new Promise(()=>{});function $c(e,t){t===void 0&&(t=[]);let s=[];return j.Children.forEach(e,(r,a)=>{if(!j.isValidElement(r))return;let i=[...t,a];if(r.type===j.Fragment){s.push.apply(s,$c(r.props.children,i));return}r.type!==Z&&ot(!1),!r.props.index||!r.props.children||ot(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=$c(r.props.children,i)),s.push(l)}),s}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},kc.apply(this,arguments)}function Ay(e,t){if(e==null)return{};var s={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function Dy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ty(e,t){return e.button===0&&(!t||t==="_self")&&!Dy(e)}const Oy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],My="6";try{window.__reactRouterVersion=My}catch{}const Uy="startTransition",pm=Fg[Uy];function zy(e){let{basename:t,children:s,future:r,window:a}=e,i=j.useRef();i.current==null&&(i.current=Gv({window:a,v5Compat:!0}));let l=i.current,[o,d]=j.useState({action:l.action,location:l.location}),{v7_startTransition:g}=r||{},v=j.useCallback(c=>{g&&pm?pm(()=>d(c)):d(c)},[d,g]);return j.useLayoutEffect(()=>l.listen(v),[l,v]),j.createElement(Fy,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:l,future:r})}const qy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=j.forwardRef(function(t,s){let{onClick:r,relative:a,reloadDocument:i,replace:l,state:o,target:d,to:g,preventScrollReset:v,unstable_viewTransition:c}=t,h=Ay(t,Oy),{basename:_}=j.useContext(hs),f,m=!1;if(typeof g=="string"&&Vy.test(g)&&(f=g,qy))try{let x=new URL(window.location.href),w=g.startsWith("//")?new URL(x.protocol+g):new URL(g),I=Dd(w.pathname,_);w.origin===x.origin&&I!=null?g=I+w.search+w.hash:m=!0}catch{}let y=vy(g,{relative:a}),u=Hy(g,{replace:l,state:o,target:d,preventScrollReset:v,relative:a,unstable_viewTransition:c});function p(x){r&&r(x),x.defaultPrevented||u(x)}return j.createElement("a",kc({},h,{href:f||y,onClick:m||i?r:p,ref:s,target:d}))});var gm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gm||(gm={}));var _m;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_m||(_m={}));function Hy(e,t){let{target:s,replace:r,state:a,preventScrollReset:i,relative:l,unstable_viewTransition:o}=t===void 0?{}:t,d=mt(),g=br(),v=mp(e,{relative:l});return j.useCallback(c=>{if(Ty(c,s)){c.preventDefault();let h=r!==void 0?r:di(g)===di(v);d(e,{replace:h,state:a,preventScrollReset:i,relative:l,unstable_viewTransition:o})}},[g,d,v,r,a,s,e,i,l,o])}const Na="/assets/eGradeLogo-nobg-Dv5hW-t2.png",jr="/assets/eGradeLogo-removebg-preview-C9MHS6-z.png",Gy="_header_tw98g_3",Wy="_navBar_tw98g_17",Yy="_navUl_tw98g_35",Qy="_navLi_tw98g_53",Ky="_slideTop_tw98g_1",Jy="_navButton_tw98g_85",Xy="_login_tw98g_117",Zy="_navLogo_tw98g_157",ex="_slideRight_tw98g_1",tx="_homeSection_tw98g_173",nx="_homeContainer_tw98g_193",sx="_homeh1_tw98g_209",rx="_successSpan_tw98g_235",ax="_homeImage_tw98g_243",ox="_pageDividerBottom_tw98g_265",ix="_homeAboutSection_tw98g_301",lx="_aboutContainer_tw98g_313",cx="_aboutH1_tw98g_335",dx="_pageDividerTop_tw98g_347",ux="_slideBottom_tw98g_1",mx="_aboutLogoContainer_tw98g_385",fx="_logoContainer_tw98g_405",hx="_icon_tw98g_427",px="_aboutContent_tw98g_449",gx="_animate_tw98g_485",_x="_footerContainer_tw98g_511",vx="_eLogo_tw98g_531",yx="_emailIcon_tw98g_553",xx="_evaluation_tw98g_567",bx="_footers_tw98g_575",jx="_slideLeft_tw98g_1",Be={header:Gy,navBar:Wy,navUl:Yy,navLi:Qy,slideTop:Ky,navButton:Jy,login:Xy,navLogo:Zy,slideRight:ex,homeSection:tx,homeContainer:nx,homeh1:sx,successSpan:rx,homeImage:ax,pageDividerBottom:ox,homeAboutSection:ix,aboutContainer:lx,aboutH1:cx,pageDividerTop:dx,slideBottom:ux,aboutLogoContainer:mx,logoContainer:fx,icon:hx,aboutContent:px,animate:gx,footerContainer:_x,eLogo:vx,emailIcon:yx,evaluation:xx,footers:bx,slideLeft:jx},wx="/assets/icon1-Cj0x2h5G.png",Cx="/assets/icon2-BEaqncgb.png",Sx="/assets/icon3-B_X35H08.png",Nx="/assets/computerpeopleFINAL-H62O4YPD.png",Ri="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1366'%20zoomAndPan='magnify'%20viewBox='0%200%201024.5%20576'%20height='768'%20preserveAspectRatio='xMidYMid%20meet'%20version='1.0'%3e%3cdefs%3e%3cclipPath%20id='fdf3555286'%3e%3cpath%20d='M%201%20474.617188%20L%201023%20474.617188%20L%201023%20575.859375%20L%201%20575.859375%20Z%20M%201%20474.617188%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20clip-path='url(%23fdf3555286)'%3e%3cpath%20fill='%231b4a9c'%20d='M%20987.402344%20486.523438%20C%20912.851562%20511.421875%20859.808594%20526.648438%20801.210938%20539.855469%20C%20733.515625%20555.15625%20685.382812%20561.433594%20628.730469%20562.371094%20C%20567.53125%20563.308594%20519.542969%20558.332031%20445.066406%20543.105469%20C%20415.042969%20536.96875%20380.1875%20529.101562%20306.070312%20511.710938%20C%20232.53125%20494.464844%20187.066406%20485.296875%20158.921875%20482.195312%20C%20108.910156%20476.566406%2058.105469%20481.039062%2010.476562%20495.257812%20L%201.597656%20497.855469%20L%201.453125%20605.238281%20L%201.238281%20712.695312%20L%201022.761719%20712.695312%20L%201022.761719%20593.621094%20C%201022.761719%20528.09375%201022.691406%20474.617188%201022.617188%20474.6875%20C%201022.472656%20474.761719%201006.667969%20480.101562%20987.402344%20486.523438%20Z%20M%20987.402344%20486.523438%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e",Ix="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1366'%20zoomAndPan='magnify'%20viewBox='0%200%201024.5%20576'%20height='768'%20preserveAspectRatio='xMidYMid%20meet'%20version='1.0'%3e%3cdefs%3e%3cclipPath%20id='8f93af8e72'%3e%3cpath%20d='M%201%200.140625%20L%201023%200.140625%20L%201023%20101.546875%20L%201%20101.546875%20Z%20M%201%200.140625%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20clip-path='url(%238f93af8e72)'%3e%3cpath%20fill='%231b4a9c'%20d='M%2036.601562%2089.640625%20C%20111.148438%2064.742188%20164.191406%2049.515625%20222.789062%2036.308594%20C%20290.484375%2021.007812%20338.617188%2014.730469%20395.269531%2013.792969%20C%20456.46875%2012.855469%20504.457031%2017.832031%20578.933594%2033.0625%20C%20608.957031%2039.195312%20643.8125%2047.0625%20717.929688%2064.453125%20C%20791.46875%2081.703125%20836.933594%2090.867188%20865.078125%2093.96875%20C%20915.089844%2099.597656%20965.894531%2095.125%201013.523438%2080.90625%20L%201022.402344%2078.308594%20L%201022.546875%20-29.074219%20L%201022.761719%20-136.53125%20L%201.238281%20-136.53125%20L%201.238281%20-17.457031%20C%201.238281%2048.070312%201.308594%20101.546875%201.382812%20101.476562%20C%201.527344%20101.402344%2017.332031%2096.0625%2036.601562%2089.640625%20Z%20M%2036.601562%2089.640625%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e",$x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAVBJREFUSEvtlT1LA1EUROe82hQKQhDsBEH/hGWwFrEQQVCIWAjWloKdYCEGFASxELGWlP4JBWtBAkIsYv1Gkt2EEDYfJmwT3G55986ZO3d5i3J+yFlfUwSwvSH7VNLyhLG9C06Ap6ZOJyLH+CppZULxdvsbIaz2Atw6ta8EB2OBunoJoWW+e4IWoHlguyT7VlJxRFBNsAtUHWNHJ3sCKAA/tmcVY0WwORBiPyqEMvBte0Z2o200GyB9CHaAlyQxb8m+lDTXA6oLDoGHtG5N9p2kxWGARMe+UQjHQMN2MY2slEKqaSQ12wXFeC7Y6zbQdwc9Lj8F+8Bz6rLccgeV9H1d9rWkhd4YRwW0p7lXCEdAPRWeU4wXgu1++/kbIFH56sTQjE+aH7T8cQAjfrFJ2T9gaFxZEeV82SXX9ZmkpaH2BhdkX9cTivZtn6JfZl4R/QKTSakZIGCl5QAAAABJRU5ErkJggg==";function kx(){j.useEffect(()=>{if(window.location.hash==="#About"){const a=document.getElementById("About");a&&a.scrollIntoView({behavior:"smooth"})}},[]);const e=a=>{a.preventDefault();const i=a.currentTarget.hash.substring(1),l=document.getElementById(i);l&&l.scrollIntoView({behavior:"smooth",block:"start"})},t=j.useRef(),s=j.useRef(),r=j.useRef();return j.useEffect(()=>{const a=new IntersectionObserver(l=>{l.forEach(o=>{o.isIntersecting&&o.target.classList.add(Be.animate)})},{threshold:.1}),i=[t,s,r];return i.forEach(l=>{l.current&&a.observe(l.current)}),()=>{i.forEach(l=>{l.current&&a.unobserve(l.current)})}},[]),n.jsxs(n.Fragment,{children:[n.jsxs("header",{className:Be.header,children:[n.jsxs("nav",{className:Be.navBar,children:[n.jsx("img",{src:Na,alt:"eGrade Navigator",className:Be.navLogo}),n.jsxs("ul",{className:Be.navUl,children:[n.jsx("li",{className:Be.navLi,children:n.jsx(dt,{to:"#Home",className:Be.navButton,onClick:a=>e(a),children:"Home"})}),n.jsx("li",{className:Be.navLi,children:n.jsx(dt,{to:"#About",className:Be.navButton,onClick:a=>e(a),children:"About"})}),n.jsx("li",{className:Be.loginBtn,id:Be.navLi,children:n.jsx(dt,{to:"/login",className:Be.login,children:"Login"})})]})]}),n.jsx(wn,{})]}),n.jsxs("section",{className:Be.homeSection,id:"Home",children:[n.jsxs("div",{className:Be.homeContainer,children:[n.jsxs("h1",{className:Be.homeh1,children:["Welcome, ",n.jsx("br",{})," Join us Navigate ",n.jsx("br",{})," our ",n.jsx("span",{className:Be.successSpan,children:"Success"}),"!"]}),n.jsx("img",{src:Nx,alt:"",className:Be.homeImage})]}),n.jsx("div",{className:Be.pageDividerBottom,children:n.jsx("img",{src:Ri,alt:"wave"})})]}),n.jsxs("section",{id:"About",className:Be.homeAboutSection,children:[n.jsxs("div",{className:Be.aboutContainer,children:[n.jsx("div",{className:Be.pageDividerTop,children:n.jsx("img",{src:Ix,alt:""})}),n.jsx("div",{ref:t,children:n.jsx("h1",{className:Be.aboutH1,children:"KEY FEATURES:"})}),n.jsxs("div",{ref:s,className:Be.aboutLogoContainer,children:[n.jsxs("div",{className:Be.logoContainer,children:[n.jsx("img",{src:wx,alt:"",className:Be.icon}),n.jsxs("h2",{children:["GRADE",n.jsx("br",{}),"ACCESSIBILITY"]})]}),n.jsxs("div",{className:Be.logoContainer,children:[n.jsx("img",{src:Cx,alt:"",className:Be.icon}),n.jsxs("h2",{children:["GRADE ",n.jsx("br",{})," SUBMISSION"]})]}),n.jsxs("div",{className:Be.logoContainer,children:[n.jsx("img",{src:Sx,alt:"",className:Be.icon}),n.jsxs("h2",{children:["ONLINE",n.jsx("br",{}),"GRADE REVIEW"]})]})]})]}),n.jsx("div",{ref:r,className:Be.aboutContent,children:n.jsx("p",{children:"eGrade Navigator is an innovative way to submit, display, and modify grades in such a way as to provide accessibility, convenience, accurate and quality output."})})]}),n.jsx("footer",{children:n.jsxs("div",{className:Be.footerContainer,children:[n.jsxs("div",{className:Be.footers,children:[n.jsx("img",{src:jr,alt:"",className:Be.eLogo}),n.jsx("p",{children:"Copyright © 2024"}),n.jsx("p",{children:"All Rights Reserved"})]}),n.jsxs("div",{className:Be.footers,children:[n.jsxs("p",{children:[n.jsx("img",{src:$x,alt:"",className:Be.emailIcon}),"egradenavigator@gmail.com"]}),n.jsx("a",{href:"https://forms.gle/mdyuhmVDkqRh6Jsz8",target:"_blank",rel:"noopener noreferrer",className:Be.evaluation,children:"Evaluation Form"})]}),n.jsxs("div",{className:Be.footers,children:[n.jsx("p",{children:"Developed By:"}),n.jsx("p",{children:"Lancelot D. Grafilo"}),n.jsx("p",{children:"BSCS 4B"})]})]})})]})}const Ex="_loginPageContainer_1yknf_3",Bx="_header_1yknf_13",Rx="_navBar_1yknf_27",Lx="_navUl_1yknf_45",Fx="_navLi_1yknf_61",Px="_slideTop_1yknf_1",Ax="_navButton_1yknf_93",Dx="_navLogo_1yknf_123",Tx="_slideRight_1yknf_1",Ox="_homeSection_1yknf_141",Mx="_homeContainer_1yknf_159",Ux="_homeh1_1yknf_177",zx="_successSpan_1yknf_201",qx="_pageDivider_1yknf_209",Vx="_loginContainer_1yknf_247",Hx="_gradeLogo_1yknf_273",Gx="_formLogo_1yknf_287",Wx="_inputBox_1yknf_309",Yx="_inputLabelUser_1yknf_327",Qx="_inputLabelPass_1yknf_329",Kx="_userInput_1yknf_351",Jx="_userPass_1yknf_353",Xx="_togglePasswordButton_1yknf_461",Zx="_rememberForgot_1yknf_521",e1="_forgotPass_1yknf_545",t1="_loginButton_1yknf_609",n1="_loader_1yknf_667",s1="_login_1yknf_3",r1="_slideLeft_1yknf_1",a1="_slideBottom_1yknf_1",He={loginPageContainer:Ex,header:Bx,navBar:Rx,navUl:Lx,navLi:Fx,slideTop:Px,navButton:Ax,navLogo:Dx,slideRight:Tx,homeSection:Ox,homeContainer:Mx,homeh1:Ux,successSpan:zx,pageDivider:qx,loginContainer:Vx,gradeLogo:Hx,formLogo:Gx,inputBox:Wx,inputLabelUser:Yx,inputLabelPass:Qx,userInput:Kx,userPass:Jx,togglePasswordButton:Xx,rememberForgot:Zx,forgotPass:e1,loginButton:t1,loader:n1,"l20-1":"_l20-1_1yknf_1","l20-2":"_l20-2_1yknf_1",login:s1,slideLeft:r1,slideBottom:a1},o1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAURJREFUSEvF1L8rRXEYx/HXTWaEwSiZLIpVRgulKBaLzWLwa7QopURS/gRZ5FcW/wAlGWQiIykMKKX8OKdc3c69557bOW6+2znn+3zen+fp85ycKp9clfVVCujFIjp+DF1gDsdJBisBjGKTIjOfGMRBOUgSoB43aIgRuUMb3uIgSYDQ4U7CGPpwlBYwjeUEwBRW0wIGsJ8A6MdhWkAdrtEUI3CPdrykBYR1I9gqIRCmaAi7WVKUr+3B0s8efOASszj5iz1I0ij7PSmmmcTD4nKAZswEm9oVzLkTjRHaI85xihU8lHITBxgLBNeDfIcpquQ8YRx70culAJPBr2GtEtUSd4axXfg+CmjFFWpSAl4RavyOKwrYwERK8XzZfGBwIf8QBdyiJSPgDN1xgHfUZgQ8F4Yj2sFXRvEi4/+6aH/STNU7+AYkwS0ZwQsJ3gAAAABJRU5ErkJggg==",Ia="/assets/eyeIcon-CP5edjzP.png",$a="/assets/eyeSlashIcon-BljHMQ0Y.png";function pp(e,t){return function(){return e.apply(t,arguments)}}const{toString:i1}=Object.prototype,{getPrototypeOf:Ud}=Object,Li=(e=>t=>{const s=i1.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),hn=e=>(e=e.toLowerCase(),t=>Li(t)===e),Fi=e=>t=>typeof t===e,{isArray:wr}=Array,ka=Fi("undefined");function l1(e){return e!==null&&!ka(e)&&e.constructor!==null&&!ka(e.constructor)&&Gt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gp=hn("ArrayBuffer");function c1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gp(e.buffer),t}const d1=Fi("string"),Gt=Fi("function"),_p=Fi("number"),Pi=e=>e!==null&&typeof e=="object",u1=e=>e===!0||e===!1,Do=e=>{if(Li(e)!=="object")return!1;const t=Ud(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},m1=hn("Date"),f1=hn("File"),h1=hn("Blob"),p1=hn("FileList"),g1=e=>Pi(e)&&Gt(e.pipe),_1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Gt(e.append)&&((t=Li(e))==="formdata"||t==="object"&&Gt(e.toString)&&e.toString()==="[object FormData]"))},v1=hn("URLSearchParams"),[y1,x1,b1,j1]=["ReadableStream","Request","Response","Headers"].map(hn),w1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Da(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),wr(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=s?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(r=0;r<l;r++)o=i[r],t.call(null,e[o],o,e)}}function vp(e,t){t=t.toLowerCase();const s=Object.keys(e);let r=s.length,a;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const Ss=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yp=e=>!ka(e)&&e!==Ss;function Ec(){const{caseless:e}=yp(this)&&this||{},t={},s=(r,a)=>{const i=e&&vp(t,a)||a;Do(t[i])&&Do(r)?t[i]=Ec(t[i],r):Do(r)?t[i]=Ec({},r):wr(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Da(arguments[r],s);return t}const C1=(e,t,s,{allOwnKeys:r}={})=>(Da(t,(a,i)=>{s&&Gt(a)?e[i]=pp(a,s):e[i]=a},{allOwnKeys:r}),e),S1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),N1=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},I1=(e,t,s,r)=>{let a,i,l;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)l=a[i],(!r||r(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=s!==!1&&Ud(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},$1=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},k1=e=>{if(!e)return null;if(wr(e))return e;let t=e.length;if(!_p(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},E1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ud(Uint8Array)),B1=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},R1=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},L1=hn("HTMLFormElement"),F1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),vm=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),P1=hn("RegExp"),xp=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Da(s,(a,i)=>{let l;(l=t(a,i,e))!==!1&&(r[i]=l||a)}),Object.defineProperties(e,r)},A1=e=>{xp(e,(t,s)=>{if(Gt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(Gt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},D1=(e,t)=>{const s={},r=a=>{a.forEach(i=>{s[i]=!0})};return wr(e)?r(e):r(String(e).split(t)),s},T1=()=>{},O1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,xl="abcdefghijklmnopqrstuvwxyz",ym="0123456789",bp={DIGIT:ym,ALPHA:xl,ALPHA_DIGIT:xl+xl.toUpperCase()+ym},M1=(e=16,t=bp.ALPHA_DIGIT)=>{let s="";const{length:r}=t;for(;e--;)s+=t[Math.random()*r|0];return s};function U1(e){return!!(e&&Gt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const z1=e=>{const t=new Array(10),s=(r,a)=>{if(Pi(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=wr(r)?[]:{};return Da(r,(l,o)=>{const d=s(l,a+1);!ka(d)&&(i[o]=d)}),t[a]=void 0,i}}return r};return s(e,0)},q1=hn("AsyncFunction"),V1=e=>e&&(Pi(e)||Gt(e))&&Gt(e.then)&&Gt(e.catch),jp=((e,t)=>e?setImmediate:t?((s,r)=>(Ss.addEventListener("message",({source:a,data:i})=>{a===Ss&&i===s&&r.length&&r.shift()()},!1),a=>{r.push(a),Ss.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Gt(Ss.postMessage)),H1=typeof queueMicrotask<"u"?queueMicrotask.bind(Ss):typeof process<"u"&&process.nextTick||jp,O={isArray:wr,isArrayBuffer:gp,isBuffer:l1,isFormData:_1,isArrayBufferView:c1,isString:d1,isNumber:_p,isBoolean:u1,isObject:Pi,isPlainObject:Do,isReadableStream:y1,isRequest:x1,isResponse:b1,isHeaders:j1,isUndefined:ka,isDate:m1,isFile:f1,isBlob:h1,isRegExp:P1,isFunction:Gt,isStream:g1,isURLSearchParams:v1,isTypedArray:E1,isFileList:p1,forEach:Da,merge:Ec,extend:C1,trim:w1,stripBOM:S1,inherits:N1,toFlatObject:I1,kindOf:Li,kindOfTest:hn,endsWith:$1,toArray:k1,forEachEntry:B1,matchAll:R1,isHTMLForm:L1,hasOwnProperty:vm,hasOwnProp:vm,reduceDescriptors:xp,freezeMethods:A1,toObjectSet:D1,toCamelCase:F1,noop:T1,toFiniteNumber:O1,findKey:vp,global:Ss,isContextDefined:yp,ALPHABET:bp,generateString:M1,isSpecCompliantForm:U1,toJSONObject:z1,isAsyncFn:q1,isThenable:V1,setImmediate:jp,asap:H1};function Ne(e,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a)}O.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const wp=Ne.prototype,Cp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Cp[e]={value:e}});Object.defineProperties(Ne,Cp);Object.defineProperty(wp,"isAxiosError",{value:!0});Ne.from=(e,t,s,r,a,i)=>{const l=Object.create(wp);return O.toFlatObject(e,l,function(d){return d!==Error.prototype},o=>o!=="isAxiosError"),Ne.call(l,e.message,t,s,r,a),l.cause=e,l.name=e.name,i&&Object.assign(l,i),l};const G1=null;function Bc(e){return O.isPlainObject(e)||O.isArray(e)}function Sp(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function xm(e,t,s){return e?e.concat(t).map(function(a,i){return a=Sp(a),!s&&i?"["+a+"]":a}).join(s?".":""):t}function W1(e){return O.isArray(e)&&!e.some(Bc)}const Y1=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function Ai(e,t,s){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=O.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!O.isUndefined(y[m])});const r=s.metaTokens,a=s.visitor||v,i=s.dots,l=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(a))throw new TypeError("visitor must be a function");function g(f){if(f===null)return"";if(O.isDate(f))return f.toISOString();if(!d&&O.isBlob(f))throw new Ne("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(f)||O.isTypedArray(f)?d&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function v(f,m,y){let u=f;if(f&&!y&&typeof f=="object"){if(O.endsWith(m,"{}"))m=r?m:m.slice(0,-2),f=JSON.stringify(f);else if(O.isArray(f)&&W1(f)||(O.isFileList(f)||O.endsWith(m,"[]"))&&(u=O.toArray(f)))return m=Sp(m),u.forEach(function(x,w){!(O.isUndefined(x)||x===null)&&t.append(l===!0?xm([m],w,i):l===null?m:m+"[]",g(x))}),!1}return Bc(f)?!0:(t.append(xm(y,m,i),g(f)),!1)}const c=[],h=Object.assign(Y1,{defaultVisitor:v,convertValue:g,isVisitable:Bc});function _(f,m){if(!O.isUndefined(f)){if(c.indexOf(f)!==-1)throw Error("Circular reference detected in "+m.join("."));c.push(f),O.forEach(f,function(u,p){(!(O.isUndefined(u)||u===null)&&a.call(t,u,O.isString(p)?p.trim():p,m,h))===!0&&_(u,m?m.concat(p):[p])}),c.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return _(e),t}function bm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function zd(e,t){this._pairs=[],e&&Ai(e,this,t)}const Np=zd.prototype;Np.append=function(t,s){this._pairs.push([t,s])};Np.toString=function(t){const s=t?function(r){return t.call(this,r,bm)}:bm;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function Q1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ip(e,t,s){if(!t)return e;const r=s&&s.encode||Q1,a=s&&s.serialize;let i;if(a?i=a(t,s):i=O.isURLSearchParams(t)?t.toString():new zd(t,s).toString(r),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class jm{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(r){r!==null&&t(r)})}}const $p={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},K1=typeof URLSearchParams<"u"?URLSearchParams:zd,J1=typeof FormData<"u"?FormData:null,X1=typeof Blob<"u"?Blob:null,Z1={isBrowser:!0,classes:{URLSearchParams:K1,FormData:J1,Blob:X1},protocols:["http","https","file","blob","url","data"]},qd=typeof window<"u"&&typeof document<"u",eb=(e=>qd&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),tb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nb=qd&&window.location.href||"http://localhost",sb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qd,hasStandardBrowserEnv:eb,hasStandardBrowserWebWorkerEnv:tb,origin:nb},Symbol.toStringTag,{value:"Module"})),mn={...sb,...Z1};function rb(e,t){return Ai(e,new mn.classes.URLSearchParams,Object.assign({visitor:function(s,r,a,i){return mn.isNode&&O.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function ab(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ob(e){const t={},s=Object.keys(e);let r;const a=s.length;let i;for(r=0;r<a;r++)i=s[r],t[i]=e[i];return t}function kp(e){function t(s,r,a,i){let l=s[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),d=i>=s.length;return l=!l&&O.isArray(a)?a.length:l,d?(O.hasOwnProp(a,l)?a[l]=[a[l],r]:a[l]=r,!o):((!a[l]||!O.isObject(a[l]))&&(a[l]=[]),t(s,r,a[l],i)&&O.isArray(a[l])&&(a[l]=ob(a[l])),!o)}if(O.isFormData(e)&&O.isFunction(e.entries)){const s={};return O.forEachEntry(e,(r,a)=>{t(ab(r),a,s,0)}),s}return null}function ib(e,t,s){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const Ta={transitional:$p,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,i=O.isObject(t);if(i&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return a?JSON.stringify(kp(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rb(t,this.formSerializer).toString();if((o=O.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ai(o?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),ib(t)):t}],transformResponse:[function(t){const s=this.transitional||Ta.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(r&&!this.responseType||a)){const l=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(o){if(l)throw o.name==="SyntaxError"?Ne.from(o,Ne.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mn.classes.FormData,Blob:mn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{Ta.headers[e]={}});const lb=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cb=e=>{const t={};let s,r,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),s=l.substring(0,a).trim().toLowerCase(),r=l.substring(a+1).trim(),!(!s||t[s]&&lb[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},wm=Symbol("internals");function zr(e){return e&&String(e).trim().toLowerCase()}function To(e){return e===!1||e==null?e:O.isArray(e)?e.map(To):String(e)}function db(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const ub=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function bl(e,t,s,r,a){if(O.isFunction(r))return r.call(this,t,s);if(a&&(t=s),!!O.isString(t)){if(O.isString(r))return t.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(t)}}function mb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function fb(e,t){const s=O.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(a,i,l){return this[r].call(this,t,a,i,l)},configurable:!0})})}class Mt{constructor(t){t&&this.set(t)}set(t,s,r){const a=this;function i(o,d,g){const v=zr(d);if(!v)throw new Error("header name must be a non-empty string");const c=O.findKey(a,v);(!c||a[c]===void 0||g===!0||g===void 0&&a[c]!==!1)&&(a[c||d]=To(o))}const l=(o,d)=>O.forEach(o,(g,v)=>i(g,v,d));if(O.isPlainObject(t)||t instanceof this.constructor)l(t,s);else if(O.isString(t)&&(t=t.trim())&&!ub(t))l(cb(t),s);else if(O.isHeaders(t))for(const[o,d]of t.entries())i(d,o,r);else t!=null&&i(s,t,r);return this}get(t,s){if(t=zr(t),t){const r=O.findKey(this,t);if(r){const a=this[r];if(!s)return a;if(s===!0)return db(a);if(O.isFunction(s))return s.call(this,a,r);if(O.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=zr(t),t){const r=O.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||bl(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let a=!1;function i(l){if(l=zr(l),l){const o=O.findKey(r,l);o&&(!s||bl(r,r[o],o,s))&&(delete r[o],a=!0)}}return O.isArray(t)?t.forEach(i):i(t),a}clear(t){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const i=s[r];(!t||bl(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const s=this,r={};return O.forEach(this,(a,i)=>{const l=O.findKey(r,i);if(l){s[l]=To(a),delete s[i];return}const o=t?mb(i):String(i).trim();o!==i&&delete s[i],s[o]=To(a),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return O.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=t&&O.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[wm]=this[wm]={accessors:{}}).accessors,a=this.prototype;function i(l){const o=zr(l);r[o]||(fb(a,l),r[o]=!0)}return O.isArray(t)?t.forEach(i):i(t),this}}Mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Mt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});O.freezeMethods(Mt);function jl(e,t){const s=this||Ta,r=t||s,a=Mt.from(r.headers);let i=r.data;return O.forEach(e,function(o){i=o.call(s,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function Ep(e){return!!(e&&e.__CANCEL__)}function Cr(e,t,s){Ne.call(this,e??"canceled",Ne.ERR_CANCELED,t,s),this.name="CanceledError"}O.inherits(Cr,Ne,{__CANCEL__:!0});function Bp(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new Ne("Request failed with status code "+s.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function hb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function pb(e,t){e=e||10;const s=new Array(e),r=new Array(e);let a=0,i=0,l;return t=t!==void 0?t:1e3,function(d){const g=Date.now(),v=r[i];l||(l=g),s[a]=d,r[a]=g;let c=i,h=0;for(;c!==a;)h+=s[c++],c=c%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),g-l<t)return;const _=v&&g-v;return _?Math.round(h*1e3/_):void 0}}function gb(e,t){let s=0,r=1e3/t,a,i;const l=(g,v=Date.now())=>{s=v,a=null,i&&(clearTimeout(i),i=null),e.apply(null,g)};return[(...g)=>{const v=Date.now(),c=v-s;c>=r?l(g,v):(a=g,i||(i=setTimeout(()=>{i=null,l(a)},r-c)))},()=>a&&l(a)]}const mi=(e,t,s=3)=>{let r=0;const a=pb(50,250);return gb(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,d=l-r,g=a(d),v=l<=o;r=l;const c={loaded:l,total:o,progress:o?l/o:void 0,bytes:d,rate:g||void 0,estimated:g&&o&&v?(o-l)/g:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(c)},s)},Cm=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Sm=e=>(...t)=>O.asap(()=>e(...t)),_b=mn.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let r;function a(i){let l=i;return t&&(s.setAttribute("href",l),l=s.href),s.setAttribute("href",l),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return r=a(window.location.href),function(l){const o=O.isString(l)?a(l):l;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),vb=mn.hasStandardBrowserEnv?{write(e,t,s,r,a,i){const l=[e+"="+encodeURIComponent(t)];O.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),O.isString(r)&&l.push("path="+r),O.isString(a)&&l.push("domain="+a),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Rp(e,t){return e&&!yb(t)?xb(e,t):t}const Nm=e=>e instanceof Mt?{...e}:e;function Ps(e,t){t=t||{};const s={};function r(g,v,c){return O.isPlainObject(g)&&O.isPlainObject(v)?O.merge.call({caseless:c},g,v):O.isPlainObject(v)?O.merge({},v):O.isArray(v)?v.slice():v}function a(g,v,c){if(O.isUndefined(v)){if(!O.isUndefined(g))return r(void 0,g,c)}else return r(g,v,c)}function i(g,v){if(!O.isUndefined(v))return r(void 0,v)}function l(g,v){if(O.isUndefined(v)){if(!O.isUndefined(g))return r(void 0,g)}else return r(void 0,v)}function o(g,v,c){if(c in t)return r(g,v);if(c in e)return r(void 0,g)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(g,v)=>a(Nm(g),Nm(v),!0)};return O.forEach(Object.keys(Object.assign({},e,t)),function(v){const c=d[v]||a,h=c(e[v],t[v],v);O.isUndefined(h)&&c!==o||(s[v]=h)}),s}const Lp=e=>{const t=Ps({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=t;t.headers=l=Mt.from(l),t.url=Ip(Rp(t.baseURL,t.url),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let d;if(O.isFormData(s)){if(mn.hasStandardBrowserEnv||mn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[g,...v]=d?d.split(";").map(c=>c.trim()).filter(Boolean):[];l.setContentType([g||"multipart/form-data",...v].join("; "))}}if(mn.hasStandardBrowserEnv&&(r&&O.isFunction(r)&&(r=r(t)),r||r!==!1&&_b(t.url))){const g=a&&i&&vb.read(i);g&&l.set(a,g)}return t},bb=typeof XMLHttpRequest<"u",jb=bb&&function(e){return new Promise(function(s,r){const a=Lp(e);let i=a.data;const l=Mt.from(a.headers).normalize();let{responseType:o,onUploadProgress:d,onDownloadProgress:g}=a,v,c,h,_,f;function m(){_&&_(),f&&f(),a.cancelToken&&a.cancelToken.unsubscribe(v),a.signal&&a.signal.removeEventListener("abort",v)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function u(){if(!y)return;const x=Mt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),I={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:e,request:y};Bp(function(N){s(N),m()},function(N){r(N),m()},I),y=null}"onloadend"in y?y.onloadend=u:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(u)},y.onabort=function(){y&&(r(new Ne("Request aborted",Ne.ECONNABORTED,e,y)),y=null)},y.onerror=function(){r(new Ne("Network Error",Ne.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let w=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const I=a.transitional||$p;a.timeoutErrorMessage&&(w=a.timeoutErrorMessage),r(new Ne(w,I.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,e,y)),y=null},i===void 0&&l.setContentType(null),"setRequestHeader"in y&&O.forEach(l.toJSON(),function(w,I){y.setRequestHeader(I,w)}),O.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),o&&o!=="json"&&(y.responseType=a.responseType),g&&([h,f]=mi(g,!0),y.addEventListener("progress",h)),d&&y.upload&&([c,_]=mi(d),y.upload.addEventListener("progress",c),y.upload.addEventListener("loadend",_)),(a.cancelToken||a.signal)&&(v=x=>{y&&(r(!x||x.type?new Cr(null,e,y):x),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(v),a.signal&&(a.signal.aborted?v():a.signal.addEventListener("abort",v)));const p=hb(a.url);if(p&&mn.protocols.indexOf(p)===-1){r(new Ne("Unsupported protocol "+p+":",Ne.ERR_BAD_REQUEST,e));return}y.send(i||null)})},wb=(e,t)=>{let s=new AbortController,r;const a=function(d){if(!r){r=!0,l();const g=d instanceof Error?d:this.reason;s.abort(g instanceof Ne?g:new Cr(g instanceof Error?g.message:g))}};let i=t&&setTimeout(()=>{a(new Ne(`timeout ${t} of ms exceeded`,Ne.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d&&(d.removeEventListener?d.removeEventListener("abort",a):d.unsubscribe(a))}),e=null)};e.forEach(d=>d&&d.addEventListener&&d.addEventListener("abort",a));const{signal:o}=s;return o.unsubscribe=l,[o,()=>{i&&clearTimeout(i),i=null}]},Cb=function*(e,t){let s=e.byteLength;if(!t||s<t){yield e;return}let r=0,a;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},Sb=async function*(e,t,s){for await(const r of e)yield*Cb(ArrayBuffer.isView(r)?r:await s(String(r)),t)},Im=(e,t,s,r,a)=>{const i=Sb(e,t,a);let l=0,o,d=g=>{o||(o=!0,r&&r(g))};return new ReadableStream({async pull(g){try{const{done:v,value:c}=await i.next();if(v){d(),g.close();return}let h=c.byteLength;if(s){let _=l+=h;s(_)}g.enqueue(new Uint8Array(c))}catch(v){throw d(v),v}},cancel(g){return d(g),i.return()}},{highWaterMark:2})},Di=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Fp=Di&&typeof ReadableStream=="function",Rc=Di&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Pp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Nb=Fp&&Pp(()=>{let e=!1;const t=new Request(mn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),$m=64*1024,Lc=Fp&&Pp(()=>O.isReadableStream(new Response("").body)),fi={stream:Lc&&(e=>e.body)};Di&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!fi[t]&&(fi[t]=O.isFunction(e[t])?s=>s[t]():(s,r)=>{throw new Ne(`Response type '${t}' is not supported`,Ne.ERR_NOT_SUPPORT,r)})})})(new Response);const Ib=async e=>{if(e==null)return 0;if(O.isBlob(e))return e.size;if(O.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(O.isArrayBufferView(e)||O.isArrayBuffer(e))return e.byteLength;if(O.isURLSearchParams(e)&&(e=e+""),O.isString(e))return(await Rc(e)).byteLength},$b=async(e,t)=>{const s=O.toFiniteNumber(e.getContentLength());return s??Ib(t)},kb=Di&&(async e=>{let{url:t,method:s,data:r,signal:a,cancelToken:i,timeout:l,onDownloadProgress:o,onUploadProgress:d,responseType:g,headers:v,withCredentials:c="same-origin",fetchOptions:h}=Lp(e);g=g?(g+"").toLowerCase():"text";let[_,f]=a||i||l?wb([a,i],l):[],m,y;const u=()=>{!m&&setTimeout(()=>{_&&_.unsubscribe()}),m=!0};let p;try{if(d&&Nb&&s!=="get"&&s!=="head"&&(p=await $b(v,r))!==0){let $=new Request(t,{method:"POST",body:r,duplex:"half"}),N;if(O.isFormData(r)&&(N=$.headers.get("content-type"))&&v.setContentType(N),$.body){const[b,C]=Cm(p,mi(Sm(d)));r=Im($.body,$m,b,C,Rc)}}O.isString(c)||(c=c?"include":"omit"),y=new Request(t,{...h,signal:_,method:s.toUpperCase(),headers:v.normalize().toJSON(),body:r,duplex:"half",credentials:c});let x=await fetch(y);const w=Lc&&(g==="stream"||g==="response");if(Lc&&(o||w)){const $={};["status","statusText","headers"].forEach(S=>{$[S]=x[S]});const N=O.toFiniteNumber(x.headers.get("content-length")),[b,C]=o&&Cm(N,mi(Sm(o),!0))||[];x=new Response(Im(x.body,$m,b,()=>{C&&C(),w&&u()},Rc),$)}g=g||"text";let I=await fi[O.findKey(fi,g)||"text"](x,e);return!w&&u(),f&&f(),await new Promise(($,N)=>{Bp($,N,{data:I,headers:Mt.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:y})})}catch(x){throw u(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,e,y),{cause:x.cause||x}):Ne.from(x,x&&x.code,e,y)}}),Fc={http:G1,xhr:jb,fetch:kb};O.forEach(Fc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const km=e=>`- ${e}`,Eb=e=>O.isFunction(e)||e===null||e===!1,Ap={getAdapter:e=>{e=O.isArray(e)?e:[e];const{length:t}=e;let s,r;const a={};for(let i=0;i<t;i++){s=e[i];let l;if(r=s,!Eb(s)&&(r=Fc[(l=String(s)).toLowerCase()],r===void 0))throw new Ne(`Unknown adapter '${l}'`);if(r)break;a[l||"#"+i]=r}if(!r){const i=Object.entries(a).map(([o,d])=>`adapter ${o} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=t?i.length>1?`since :
`+i.map(km).join(`
`):" "+km(i[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Fc};function wl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cr(null,e)}function Em(e){return wl(e),e.headers=Mt.from(e.headers),e.data=jl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ap.getAdapter(e.adapter||Ta.adapter)(e).then(function(r){return wl(e),r.data=jl.call(e,e.transformResponse,r),r.headers=Mt.from(r.headers),r},function(r){return Ep(r)||(wl(e),r&&r.response&&(r.response.data=jl.call(e,e.transformResponse,r.response),r.response.headers=Mt.from(r.response.headers))),Promise.reject(r)})}const Dp="1.7.4",Vd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vd[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Bm={};Vd.transitional=function(t,s,r){function a(i,l){return"[Axios v"+Dp+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,o)=>{if(t===!1)throw new Ne(a(l," has been removed"+(s?" in "+s:"")),Ne.ERR_DEPRECATED);return s&&!Bm[l]&&(Bm[l]=!0,console.warn(a(l," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,l,o):!0}};function Bb(e,t,s){if(typeof e!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],l=t[i];if(l){const o=e[i],d=o===void 0||l(o,i,e);if(d!==!0)throw new Ne("option "+i+" must be "+d,Ne.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ne("Unknown option "+i,Ne.ERR_BAD_OPTION)}}const Pc={assertOptions:Bb,validators:Vd},qn=Pc.validators;class $s{constructor(t){this.defaults=t,this.interceptors={request:new jm,response:new jm}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Ps(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:i}=s;r!==void 0&&Pc.assertOptions(r,{silentJSONParsing:qn.transitional(qn.boolean),forcedJSONParsing:qn.transitional(qn.boolean),clarifyTimeoutError:qn.transitional(qn.boolean)},!1),a!=null&&(O.isFunction(a)?s.paramsSerializer={serialize:a}:Pc.assertOptions(a,{encode:qn.function,serialize:qn.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=i&&O.merge(i.common,i[s.method]);i&&O.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),s.headers=Mt.concat(l,i);const o=[];let d=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(s)===!1||(d=d&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const g=[];this.interceptors.response.forEach(function(m){g.push(m.fulfilled,m.rejected)});let v,c=0,h;if(!d){const f=[Em.bind(this),void 0];for(f.unshift.apply(f,o),f.push.apply(f,g),h=f.length,v=Promise.resolve(s);c<h;)v=v.then(f[c++],f[c++]);return v}h=o.length;let _=s;for(c=0;c<h;){const f=o[c++],m=o[c++];try{_=f(_)}catch(y){m.call(this,y);break}}try{v=Em.call(this,_)}catch(f){return Promise.reject(f)}for(c=0,h=g.length;c<h;)v=v.then(g[c++],g[c++]);return v}getUri(t){t=Ps(this.defaults,t);const s=Rp(t.baseURL,t.url);return Ip(s,t.params,t.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(t){$s.prototype[t]=function(s,r){return this.request(Ps(r||{},{method:t,url:s,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(t){function s(r){return function(i,l,o){return this.request(Ps(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}$s.prototype[t]=s(),$s.prototype[t+"Form"]=s(!0)});class Hd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(o=>{r.subscribe(o),i=o}).then(a);return l.cancel=function(){r.unsubscribe(i)},l},t(function(i,l,o){r.reason||(r.reason=new Cr(i,l,o),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}static source(){let t;return{token:new Hd(function(a){t=a}),cancel:t}}}function Rb(e){return function(s){return e.apply(null,s)}}function Lb(e){return O.isObject(e)&&e.isAxiosError===!0}const Ac={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ac).forEach(([e,t])=>{Ac[t]=e});function Tp(e){const t=new $s(e),s=pp($s.prototype.request,t);return O.extend(s,$s.prototype,t,{allOwnKeys:!0}),O.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return Tp(Ps(e,a))},s}const U=Tp(Ta);U.Axios=$s;U.CanceledError=Cr;U.CancelToken=Hd;U.isCancel=Ep;U.VERSION=Dp;U.toFormData=Ai;U.AxiosError=Ne;U.Cancel=U.CanceledError;U.all=function(t){return Promise.all(t)};U.spread=Rb;U.isAxiosError=Lb;U.mergeConfig=Ps;U.AxiosHeaders=Mt;U.formToJSON=e=>kp(O.isHTMLForm(e)?new FormData(e):e);U.getAdapter=Ap.getAdapter;U.HttpStatusCode=Ac;U.default=U;const Fb=()=>{const[e,t]=j.useState(""),[s,r]=j.useState(!1),a=l=>new Promise(o=>setTimeout(o,l));return{login:async(l,o)=>{r(!0),t("");try{await a(300);const g=await U.post("http://localhost:5000/api/login",l),{token:v,title:c}=g.data;if(v&&c){localStorage.setItem("token",v),localStorage.setItem("user",JSON.stringify({title:c})),console.log("User data saved to localStorage:",{token:v,title:c});const h=localStorage.getItem("token"),_=JSON.parse(localStorage.getItem("user"));if(h&&(_==null?void 0:_.title)===c)switch(c){case"admin":o("/admin");break;case"student":o("/student");break;case"faculty_staff":o("/facultyStaff");break;case"college_staff":o("/collegeStaff");break;case"registrar_staff":o("/registrarStaff");break;default:t("Invalid user title"),console.log("Invalid title:",c)}else t("Failed to save user data correctly")}else t("Login response does not contain token or title")}catch(d){console.error("Login error:",d),d.response?d.response.status>=400&&d.response.status<=500?t(d.response.data.message||"An error occurred"):t("An unexpected error occurred"):t("Network error. Please try again.")}finally{r(!1)}},error:e,loading:s}};function Op(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=Op(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function Zn(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=Op(e))&&(r&&(r+=" "),r+=t);return r}const Ea=e=>typeof e=="number"&&!isNaN(e),ks=e=>typeof e=="string",qt=e=>typeof e=="function",Oo=e=>ks(e)||qt(e)?e:null,Dc=e=>j.isValidElement(e)||ks(e)||qt(e)||Ea(e);function Pb(e,t,s){s===void 0&&(s=300);const{scrollHeight:r,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${s}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,s)})})}function Ti(e){let{enter:t,exit:s,appendPosition:r=!1,collapse:a=!0,collapseDuration:i=300}=e;return function(l){let{children:o,position:d,preventExitTransition:g,done:v,nodeRef:c,isIn:h,playToast:_}=l;const f=r?`${t}--${d}`:t,m=r?`${s}--${d}`:s,y=j.useRef(0);return j.useLayoutEffect(()=>{const u=c.current,p=f.split(" "),x=w=>{w.target===c.current&&(_(),u.removeEventListener("animationend",x),u.removeEventListener("animationcancel",x),y.current===0&&w.type!=="animationcancel"&&u.classList.remove(...p))};u.classList.add(...p),u.addEventListener("animationend",x),u.addEventListener("animationcancel",x)},[]),j.useEffect(()=>{const u=c.current,p=()=>{u.removeEventListener("animationend",p),a?Pb(u,v,i):v()};h||(g?p():(y.current=1,u.className+=` ${m}`,u.addEventListener("animationend",p)))},[h]),qe.createElement(qe.Fragment,null,o)}}function Rm(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const $t=new Map;let Ba=[];const Tc=new Set,Ab=e=>Tc.forEach(t=>t(e)),Mp=()=>$t.size>0;function Up(e,t){var s;if(t)return!((s=$t.get(t))==null||!s.isToastActive(e));let r=!1;return $t.forEach(a=>{a.isToastActive(e)&&(r=!0)}),r}function zp(e,t){Dc(e)&&(Mp()||Ba.push({content:e,options:t}),$t.forEach(s=>{s.buildToast(e,t)}))}function Lm(e,t){$t.forEach(s=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===s.id&&s.toggle(e,t==null?void 0:t.id):s.toggle(e,t==null?void 0:t.id)})}function Db(e){const{subscribe:t,getSnapshot:s,setProps:r}=j.useRef(function(i){const l=i.containerId||1;return{subscribe(o){const d=function(v,c,h){let _=1,f=0,m=[],y=[],u=[],p=c;const x=new Map,w=new Set,I=()=>{u=Array.from(x.values()),w.forEach(b=>b())},$=b=>{y=b==null?[]:y.filter(C=>C!==b),I()},N=b=>{const{toastId:C,onOpen:S,updateId:k,children:B}=b.props,R=k==null;b.staleId&&x.delete(b.staleId),x.set(C,b),y=[...y,b.props.toastId].filter(L=>L!==b.staleId),I(),h(Rm(b,R?"added":"updated")),R&&qt(S)&&S(j.isValidElement(B)&&B.props)};return{id:v,props:p,observe:b=>(w.add(b),()=>w.delete(b)),toggle:(b,C)=>{x.forEach(S=>{C!=null&&C!==S.props.toastId||qt(S.toggle)&&S.toggle(b)})},removeToast:$,toasts:x,clearQueue:()=>{f-=m.length,m=[]},buildToast:(b,C)=>{if((H=>{let{containerId:me,toastId:K,updateId:ue}=H;const Q=me?me!==v:v!==1,fe=x.has(K)&&ue==null;return Q||fe})(C))return;const{toastId:S,updateId:k,data:B,staleId:R,delay:L}=C,A=()=>{$(S)},q=k==null;q&&f++;const G={...p,style:p.toastStyle,key:_++,...Object.fromEntries(Object.entries(C).filter(H=>{let[me,K]=H;return K!=null})),toastId:S,updateId:k,data:B,closeToast:A,isIn:!1,className:Oo(C.className||p.toastClassName),bodyClassName:Oo(C.bodyClassName||p.bodyClassName),progressClassName:Oo(C.progressClassName||p.progressClassName),autoClose:!C.isLoading&&(D=C.autoClose,V=p.autoClose,D===!1||Ea(D)&&D>0?D:V),deleteToast(){const H=x.get(S),{onClose:me,children:K}=H.props;qt(me)&&me(j.isValidElement(K)&&K.props),h(Rm(H,"removed")),x.delete(S),f--,f<0&&(f=0),m.length>0?N(m.shift()):I()}};var D,V;G.closeButton=p.closeButton,C.closeButton===!1||Dc(C.closeButton)?G.closeButton=C.closeButton:C.closeButton===!0&&(G.closeButton=!Dc(p.closeButton)||p.closeButton);let z=b;j.isValidElement(b)&&!ks(b.type)?z=j.cloneElement(b,{closeToast:A,toastProps:G,data:B}):qt(b)&&(z=b({closeToast:A,toastProps:G,data:B}));const M={content:z,props:G,staleId:R};p.limit&&p.limit>0&&f>p.limit&&q?m.push(M):Ea(L)?setTimeout(()=>{N(M)},L):N(M)},setProps(b){p=b},setToggle:(b,C)=>{x.get(b).toggle=C},isToastActive:b=>y.some(C=>C===b),getSnapshot:()=>p.newestOnTop?u.reverse():u}}(l,i,Ab);$t.set(l,d);const g=d.observe(o);return Ba.forEach(v=>zp(v.content,v.options)),Ba=[],()=>{g(),$t.delete(l)}},setProps(o){var d;(d=$t.get(l))==null||d.setProps(o)},getSnapshot(){var o;return(o=$t.get(l))==null?void 0:o.getSnapshot()}}}(e)).current;r(e);const a=j.useSyncExternalStore(t,s,s);return{getToastToRender:function(i){if(!a)return[];const l=new Map;return a.forEach(o=>{const{position:d}=o.props;l.has(d)||l.set(d,[]),l.get(d).push(o)}),Array.from(l,o=>i(o[0],o[1]))},isToastActive:Up,count:a==null?void 0:a.length}}function Tb(e){const[t,s]=j.useState(!1),[r,a]=j.useState(!1),i=j.useRef(null),l=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:d,closeToast:g,onClick:v,closeOnClick:c}=e;var h,_;function f(){s(!0)}function m(){s(!1)}function y(x){const w=i.current;l.canDrag&&w&&(l.didMove=!0,t&&m(),l.delta=e.draggableDirection==="x"?x.clientX-l.start:x.clientY-l.start,l.start!==x.clientX&&(l.canCloseOnClick=!1),w.style.transform=`translate3d(${e.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`},0)`,w.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function u(){document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",u);const x=i.current;if(l.canDrag&&l.didMove&&x){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return a(!0),e.closeToast(),void e.collapseAll();x.style.transition="transform 0.2s, opacity 0.2s",x.style.removeProperty("transform"),x.style.removeProperty("opacity")}}(_=$t.get((h={id:e.toastId,containerId:e.containerId,fn:s}).containerId||1))==null||_.setToggle(h.id,h.fn),j.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",f),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",m)}},[e.pauseOnFocusLoss]);const p={onPointerDown:function(x){if(e.draggable===!0||e.draggable===x.pointerType){l.didMove=!1,document.addEventListener("pointermove",y),document.addEventListener("pointerup",u);const w=i.current;l.canCloseOnClick=!0,l.canDrag=!0,w.style.transition="none",e.draggableDirection==="x"?(l.start=x.clientX,l.removalDistance=w.offsetWidth*(e.draggablePercent/100)):(l.start=x.clientY,l.removalDistance=w.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(x){const{top:w,bottom:I,left:$,right:N}=i.current.getBoundingClientRect();x.nativeEvent.type!=="touchend"&&e.pauseOnHover&&x.clientX>=$&&x.clientX<=N&&x.clientY>=w&&x.clientY<=I?m():f()}};return o&&d&&(p.onMouseEnter=m,e.stacked||(p.onMouseLeave=f)),c&&(p.onClick=x=>{v&&v(x),l.canCloseOnClick&&g()}),{playToast:f,pauseToast:m,isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:p}}function Ob(e){let{delay:t,isRunning:s,closeToast:r,type:a="default",hide:i,className:l,style:o,controlledProgress:d,progress:g,rtl:v,isIn:c,theme:h}=e;const _=i||d&&g===0,f={...o,animationDuration:`${t}ms`,animationPlayState:s?"running":"paused"};d&&(f.transform=`scaleX(${g})`);const m=Zn("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":v}),y=qt(l)?l({rtl:v,type:a,defaultClassName:m}):Zn(m,l),u={[d&&g>=1?"onTransitionEnd":"onAnimationEnd"]:d&&g<1?null:()=>{c&&r()}};return qe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},qe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${a}`}),qe.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:y,style:f,...u}))}let Mb=1;const qp=()=>""+Mb++;function Ub(e){return e&&(ks(e.toastId)||Ea(e.toastId))?e.toastId:qp()}function oa(e,t){return zp(e,t),t.toastId}function hi(e,t){return{...t,type:t&&t.type||e,toastId:Ub(t)}}function go(e){return(t,s)=>oa(t,hi(e,s))}function E(e,t){return oa(e,hi("default",t))}E.loading=(e,t)=>oa(e,hi("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),E.promise=function(e,t,s){let r,{pending:a,error:i,success:l}=t;a&&(r=ks(a)?E.loading(a,s):E.loading(a.render,{...s,...a}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(v,c,h)=>{if(c==null)return void E.dismiss(r);const _={type:v,...o,...s,data:h},f=ks(c)?{render:c}:c;return r?E.update(r,{..._,...f}):E(f.render,{..._,...f}),h},g=qt(e)?e():e;return g.then(v=>d("success",l,v)).catch(v=>d("error",i,v)),g},E.success=go("success"),E.info=go("info"),E.error=go("error"),E.warning=go("warning"),E.warn=E.warning,E.dark=(e,t)=>oa(e,hi("default",{theme:"dark",...t})),E.dismiss=function(e){(function(t){var s;if(Mp()){if(t==null||ks(s=t)||Ea(s))$t.forEach(r=>{r.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const r=$t.get(t.containerId);r?r.removeToast(t.id):$t.forEach(a=>{a.removeToast(t.id)})}}else Ba=Ba.filter(r=>t!=null&&r.options.toastId!==t)})(e)},E.clearWaitingQueue=function(e){e===void 0&&(e={}),$t.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},E.isActive=Up,E.update=function(e,t){t===void 0&&(t={});const s=((r,a)=>{var i;let{containerId:l}=a;return(i=$t.get(l||1))==null?void 0:i.toasts.get(r)})(e,t);if(s){const{props:r,content:a}=s,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:qp()};i.toastId!==e&&(i.staleId=e);const l=i.render||a;delete i.render,oa(l,i)}},E.done=e=>{E.update(e,{progress:1})},E.onChange=function(e){return Tc.add(e),()=>{Tc.delete(e)}},E.play=e=>Lm(!0,e),E.pause=e=>Lm(!1,e);const zb=typeof window<"u"?j.useLayoutEffect:j.useEffect,_o=e=>{let{theme:t,type:s,isLoading:r,...a}=e;return qe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${s})`,...a})},Cl={info:function(e){return qe.createElement(_o,{...e},qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return qe.createElement(_o,{...e},qe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return qe.createElement(_o,{...e},qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return qe.createElement(_o,{...e},qe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return qe.createElement("div",{className:"Toastify__spinner"})}},qb=e=>{const{isRunning:t,preventExitTransition:s,toastRef:r,eventHandlers:a,playToast:i}=Tb(e),{closeButton:l,children:o,autoClose:d,onClick:g,type:v,hideProgressBar:c,closeToast:h,transition:_,position:f,className:m,style:y,bodyClassName:u,bodyStyle:p,progressClassName:x,progressStyle:w,updateId:I,role:$,progress:N,rtl:b,toastId:C,deleteToast:S,isIn:k,isLoading:B,closeOnClick:R,theme:L}=e,A=Zn("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":b},{"Toastify__toast--close-on-click":R}),q=qt(m)?m({rtl:b,position:f,type:v,defaultClassName:A}):Zn(A,m),G=function(M){let{theme:H,type:me,isLoading:K,icon:ue}=M,Q=null;const fe={theme:H,type:me};return ue===!1||(qt(ue)?Q=ue({...fe,isLoading:K}):j.isValidElement(ue)?Q=j.cloneElement(ue,fe):K?Q=Cl.spinner():(Fe=>Fe in Cl)(me)&&(Q=Cl[me](fe))),Q}(e),D=!!N||!d,V={closeToast:h,type:v,theme:L};let z=null;return l===!1||(z=qt(l)?l(V):j.isValidElement(l)?j.cloneElement(l,V):function(M){let{closeToast:H,theme:me,ariaLabel:K="close"}=M;return qe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${me}`,type:"button",onClick:ue=>{ue.stopPropagation(),H(ue)},"aria-label":K},qe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},qe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(V)),qe.createElement(_,{isIn:k,done:S,position:f,preventExitTransition:s,nodeRef:r,playToast:i},qe.createElement("div",{id:C,onClick:g,"data-in":k,className:q,...a,style:y,ref:r},qe.createElement("div",{...k&&{role:$},className:qt(u)?u({type:v}):Zn("Toastify__toast-body",u),style:p},G!=null&&qe.createElement("div",{className:Zn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},G),qe.createElement("div",null,o)),z,qe.createElement(Ob,{...I&&!D?{key:`pb-${I}`}:{},rtl:b,theme:L,delay:d,isRunning:t,isIn:k,closeToast:h,hide:c,type:v,style:w,className:x,controlledProgress:D,progress:N||0})))},Oi=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Vb=Ti(Oi("bounce",!0));Ti(Oi("slide",!0));const Hb=Ti(Oi("zoom"));Ti(Oi("flip"));const Gb={position:"top-right",transition:Vb,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Wb(e){let t={...Gb,...e};const s=e.stacked,[r,a]=j.useState(!0),i=j.useRef(null),{getToastToRender:l,isToastActive:o,count:d}=Db(t),{className:g,style:v,rtl:c,containerId:h}=t;function _(m){const y=Zn("Toastify__toast-container",`Toastify__toast-container--${m}`,{"Toastify__toast-container--rtl":c});return qt(g)?g({position:m,rtl:c,defaultClassName:y}):Zn(y,Oo(g))}function f(){s&&(a(!0),E.play())}return zb(()=>{if(s){var m;const y=i.current.querySelectorAll('[data-in="true"]'),u=12,p=(m=t.position)==null?void 0:m.includes("top");let x=0,w=0;Array.from(y).reverse().forEach((I,$)=>{const N=I;N.classList.add("Toastify__toast--stacked"),$>0&&(N.dataset.collapsed=`${r}`),N.dataset.pos||(N.dataset.pos=p?"top":"bot");const b=x*(r?.2:1)+(r?0:u*$);N.style.setProperty("--y",`${p?b:-1*b}px`),N.style.setProperty("--g",`${u}`),N.style.setProperty("--s",""+(1-(r?w:0))),x+=N.offsetHeight,w+=.025})}},[r,d,s]),qe.createElement("div",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{s&&(a(!1),E.pause())},onMouseLeave:f},l((m,y)=>{const u=y.length?{...v}:{...v,pointerEvents:"none"};return qe.createElement("div",{className:_(m),style:u,key:`container-${m}`},y.map(p=>{let{content:x,props:w}=p;return qe.createElement(qb,{...w,stacked:s,collapseAll:f,isIn:o(w.toastId,w.containerId),style:w.style,key:`toast-${w.key}`},x)}))}))}function Yb(){const[e,t]=j.useState({email:"",password:""}),[s,r]=j.useState(!1),{login:a,error:i,loading:l}=Fb(),o=mt(),d=c=>{c.preventDefault(),a(e,o)},g=({currentTarget:c})=>{t({...e,[c.name]:c.value})},v=()=>{r(!s)};return j.useEffect(()=>{i&&E.error(i)},[i]),n.jsxs("div",{className:He.loginPageContainer,children:[n.jsx("header",{className:He.header,children:n.jsxs("nav",{className:He.navBar,children:[n.jsx("img",{src:Na,alt:"eGrade Navigator",className:He.navLogo}),n.jsxs("ul",{className:He.navUl,children:[n.jsx("li",{className:He.navLi,children:n.jsx(dt,{to:"/",className:He.navButton,children:"Home"})}),n.jsx("li",{className:He.navLi,children:n.jsx(dt,{to:"/#About",className:He.navButton,children:"About"})})]})]})}),n.jsxs("section",{className:He.homeSection,id:"Home",children:[n.jsxs("div",{className:He.homeContainer,children:[n.jsxs("h1",{className:He.homeh1,children:["Welcome, ",n.jsx("br",{})," Join us Navigate ",n.jsx("br",{})," our ",n.jsx("span",{className:He.successSpan,children:"Success"}),"!"]}),n.jsx("div",{className:He.loginContainer,children:n.jsxs("form",{onSubmit:d,children:[n.jsx("div",{className:He.gradeLogo,children:n.jsx("img",{src:Na,alt:"eGrade Navigator",className:He.formLogo})}),n.jsx("h1",{children:"Login"}),n.jsxs("div",{className:He.inputBox,children:[n.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:g,placeholder:" ",required:!0,className:He.userInput}),n.jsx("img",{src:o1,alt:""}),n.jsx("label",{htmlFor:"email",className:He.inputLabelUser,children:"Email:"})]}),n.jsxs("div",{className:He.inputBox,children:[n.jsx("input",{type:s?"text":"password",id:"password",name:"password",value:e.password,onChange:g,placeholder:" ",required:!0,className:He.userPass}),n.jsx("label",{htmlFor:"password",className:He.inputLabelPass,children:"Password:"}),n.jsx("button",{type:"button",className:He.togglePasswordButton,onClick:v,"aria-label":s?"Hide password":"Show password",children:n.jsx("img",{src:s?Ia:$a,alt:""})})]}),n.jsx("button",{type:"submit",className:He.loginButton,disabled:l,children:l?n.jsx("div",{className:He.loader}):"Login"}),n.jsx("div",{className:He.rememberForgot,children:n.jsx(dt,{to:"/forgotPassword",className:He.forgotPass,children:"Forgot password?"})})]})})]}),n.jsx("div",{className:He.pageDivider,children:n.jsx("img",{src:Ri,alt:"wave"})})]})]})}var Vp={exports:{}};(function(e,t){(function(s,r){e.exports=r()})(self,()=>{return s={7629:(a,i,l)=>{const o=l(375),d=l(8571),g=l(9474),v=l(1687),c=l(8652),h=l(8160),_=l(3292),f=l(6354),m=l(8901),y=l(9708),u=l(6914),p=l(2294),x=l(6133),w=l(1152),I=l(8863),$=l(2036),N={Base:class{constructor(b){this.type=b,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new p.Ids,this._preferences=null,this._refs=new x.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return o(typeof y.describe=="function","Manifest functionality disabled"),y.describe(this)}allow(...b){return h.verifyFlat(b,"allow"),this._values(b,"_valids")}alter(b){o(b&&typeof b=="object"&&!Array.isArray(b),"Invalid targets argument"),o(!this._inRuleset(),"Cannot set alterations inside a ruleset");const C=this.clone();C.$_terms.alterations=C.$_terms.alterations||[];for(const S in b){const k=b[S];o(typeof k=="function","Alteration adjuster for",S,"must be a function"),C.$_terms.alterations.push({target:S,adjuster:k})}return C.$_temp.ruleset=!1,C}artifact(b){return o(b!==void 0,"Artifact cannot be undefined"),o(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",b)}cast(b){return o(b===!1||typeof b=="string","Invalid to value"),o(b===!1||this._definition.cast[b],"Type",this.type,"does not support casting to",b),this.$_setFlag("cast",b===!1?void 0:b)}default(b,C){return this._default("default",b,C)}description(b){return o(b&&typeof b=="string","Description must be a non-empty string"),this.$_setFlag("description",b)}empty(b){const C=this.clone();return b!==void 0&&(b=C.$_compile(b,{override:!1})),C.$_setFlag("empty",b,{clone:!1})}error(b){return o(b,"Missing error"),o(b instanceof Error||typeof b=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",b)}example(b,C={}){return o(b!==void 0,"Missing example"),h.assertOptions(C,["override"]),this._inner("examples",b,{single:!0,override:C.override})}external(b,C){return typeof b=="object"&&(o(!C,"Cannot combine options with description"),C=b.description,b=b.method),o(typeof b=="function","Method must be a function"),o(C===void 0||C&&typeof C=="string","Description must be a non-empty string"),this._inner("externals",{method:b,description:C},{single:!0})}failover(b,C){return this._default("failover",b,C)}forbidden(){return this.presence("forbidden")}id(b){return b?(o(typeof b=="string","id must be a non-empty string"),o(/^[^\.]+$/.test(b),"id cannot contain period character"),this.$_setFlag("id",b)):this.$_setFlag("id",void 0)}invalid(...b){return this._values(b,"_invalids")}label(b){return o(b&&typeof b=="string","Label name must be a non-empty string"),this.$_setFlag("label",b)}meta(b){return o(b!==void 0,"Meta cannot be undefined"),this._inner("metas",b,{single:!0})}note(...b){o(b.length,"Missing notes");for(const C of b)o(C&&typeof C=="string","Notes must be non-empty strings");return this._inner("notes",b)}only(b=!0){return o(typeof b=="boolean","Invalid mode:",b),this.$_setFlag("only",b)}optional(){return this.presence("optional")}prefs(b){o(b,"Missing preferences"),o(b.context===void 0,"Cannot override context"),o(b.externals===void 0,"Cannot override externals"),o(b.warnings===void 0,"Cannot override warnings"),o(b.debug===void 0,"Cannot override debug"),h.checkPreferences(b);const C=this.clone();return C._preferences=h.preferences(C._preferences,b),C}presence(b){return o(["optional","required","forbidden"].includes(b),"Unknown presence mode",b),this.$_setFlag("presence",b)}raw(b=!0){return this.$_setFlag("result",b?"raw":void 0)}result(b){return o(["raw","strip"].includes(b),"Unknown result mode",b),this.$_setFlag("result",b)}required(){return this.presence("required")}strict(b){const C=this.clone(),S=b!==void 0&&!b;return C._preferences=h.preferences(C._preferences,{convert:S}),C}strip(b=!0){return this.$_setFlag("result",b?"strip":void 0)}tag(...b){o(b.length,"Missing tags");for(const C of b)o(C&&typeof C=="string","Tags must be non-empty strings");return this._inner("tags",b)}unit(b){return o(b&&typeof b=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",b)}valid(...b){h.verifyFlat(b,"valid");const C=this.allow(...b);return C.$_setFlag("only",!!C._valids,{clone:!1}),C}when(b,C){const S=this.clone();S.$_terms.whens||(S.$_terms.whens=[]);const k=_.when(S,b,C);if(!["any","link"].includes(S.type)){const B=k.is?[k]:k.switch;for(const R of B)o(!R.then||R.then.type==="any"||R.then.type===S.type,"Cannot combine",S.type,"with",R.then&&R.then.type),o(!R.otherwise||R.otherwise.type==="any"||R.otherwise.type===S.type,"Cannot combine",S.type,"with",R.otherwise&&R.otherwise.type)}return S.$_terms.whens.push(k),S.$_mutateRebuild()}cache(b){o(!this._inRuleset(),"Cannot set caching inside a ruleset"),o(!this._cache,"Cannot override schema cache"),o(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const C=this.clone();return C._cache=b||c.provider.provision(),C.$_temp.ruleset=!1,C}clone(){const b=Object.create(Object.getPrototypeOf(this));return this._assign(b)}concat(b){o(h.isSchema(b),"Invalid schema object"),o(this.type==="any"||b.type==="any"||b.type===this.type,"Cannot merge type",this.type,"with another type:",b.type),o(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),o(!b._inRuleset(),"Cannot concatenate a schema with open ruleset");let C=this.clone();if(this.type==="any"&&b.type!=="any"){const S=b.clone();for(const k of Object.keys(C))k!=="type"&&(S[k]=C[k]);C=S}C._ids.concat(b._ids),C._refs.register(b,x.toSibling),C._preferences=C._preferences?h.preferences(C._preferences,b._preferences):b._preferences,C._valids=$.merge(C._valids,b._valids,b._invalids),C._invalids=$.merge(C._invalids,b._invalids,b._valids);for(const S of b._singleRules.keys())C._singleRules.has(S)&&(C._rules=C._rules.filter(k=>k.keep||k.name!==S),C._singleRules.delete(S));for(const S of b._rules)b._definition.rules[S.method].multi||C._singleRules.set(S.name,S),C._rules.push(S);if(C._flags.empty&&b._flags.empty){C._flags.empty=C._flags.empty.concat(b._flags.empty);const S=Object.assign({},b._flags);delete S.empty,v(C._flags,S)}else if(b._flags.empty){C._flags.empty=b._flags.empty;const S=Object.assign({},b._flags);delete S.empty,v(C._flags,S)}else v(C._flags,b._flags);for(const S in b.$_terms){const k=b.$_terms[S];k?C.$_terms[S]?C.$_terms[S]=C.$_terms[S].concat(k):C.$_terms[S]=k.slice():C.$_terms[S]||(C.$_terms[S]=k)}return this.$_root._tracer&&this.$_root._tracer._combine(C,[this,b]),C.$_mutateRebuild()}extend(b){return o(!b.base,"Cannot extend type with another base"),m.type(this,b)}extract(b){return b=Array.isArray(b)?b:b.split("."),this._ids.reach(b)}fork(b,C){o(!this._inRuleset(),"Cannot fork inside a ruleset");let S=this;for(let k of[].concat(b))k=Array.isArray(k)?k:k.split("."),S=S._ids.fork(k,C,S);return S.$_temp.ruleset=!1,S}rule(b){const C=this._definition;h.assertOptions(b,Object.keys(C.modifiers)),o(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const S=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;o(S>=0&&S<this._rules.length,"Cannot apply rules to empty ruleset");const k=this.clone();for(let B=S;B<k._rules.length;++B){const R=k._rules[B],L=d(R);for(const A in b)C.modifiers[A](L,b[A]),o(L.name===R.name,"Cannot change rule name");k._rules[B]=L,k._singleRules.get(L.name)===R&&k._singleRules.set(L.name,L)}return k.$_temp.ruleset=!1,k.$_mutateRebuild()}get ruleset(){o(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const b=this.clone();return b.$_temp.ruleset=b._rules.length,b}get $(){return this.ruleset}tailor(b){b=[].concat(b),o(!this._inRuleset(),"Cannot tailor inside a ruleset");let C=this;if(this.$_terms.alterations)for(const{target:S,adjuster:k}of this.$_terms.alterations)b.includes(S)&&(C=k(C),o(h.isSchema(C),"Alteration adjuster for",S,"failed to return a schema object"));return C=C.$_modify({each:S=>S.tailor(b),ref:!1}),C.$_temp.ruleset=!1,C.$_mutateRebuild()}tracer(){return w.location?w.location(this):this}validate(b,C){return I.entry(b,this,C)}validateAsync(b,C){return I.entryAsync(b,this,C)}$_addRule(b){typeof b=="string"&&(b={name:b}),o(b&&typeof b=="object","Invalid options"),o(b.name&&typeof b.name=="string","Invalid rule name");for(const R in b)o(R[0]!=="_","Cannot set private rule properties");const C=Object.assign({},b);C._resolve=[],C.method=C.method||C.name;const S=this._definition.rules[C.method],k=C.args;o(S,"Unknown rule",C.method);const B=this.clone();if(k){o(Object.keys(k).length===1||Object.keys(k).length===this._definition.rules[C.name].args.length,"Invalid rule definition for",this.type,C.name);for(const R in k){let L=k[R];if(S.argsByName){const A=S.argsByName.get(R);if(A.ref&&h.isResolvable(L))C._resolve.push(R),B.$_mutateRegister(L);else if(A.normalize&&(L=A.normalize(L),k[R]=L),A.assert){const q=h.validateArg(L,R,A);o(!q,q,"or reference")}}L!==void 0?k[R]=L:delete k[R]}}return S.multi||(B._ruleRemove(C.name,{clone:!1}),B._singleRules.set(C.name,C)),B.$_temp.ruleset===!1&&(B.$_temp.ruleset=null),S.priority?B._rules.unshift(C):B._rules.push(C),B}$_compile(b,C){return _.schema(this.$_root,b,C)}$_createError(b,C,S,k,B,R={}){const L=R.flags!==!1?this._flags:{},A=R.messages?u.merge(this._definition.messages,R.messages):this._definition.messages;return new f.Report(b,C,S,L,A,k,B)}$_getFlag(b){return this._flags[b]}$_getRule(b){return this._singleRules.get(b)}$_mapLabels(b){return b=Array.isArray(b)?b:b.split("."),this._ids.labels(b)}$_match(b,C,S,k){(S=Object.assign({},S)).abortEarly=!0,S._externals=!1,C.snapshot();const B=!I.validate(b,this,C,S,k).errors;return C.restore(),B}$_modify(b){return h.assertOptions(b,["each","once","ref","schema"]),p.schema(this,b)||this}$_mutateRebuild(){return o(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(b,{source:C,name:S,path:k,key:B})=>{const R=this._definition[C][S]&&this._definition[C][S].register;R!==!1&&this.$_mutateRegister(b,{family:R,key:B})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(b,{family:C,key:S}={}){this._refs.register(b,C),this._ids.register(b,{key:S})}$_property(b){return this._definition.properties[b]}$_reach(b){return this._ids.reach(b)}$_rootReferences(){return this._refs.roots()}$_setFlag(b,C,S={}){o(b[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const k=this._definition.flags[b]||{};if(g(C,k.default)&&(C=void 0),g(C,this._flags[b]))return this;const B=S.clone!==!1?this.clone():this;return C!==void 0?(B._flags[b]=C,B.$_mutateRegister(C)):delete B._flags[b],b[0]!=="_"&&(B.$_temp.ruleset=!1),B}$_parent(b,...C){return this[b][h.symbols.parent].call(this,...C)}$_validate(b,C,S){return I.validate(b,this,C,S)}_assign(b){b.type=this.type,b.$_root=this.$_root,b.$_temp=Object.assign({},this.$_temp),b.$_temp.whens={},b._ids=this._ids.clone(),b._preferences=this._preferences,b._valids=this._valids&&this._valids.clone(),b._invalids=this._invalids&&this._invalids.clone(),b._rules=this._rules.slice(),b._singleRules=d(this._singleRules,{shallow:!0}),b._refs=this._refs.clone(),b._flags=Object.assign({},this._flags),b._cache=null,b.$_terms={};for(const C in this.$_terms)b.$_terms[C]=this.$_terms[C]?this.$_terms[C].slice():null;b.$_super={};for(const C in this.$_super)b.$_super[C]=this._super[C].bind(b);return b}_bare(){const b=this.clone();b._reset();const C=b._definition.terms;for(const S in C){const k=C[S];b.$_terms[S]=k.init}return b.$_mutateRebuild()}_default(b,C,S={}){return h.assertOptions(S,"literal"),o(C!==void 0,"Missing",b,"value"),o(typeof C=="function"||!S.literal,"Only function value supports literal option"),typeof C=="function"&&S.literal&&(C={[h.symbols.literal]:!0,literal:C}),this.$_setFlag(b,C)}_generate(b,C,S){if(!this.$_terms.whens)return{schema:this};const k=[],B=[];for(let A=0;A<this.$_terms.whens.length;++A){const q=this.$_terms.whens[A];if(q.concat){k.push(q.concat),B.push(`${A}.concat`);continue}const G=q.ref?q.ref.resolve(b,C,S):b,D=q.is?[q]:q.switch,V=B.length;for(let z=0;z<D.length;++z){const{is:M,then:H,otherwise:me}=D[z],K=`${A}${q.switch?"."+z:""}`;if(M.$_match(G,C.nest(M,`${K}.is`),S)){if(H){const ue=C.localize([...C.path,`${K}.then`],C.ancestors,C.schemas),{schema:Q,id:fe}=H._generate(b,ue,S);k.push(Q),B.push(`${K}.then${fe?`(${fe})`:""}`);break}}else if(me){const ue=C.localize([...C.path,`${K}.otherwise`],C.ancestors,C.schemas),{schema:Q,id:fe}=me._generate(b,ue,S);k.push(Q),B.push(`${K}.otherwise${fe?`(${fe})`:""}`);break}}if(q.break&&B.length>V)break}const R=B.join(", ");if(C.mainstay.tracer.debug(C,"rule","when",R),!R)return{schema:this};if(!C.mainstay.tracer.active&&this.$_temp.whens[R])return{schema:this.$_temp.whens[R],id:R};let L=this;this._definition.generate&&(L=this._definition.generate(this,b,C,S));for(const A of k)L=L.concat(A);return this.$_root._tracer&&this.$_root._tracer._combine(L,[this,...k]),this.$_temp.whens[R]=L,{schema:L,id:R}}_inner(b,C,S={}){o(!this._inRuleset(),`Cannot set ${b} inside a ruleset`);const k=this.clone();return k.$_terms[b]&&!S.override||(k.$_terms[b]=[]),S.single?k.$_terms[b].push(C):k.$_terms[b].push(...C),k.$_temp.ruleset=!1,k}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(b,C={}){if(!this._singleRules.has(b))return this;const S=C.clone!==!1?this.clone():this;S._singleRules.delete(b);const k=[];for(let B=0;B<S._rules.length;++B){const R=S._rules[B];R.name!==b||R.keep?k.push(R):S._inRuleset()&&B<S.$_temp.ruleset&&--S.$_temp.ruleset}return S._rules=k,S}_values(b,C){h.verifyFlat(b,C.slice(1,-1));const S=this.clone(),k=b[0]===h.symbols.override;if(k&&(b=b.slice(1)),!S[C]&&b.length?S[C]=new $:k&&(S[C]=b.length?new $:null,S.$_mutateRebuild()),!S[C])return S;k&&S[C].override();for(const B of b){o(B!==void 0,"Cannot call allow/valid/invalid with undefined"),o(B!==h.symbols.override,"Override must be the first value");const R=C==="_invalids"?"_valids":"_invalids";S[R]&&(S[R].remove(B),S[R].length||(o(C==="_valids"||!S._flags.only,"Setting invalid value",B,"leaves schema rejecting all values due to previous valid rule"),S[R]=null)),S[C].add(B,S._refs)}return S}}};N.Base.prototype[h.symbols.any]={version:h.version,compile:_.compile,root:"$_root"},N.Base.prototype.isImmutable=!0,N.Base.prototype.deny=N.Base.prototype.invalid,N.Base.prototype.disallow=N.Base.prototype.invalid,N.Base.prototype.equal=N.Base.prototype.valid,N.Base.prototype.exist=N.Base.prototype.required,N.Base.prototype.not=N.Base.prototype.invalid,N.Base.prototype.options=N.Base.prototype.prefs,N.Base.prototype.preferences=N.Base.prototype.prefs,a.exports=new N.Base},8652:(a,i,l)=>{const o=l(375),d=l(8571),g=l(8160),v={max:1e3,supported:new Set(["undefined","boolean","number","string"])};i.provider={provision:c=>new v.Cache(c)},v.Cache=class{constructor(c={}){g.assertOptions(c,["max"]),o(c.max===void 0||c.max&&c.max>0&&isFinite(c.max),"Invalid max cache size"),this._max=c.max||v.max,this._map=new Map,this._list=new v.List}get length(){return this._map.size}set(c,h){if(c!==null&&!v.supported.has(typeof c))return;let _=this._map.get(c);if(_)return _.value=h,void this._list.first(_);_=this._list.unshift({key:c,value:h}),this._map.set(c,_),this._compact()}get(c){const h=this._map.get(c);if(h)return this._list.first(h),d(h.value)}_compact(){if(this._map.size>this._max){const c=this._list.pop();this._map.delete(c.key)}}},v.List=class{constructor(){this.tail=null,this.head=null}unshift(c){return c.next=null,c.prev=this.head,this.head&&(this.head.next=c),this.head=c,this.tail||(this.tail=c),c}first(c){c!==this.head&&(this._remove(c),this.unshift(c))}pop(){return this._remove(this.tail)}_remove(c){const{next:h,prev:_}=c;return h.prev=_,_&&(_.next=h),c===this.tail&&(this.tail=h),c.prev=null,c.next=null,c}}},8160:(a,i,l)=>{const o=l(375),d=l(7916),g=l(5934);let v,c;const h={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};i.version=g.version,i.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},i.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},i.assertOptions=function(_,f,m="Options"){o(_&&typeof _=="object"&&!Array.isArray(_),"Options must be of type object");const y=Object.keys(_).filter(u=>!f.includes(u));o(y.length===0,`${m} contain unknown keys: ${y}`)},i.checkPreferences=function(_){c=c||l(3378);const f=c.preferences.validate(_);if(f.error)throw new d([f.error.details[0].message])},i.compare=function(_,f,m){switch(m){case"=":return _===f;case">":return _>f;case"<":return _<f;case">=":return _>=f;case"<=":return _<=f}},i.default=function(_,f){return _===void 0?f:_},i.isIsoDate=function(_){return h.isoDate.test(_)},i.isNumber=function(_){return typeof _=="number"&&!isNaN(_)},i.isResolvable=function(_){return!!_&&(_[i.symbols.ref]||_[i.symbols.template])},i.isSchema=function(_,f={}){const m=_&&_[i.symbols.any];return!!m&&(o(f.legacy||m.version===i.version,"Cannot mix different versions of joi schemas"),!0)},i.isValues=function(_){return _[i.symbols.values]},i.limit=function(_){return Number.isSafeInteger(_)&&_>=0},i.preferences=function(_,f){v=v||l(6914),_=_||{},f=f||{};const m=Object.assign({},_,f);return f.errors&&_.errors&&(m.errors=Object.assign({},_.errors,f.errors),m.errors.wrap=Object.assign({},_.errors.wrap,f.errors.wrap)),f.messages&&(m.messages=v.compile(f.messages,_.messages)),delete m[i.symbols.prefs],m},i.tryWithPath=function(_,f,m={}){try{return _()}catch(y){throw y.path!==void 0?y.path=f+"."+y.path:y.path=f,m.append&&(y.message=`${y.message} (${y.path})`),y}},i.validateArg=function(_,f,{assert:m,message:y}){if(i.isSchema(m)){const u=m.validate(_);return u.error?u.error.message:void 0}if(!m(_))return f?`${f} ${y}`:y},i.verifyFlat=function(_,f){for(const m of _)o(!Array.isArray(m),"Method no longer accepts array arguments:",f)}},3292:(a,i,l)=>{const o=l(375),d=l(8160),g=l(6133),v={};i.schema=function(c,h,_={}){d.assertOptions(_,["appendPath","override"]);try{return v.schema(c,h,_)}catch(f){throw _.appendPath&&f.path!==void 0&&(f.message=`${f.message} (${f.path})`),f}},v.schema=function(c,h,_){o(h!==void 0,"Invalid undefined schema"),Array.isArray(h)&&(o(h.length,"Invalid empty array schema"),h.length===1&&(h=h[0]));const f=(m,...y)=>_.override!==!1?m.valid(c.override,...y):m.valid(...y);if(v.simple(h))return f(c,h);if(typeof h=="function")return c.custom(h);if(o(typeof h=="object","Invalid schema content:",typeof h),d.isResolvable(h))return f(c,h);if(d.isSchema(h))return h;if(Array.isArray(h)){for(const m of h)if(!v.simple(m))return c.alternatives().try(...h);return f(c,...h)}return h instanceof RegExp?c.string().regex(h):h instanceof Date?f(c.date(),h):(o(Object.getPrototypeOf(h)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),c.object().keys(h))},i.ref=function(c,h){return g.isRef(c)?c:g.create(c,h)},i.compile=function(c,h,_={}){d.assertOptions(_,["legacy"]);const f=h&&h[d.symbols.any];if(f)return o(_.legacy||f.version===d.version,"Cannot mix different versions of joi schemas:",f.version,d.version),h;if(typeof h!="object"||!_.legacy)return i.schema(c,h,{appendPath:!0});const m=v.walk(h);return m?m.compile(m.root,h):i.schema(c,h,{appendPath:!0})},v.walk=function(c){if(typeof c!="object")return null;if(Array.isArray(c)){for(const _ of c){const f=v.walk(_);if(f)return f}return null}const h=c[d.symbols.any];if(h)return{root:c[h.root],compile:h.compile};o(Object.getPrototypeOf(c)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const _ in c){const f=v.walk(c[_]);if(f)return f}return null},v.simple=function(c){return c===null||["boolean","string","number"].includes(typeof c)},i.when=function(c,h,_){if(_===void 0&&(o(h&&typeof h=="object","Missing options"),_=h,h=g.create(".")),Array.isArray(_)&&(_={switch:_}),d.assertOptions(_,["is","not","then","otherwise","switch","break"]),d.isSchema(h))return o(_.is===void 0,'"is" can not be used with a schema condition'),o(_.not===void 0,'"not" can not be used with a schema condition'),o(_.switch===void 0,'"switch" can not be used with a schema condition'),v.condition(c,{is:h,then:_.then,otherwise:_.otherwise,break:_.break});if(o(g.isRef(h)||typeof h=="string","Invalid condition:",h),o(_.not===void 0||_.is===void 0,'Cannot combine "is" with "not"'),_.switch===void 0){let m=_;_.not!==void 0&&(m={is:_.not,then:_.otherwise,otherwise:_.then,break:_.break});let y=m.is!==void 0?c.$_compile(m.is):c.$_root.invalid(null,!1,0,"").required();return o(m.then!==void 0||m.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),o(m.break===void 0||m.then===void 0||m.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),_.is===void 0||g.isRef(_.is)||d.isSchema(_.is)||(y=y.required()),v.condition(c,{ref:i.ref(h),is:y,then:m.then,otherwise:m.otherwise,break:m.break})}o(Array.isArray(_.switch),'"switch" must be an array'),o(_.is===void 0,'Cannot combine "switch" with "is"'),o(_.not===void 0,'Cannot combine "switch" with "not"'),o(_.then===void 0,'Cannot combine "switch" with "then"');const f={ref:i.ref(h),switch:[],break:_.break};for(let m=0;m<_.switch.length;++m){const y=_.switch[m],u=m===_.switch.length-1;d.assertOptions(y,u?["is","then","otherwise"]:["is","then"]),o(y.is!==void 0,'Switch statement missing "is"'),o(y.then!==void 0,'Switch statement missing "then"');const p={is:c.$_compile(y.is),then:c.$_compile(y.then)};if(g.isRef(y.is)||d.isSchema(y.is)||(p.is=p.is.required()),u){o(_.otherwise===void 0||y.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const x=_.otherwise!==void 0?_.otherwise:y.otherwise;x!==void 0&&(o(f.break===void 0,"Cannot specify both otherwise and break"),p.otherwise=c.$_compile(x))}f.switch.push(p)}return f},v.condition=function(c,h){for(const _ of["then","otherwise"])h[_]===void 0?delete h[_]:h[_]=c.$_compile(h[_]);return h}},6354:(a,i,l)=>{const o=l(5688),d=l(8160),g=l(3328);i.Report=class{constructor(v,c,h,_,f,m,y){if(this.code=v,this.flags=_,this.messages=f,this.path=m.path,this.prefs=y,this.state=m,this.value=c,this.message=null,this.template=null,this.local=h||{},this.local.label=i.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const u=this.path[this.path.length-1];typeof u!="object"&&(this.local.key=u)}}_setTemplate(v){if(this.template=v,!this.flags.label&&this.path.length===0){const c=this._template(this.template,"root");c&&(this.local.label=c)}}toString(){if(this.message)return this.message;const v=this.code;if(!this.prefs.errors.render)return this.code;const c=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return c===void 0?`Error code "${v}" is not defined, your custom type is missing the correct messages definition`:(this.message=c.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(v,c){return i.template(this.value,v,c||this.code,this.state,this.prefs)}},i.path=function(v){let c="";for(const h of v)typeof h!="object"&&(typeof h=="string"?(c&&(c+="."),c+=h):c+=`[${h}]`);return c},i.template=function(v,c,h,_,f){if(!c)return;if(g.isTemplate(c))return h!=="root"?c:null;let m=f.errors.language;if(d.isResolvable(m)&&(m=m.resolve(v,_,f)),m&&c[m]){if(c[m][h]!==void 0)return c[m][h];if(c[m]["*"]!==void 0)return c[m]["*"]}return c[h]?c[h]:c["*"]},i.label=function(v,c,h,_){if(!h.errors.label)return"";if(v.label)return v.label;let f=c.path;return h.errors.label==="key"&&c.path.length>1&&(f=c.path.slice(-1)),i.path(f)||i.template(null,h.messages,"root",c,h)||_&&i.template(null,_,"root",c,h)||"value"},i.process=function(v,c,h){if(!v)return null;const{override:_,message:f,details:m}=i.details(v);if(_)return _;if(h.errors.stack)return new i.ValidationError(f,m,c);const y=Error.stackTraceLimit;Error.stackTraceLimit=0;const u=new i.ValidationError(f,m,c);return Error.stackTraceLimit=y,u},i.details=function(v,c={}){let h=[];const _=[];for(const f of v){if(f instanceof Error){if(c.override!==!1)return{override:f};const y=f.toString();h.push(y),_.push({message:y,type:"override",context:{error:f}});continue}const m=f.toString();h.push(m),_.push({message:m,path:f.path.filter(y=>typeof y!="object"),type:f.code,context:f.local})}return h.length>1&&(h=[...new Set(h)]),{message:h.join(". "),details:_}},i.ValidationError=class extends Error{constructor(v,c,h){super(v),this._original=h,this.details=c}static isError(v){return v instanceof i.ValidationError}},i.ValidationError.prototype.isJoi=!0,i.ValidationError.prototype.name="ValidationError",i.ValidationError.prototype.annotate=o.error},8901:(a,i,l)=>{const o=l(375),d=l(8571),g=l(8160),v=l(6914),c={};i.type=function(h,_){const f=Object.getPrototypeOf(h),m=d(f),y=h._assign(Object.create(m)),u=Object.assign({},_);delete u.base,m._definition=u;const p=f._definition||{};u.messages=v.merge(p.messages,u.messages),u.properties=Object.assign({},p.properties,u.properties),y.type=u.type,u.flags=Object.assign({},p.flags,u.flags);const x=Object.assign({},p.terms);if(u.terms)for(const N in u.terms){const b=u.terms[N];o(y.$_terms[N]===void 0,"Invalid term override for",u.type,N),y.$_terms[N]=b.init,x[N]=b}u.terms=x,u.args||(u.args=p.args),u.prepare=c.prepare(u.prepare,p.prepare),u.coerce&&(typeof u.coerce=="function"&&(u.coerce={method:u.coerce}),u.coerce.from&&!Array.isArray(u.coerce.from)&&(u.coerce={method:u.coerce.method,from:[].concat(u.coerce.from)})),u.coerce=c.coerce(u.coerce,p.coerce),u.validate=c.validate(u.validate,p.validate);const w=Object.assign({},p.rules);if(u.rules)for(const N in u.rules){const b=u.rules[N];o(typeof b=="object","Invalid rule definition for",u.type,N);let C=b.method;if(C===void 0&&(C=function(){return this.$_addRule(N)}),C&&(o(!m[N],"Rule conflict in",u.type,N),m[N]=C),o(!w[N],"Rule conflict in",u.type,N),w[N]=b,b.alias){const S=[].concat(b.alias);for(const k of S)m[k]=b.method}b.args&&(b.argsByName=new Map,b.args=b.args.map(S=>(typeof S=="string"&&(S={name:S}),o(!b.argsByName.has(S.name),"Duplicated argument name",S.name),g.isSchema(S.assert)&&(S.assert=S.assert.strict().label(S.name)),b.argsByName.set(S.name,S),S)))}u.rules=w;const I=Object.assign({},p.modifiers);if(u.modifiers)for(const N in u.modifiers){o(!m[N],"Rule conflict in",u.type,N);const b=u.modifiers[N];o(typeof b=="function","Invalid modifier definition for",u.type,N);const C=function(S){return this.rule({[N]:S})};m[N]=C,I[N]=b}if(u.modifiers=I,u.overrides){m._super=f,y.$_super={};for(const N in u.overrides)o(f[N],"Cannot override missing",N),u.overrides[N][g.symbols.parent]=f[N],y.$_super[N]=f[N].bind(y);Object.assign(m,u.overrides)}u.cast=Object.assign({},p.cast,u.cast);const $=Object.assign({},p.manifest,u.manifest);return $.build=c.build(u.manifest&&u.manifest.build,p.manifest&&p.manifest.build),u.manifest=$,u.rebuild=c.rebuild(u.rebuild,p.rebuild),y},c.build=function(h,_){return h&&_?function(f,m){return _(h(f,m),m)}:h||_},c.coerce=function(h,_){return h&&_?{from:h.from&&_.from?[...new Set([...h.from,..._.from])]:null,method(f,m){let y;if((!_.from||_.from.includes(typeof f))&&(y=_.method(f,m),y)){if(y.errors||y.value===void 0)return y;f=y.value}if(!h.from||h.from.includes(typeof f)){const u=h.method(f,m);if(u)return u}return y}}:h||_},c.prepare=function(h,_){return h&&_?function(f,m){const y=h(f,m);if(y){if(y.errors||y.value===void 0)return y;f=y.value}return _(f,m)||y}:h||_},c.rebuild=function(h,_){return h&&_?function(f){_(f),h(f)}:h||_},c.validate=function(h,_){return h&&_?function(f,m){const y=_(f,m);if(y){if(y.errors&&(!Array.isArray(y.errors)||y.errors.length))return y;f=y.value}return h(f,m)||y}:h||_}},5107:(a,i,l)=>{const o=l(375),d=l(8571),g=l(8652),v=l(8160),c=l(3292),h=l(6354),_=l(8901),f=l(9708),m=l(6133),y=l(3328),u=l(1152);let p;const x={types:{alternatives:l(4946),any:l(8068),array:l(546),boolean:l(4937),date:l(7500),function:l(390),link:l(8785),number:l(3832),object:l(8966),string:l(7417),symbol:l(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const w={_types:new Set(Object.keys(x.types))};for(const I of w._types)w[I]=function(...$){return o(!$.length||["alternatives","link","object"].includes(I),"The",I,"type does not allow arguments"),x.generate(this,x.types[I],$)};for(const I of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])w[I]=function(...$){return this.any()[I](...$)};Object.assign(w,x.methods);for(const I in x.aliases){const $=x.aliases[I];w[I]=w[$]}return w.x=w.expression,u.setup&&u.setup(w),w}};x.methods={ValidationError:h.ValidationError,version:v.version,cache:g.provider,assert(w,I,...$){x.assert(w,I,!0,$)},attempt:(w,I,...$)=>x.assert(w,I,!1,$),build(w){return o(typeof f.build=="function","Manifest functionality disabled"),f.build(this,w)},checkPreferences(w){v.checkPreferences(w)},compile(w,I){return c.compile(this,w,I)},defaults(w){o(typeof w=="function","modifier must be a function");const I=Object.assign({},this);for(const $ of I._types){const N=w(I[$]());o(v.isSchema(N),"modifier must return a valid schema object"),I[$]=function(...b){return x.generate(this,N,b)}}return I},expression:(...w)=>new y(...w),extend(...w){v.verifyFlat(w,"extend"),p=p||l(3378),o(w.length,"You need to provide at least one extension"),this.assert(w,p.extensions);const I=Object.assign({},this);I._types=new Set(I._types);for(let $ of w){typeof $=="function"&&($=$(I)),this.assert($,p.extension);const N=x.expandExtension($,I);for(const b of N){o(I[b.type]===void 0||I._types.has(b.type),"Cannot override name",b.type);const C=b.base||this.any(),S=_.type(C,b);I._types.add(b.type),I[b.type]=function(...k){return x.generate(this,S,k)}}}return I},isError:h.ValidationError.isError,isExpression:y.isTemplate,isRef:m.isRef,isSchema:v.isSchema,in:(...w)=>m.in(...w),override:v.symbols.override,ref:(...w)=>m.create(...w),types(){const w={};for(const I of this._types)w[I]=this[I]();for(const I in x.aliases)w[I]=this[I]();return w}},x.assert=function(w,I,$,N){const b=N[0]instanceof Error||typeof N[0]=="string"?N[0]:null,C=b!==null?N[1]:N[0],S=I.validate(w,v.preferences({errors:{stack:!0}},C||{}));let k=S.error;if(!k)return S.value;if(b instanceof Error)throw b;const B=$&&typeof k.annotate=="function"?k.annotate():k.message;throw k instanceof h.ValidationError==0&&(k=d(k)),k.message=b?`${b} ${B}`:B,k},x.generate=function(w,I,$){return o(w,"Must be invoked on a Joi instance."),I.$_root=w,I._definition.args&&$.length?I._definition.args(I,...$):I},x.expandExtension=function(w,I){if(typeof w.type=="string")return[w];const $=[];for(const N of I._types)if(w.type.test(N)){const b=Object.assign({},w);b.type=N,b.base=I[N](),$.push(b)}return $},a.exports=x.root()},6914:(a,i,l)=>{const o=l(375),d=l(8571),g=l(3328);i.compile=function(v,c){if(typeof v=="string")return o(!c,"Cannot set single message string"),new g(v);if(g.isTemplate(v))return o(!c,"Cannot set single message template"),v;o(typeof v=="object"&&!Array.isArray(v),"Invalid message options"),c=c?d(c):{};for(let h in v){const _=v[h];if(h==="root"||g.isTemplate(_)){c[h]=_;continue}if(typeof _=="string"){c[h]=new g(_);continue}o(typeof _=="object"&&!Array.isArray(_),"Invalid message for",h);const f=h;for(h in c[f]=c[f]||{},_){const m=_[h];h==="root"||g.isTemplate(m)?c[f][h]=m:(o(typeof m=="string","Invalid message for",h,"in",f),c[f][h]=new g(m))}}return c},i.decompile=function(v){const c={};for(let h in v){const _=v[h];if(h==="root"){c.root=_;continue}if(g.isTemplate(_)){c[h]=_.describe({compact:!0});continue}const f=h;for(h in c[f]={},_){const m=_[h];h!=="root"?c[f][h]=m.describe({compact:!0}):c[f].root=m}}return c},i.merge=function(v,c){if(!v)return i.compile(c);if(!c)return v;if(typeof c=="string")return new g(c);if(g.isTemplate(c))return c;const h=d(v);for(let _ in c){const f=c[_];if(_==="root"||g.isTemplate(f)){h[_]=f;continue}if(typeof f=="string"){h[_]=new g(f);continue}o(typeof f=="object"&&!Array.isArray(f),"Invalid message for",_);const m=_;for(_ in h[m]=h[m]||{},f){const y=f[_];_==="root"||g.isTemplate(y)?h[m][_]=y:(o(typeof y=="string","Invalid message for",_,"in",m),h[m][_]=new g(y))}}return h}},2294:(a,i,l)=>{const o=l(375),d=l(8160),g=l(6133),v={};i.Ids=v.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const c=new v.Ids;return c._byId=new Map(this._byId),c._byKey=new Map(this._byKey),c._schemaChain=this._schemaChain,c}concat(c){c._schemaChain&&(this._schemaChain=!0);for(const[h,_]of c._byId.entries())o(!this._byKey.has(h),"Schema id conflicts with existing key:",h),this._byId.set(h,_);for(const[h,_]of c._byKey.entries())o(!this._byId.has(h),"Schema key conflicts with existing id:",h),this._byKey.set(h,_)}fork(c,h,_){const f=this._collect(c);f.push({schema:_});const m=f.shift();let y={id:m.id,schema:h(m.schema)};o(d.isSchema(y.schema),"adjuster function failed to return a joi schema type");for(const u of f)y={id:u.id,schema:v.fork(u.schema,y.id,y.schema)};return y.schema}labels(c,h=[]){const _=c[0],f=this._get(_);if(!f)return[...h,...c].join(".");const m=c.slice(1);return h=[...h,f.schema._flags.label||_],m.length?f.schema._ids.labels(m,h):h.join(".")}reach(c,h=[]){const _=c[0],f=this._get(_);o(f,"Schema does not contain path",[...h,...c].join("."));const m=c.slice(1);return m.length?f.schema._ids.reach(m,[...h,_]):f.schema}register(c,{key:h}={}){if(!c||!d.isSchema(c))return;(c.$_property("schemaChain")||c._ids._schemaChain)&&(this._schemaChain=!0);const _=c._flags.id;if(_){const f=this._byId.get(_);o(!f||f.schema===c,"Cannot add different schemas with the same id:",_),o(!this._byKey.has(_),"Schema id conflicts with existing key:",_),this._byId.set(_,{schema:c,id:_})}h&&(o(!this._byKey.has(h),"Schema already contains key:",h),o(!this._byId.has(h),"Schema key conflicts with existing id:",h),this._byKey.set(h,{schema:c,id:h}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(c,h=[],_=[]){const f=c[0],m=this._get(f);o(m,"Schema does not contain path",[...h,...c].join(".")),_=[m,..._];const y=c.slice(1);return y.length?m.schema._ids._collect(y,[...h,f],_):_}_get(c){return this._byId.get(c)||this._byKey.get(c)}},v.fork=function(c,h,_){const f=i.schema(c,{each:(m,{key:y})=>{if(h===(m._flags.id||y))return _},ref:!1});return f?f.$_mutateRebuild():c},i.schema=function(c,h){let _;for(const f in c._flags){if(f[0]==="_")continue;const m=v.scan(c._flags[f],{source:"flags",name:f},h);m!==void 0&&(_=_||c.clone(),_._flags[f]=m)}for(let f=0;f<c._rules.length;++f){const m=c._rules[f],y=v.scan(m.args,{source:"rules",name:m.name},h);if(y!==void 0){_=_||c.clone();const u=Object.assign({},m);u.args=y,_._rules[f]=u,_._singleRules.get(m.name)===m&&_._singleRules.set(m.name,u)}}for(const f in c.$_terms){if(f[0]==="_")continue;const m=v.scan(c.$_terms[f],{source:"terms",name:f},h);m!==void 0&&(_=_||c.clone(),_.$_terms[f]=m)}return _},v.scan=function(c,h,_,f,m){const y=f||[];if(c===null||typeof c!="object")return;let u;if(Array.isArray(c)){for(let p=0;p<c.length;++p){const x=h.source==="terms"&&h.name==="keys"&&c[p].key,w=v.scan(c[p],h,_,[p,...y],x);w!==void 0&&(u=u||c.slice(),u[p]=w)}return u}if(_.schema!==!1&&d.isSchema(c)||_.ref!==!1&&g.isRef(c)){const p=_.each(c,{...h,path:y,key:m});return p===c?void 0:p}for(const p in c){if(p[0]==="_")continue;const x=v.scan(c[p],h,_,[p,...y],m);x!==void 0&&(u=u||Object.assign({},c),u[p]=x)}return u}},6133:(a,i,l)=>{const o=l(375),d=l(8571),g=l(9621),v=l(8160);let c;const h={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};i.create=function(_,f={}){o(typeof _=="string","Invalid reference key:",_),v.assertOptions(f,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),o(!f.prefix||typeof f.prefix=="object","options.prefix must be of type object");const m=Object.assign({},h.defaults,f);delete m.prefix;const y=m.separator,u=h.context(_,y,f.prefix);if(m.type=u.type,_=u.key,m.type==="value")if(u.root&&(o(!y||_[0]!==y,"Cannot specify relative path with root prefix"),m.ancestor="root",_||(_=null)),y&&y===_)_=null,m.ancestor=0;else if(m.ancestor!==void 0)o(!y||!_||_[0]!==y,"Cannot combine prefix with ancestor option");else{const[p,x]=h.ancestor(_,y);x&&(_=_.slice(x))===""&&(_=null),m.ancestor=p}return m.path=y?_===null?[]:_.split(y):[_],new h.Ref(m)},i.in=function(_,f={}){return i.create(_,{...f,in:!0})},i.isRef=function(_){return!!_&&!!_[v.symbols.ref]},h.Ref=class{constructor(_){o(typeof _=="object","Invalid reference construction"),v.assertOptions(_,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),o([!1,void 0].includes(_.separator)||typeof _.separator=="string"&&_.separator.length===1,"Invalid separator"),o(!_.adjust||typeof _.adjust=="function","options.adjust must be a function"),o(!_.map||Array.isArray(_.map),"options.map must be an array"),o(!_.map||!_.adjust,"Cannot set both map and adjust options"),Object.assign(this,h.defaults,_),o(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(_,f,m,y,u={}){return o(!this.in||u.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(m.context,f,u):this.type==="local"?this._resolve(y,f,u):this.ancestor?this.ancestor==="root"?this._resolve(f.ancestors[f.ancestors.length-1],f,u):(o(this.ancestor<=f.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(f.ancestors[this.ancestor-1],f,u)):this._resolve(_,f,u)}_resolve(_,f,m){let y;if(this.type==="value"&&f.mainstay.shadow&&m.shadow!==!1&&(y=f.mainstay.shadow.get(this.absolute(f))),y===void 0&&(y=g(_,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(y=this.adjust(y)),this.map){const u=this.map.get(y);u!==void 0&&(y=u)}return f.mainstay&&f.mainstay.tracer.resolve(f,this,y),y}toString(){return this.display}absolute(_){return[..._.path.slice(0,-this.ancestor),...this.path]}clone(){return new h.Ref(this)}describe(){const _={path:this.path};this.type!=="value"&&(_.type=this.type),this.separator!=="."&&(_.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(_.ancestor=this.ancestor),this.map&&(_.map=[...this.map]);for(const f of["adjust","iterables","render"])this[f]!==null&&this[f]!==void 0&&(_[f]=this[f]);return this.in!==!1&&(_.in=!0),{ref:_}}updateDisplay(){const _=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${_}`);if(!this.separator)return void(this.display=`ref:${_}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${_}`);if(this.ancestor==="root")return void(this.display=`ref:root:${_}`);if(this.ancestor===1)return void(this.display=`ref:${_||".."}`);const f=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${f}${_||""}`}},h.Ref.prototype[v.symbols.ref]=!0,i.build=function(_){return(_=Object.assign({},h.defaults,_)).type==="value"&&_.ancestor===void 0&&(_.ancestor=1),new h.Ref(_)},h.context=function(_,f,m={}){if(_=_.trim(),m){const y=m.global===void 0?"$":m.global;if(y!==f&&_.startsWith(y))return{key:_.slice(y.length),type:"global"};const u=m.local===void 0?"#":m.local;if(u!==f&&_.startsWith(u))return{key:_.slice(u.length),type:"local"};const p=m.root===void 0?"/":m.root;if(p!==f&&_.startsWith(p))return{key:_.slice(p.length),type:"value",root:!0}}return{key:_,type:"value"}},h.ancestor=function(_,f){if(!f)return[1,0];if(_[0]!==f)return[1,0];if(_[1]!==f)return[0,1];let m=2;for(;_[m]===f;)++m;return[m-1,m]},i.toSibling=0,i.toParent=1,i.Manager=class{constructor(){this.refs=[]}register(_,f){if(_)if(f=f===void 0?i.toParent:f,Array.isArray(_))for(const m of _)this.register(m,f);else if(v.isSchema(_))for(const m of _._refs.refs)m.ancestor-f>=0&&this.refs.push({ancestor:m.ancestor-f,root:m.root});else i.isRef(_)&&_.type==="value"&&_.ancestor-f>=0&&this.refs.push({ancestor:_.ancestor-f,root:_.root}),c=c||l(3328),c.isTemplate(_)&&this.register(_.refs(),f)}get length(){return this.refs.length}clone(){const _=new i.Manager;return _.refs=d(this.refs),_}reset(){this.refs=[]}roots(){return this.refs.filter(_=>!_.ancestor).map(_=>_.root)}}},3378:(a,i,l)=>{const o=l(5107),d={};d.wrap=o.string().min(1).max(2).allow(!1),i.preferences=o.object({allowUnknown:o.boolean(),abortEarly:o.boolean(),artifacts:o.boolean(),cache:o.boolean(),context:o.object(),convert:o.boolean(),dateFormat:o.valid("date","iso","string","time","utc"),debug:o.boolean(),errors:{escapeHtml:o.boolean(),label:o.valid("path","key",!1),language:[o.string(),o.object().ref()],render:o.boolean(),stack:o.boolean(),wrap:{label:d.wrap,array:d.wrap,string:d.wrap}},externals:o.boolean(),messages:o.object(),noDefaults:o.boolean(),nonEnumerables:o.boolean(),presence:o.valid("required","optional","forbidden"),skipFunctions:o.boolean(),stripUnknown:o.object({arrays:o.boolean(),objects:o.boolean()}).or("arrays","objects").allow(!0,!1),warnings:o.boolean()}).strict(),d.nameRx=/^[a-zA-Z0-9]\w*$/,d.rule=o.object({alias:o.array().items(o.string().pattern(d.nameRx)).single(),args:o.array().items(o.string(),o.object({name:o.string().pattern(d.nameRx).required(),ref:o.boolean(),assert:o.alternatives([o.function(),o.object().schema()]).conditional("ref",{is:!0,then:o.required()}),normalize:o.function(),message:o.string().when("assert",{is:o.function(),then:o.required()})})),convert:o.boolean(),manifest:o.boolean(),method:o.function().allow(!1),multi:o.boolean(),validate:o.function()}),i.extension=o.object({type:o.alternatives([o.string(),o.object().regex()]).required(),args:o.function(),cast:o.object().pattern(d.nameRx,o.object({from:o.function().maxArity(1).required(),to:o.function().minArity(1).maxArity(2).required()})),base:o.object().schema().when("type",{is:o.object().regex(),then:o.forbidden()}),coerce:[o.function().maxArity(3),o.object({method:o.function().maxArity(3).required(),from:o.array().items(o.string()).single()})],flags:o.object().pattern(d.nameRx,o.object({setter:o.string(),default:o.any()})),manifest:{build:o.function().arity(2)},messages:[o.object(),o.string()],modifiers:o.object().pattern(d.nameRx,o.function().minArity(1).maxArity(2)),overrides:o.object().pattern(d.nameRx,o.function()),prepare:o.function().maxArity(3),rebuild:o.function().arity(1),rules:o.object().pattern(d.nameRx,d.rule),terms:o.object().pattern(d.nameRx,o.object({init:o.array().allow(null).required(),manifest:o.object().pattern(/.+/,[o.valid("schema","single"),o.object({mapped:o.object({from:o.string().required(),to:o.string().required()}).required()})])})),validate:o.function().maxArity(3)}).strict(),i.extensions=o.array().items(o.object(),o.function().arity(1)).strict(),d.desc={buffer:o.object({buffer:o.string()}),func:o.object({function:o.function().required(),options:{literal:!0}}),override:o.object({override:!0}),ref:o.object({ref:o.object({type:o.valid("value","global","local"),path:o.array().required(),separator:o.string().length(1).allow(!1),ancestor:o.number().min(0).integer().allow("root"),map:o.array().items(o.array().length(2)).min(1),adjust:o.function(),iterables:o.boolean(),in:o.boolean(),render:o.boolean()}).required()}),regex:o.object({regex:o.string().min(3)}),special:o.object({special:o.valid("deep").required()}),template:o.object({template:o.string().required(),options:o.object()}),value:o.object({value:o.alternatives([o.object(),o.array()]).required()})},d.desc.entity=o.alternatives([o.array().items(o.link("...")),o.boolean(),o.function(),o.number(),o.string(),d.desc.buffer,d.desc.func,d.desc.ref,d.desc.regex,d.desc.special,d.desc.template,d.desc.value,o.link("/")]),d.desc.values=o.array().items(null,o.boolean(),o.function(),o.number().allow(1/0,-1/0),o.string().allow(""),o.symbol(),d.desc.buffer,d.desc.func,d.desc.override,d.desc.ref,d.desc.regex,d.desc.template,d.desc.value),d.desc.messages=o.object().pattern(/.+/,[o.string(),d.desc.template,o.object().pattern(/.+/,[o.string(),d.desc.template])]),i.description=o.object({type:o.string().required(),flags:o.object({cast:o.string(),default:o.any(),description:o.string(),empty:o.link("/"),failover:d.desc.entity,id:o.string(),label:o.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:o.boolean(),unit:o.string()}).unknown(),preferences:{allowUnknown:o.boolean(),abortEarly:o.boolean(),artifacts:o.boolean(),cache:o.boolean(),convert:o.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:o.boolean(),label:["path","key"],language:[o.string(),d.desc.ref],wrap:{label:d.wrap,array:d.wrap}},externals:o.boolean(),messages:d.desc.messages,noDefaults:o.boolean(),nonEnumerables:o.boolean(),presence:["required","optional","forbidden"],skipFunctions:o.boolean(),stripUnknown:o.object({arrays:o.boolean(),objects:o.boolean()}).or("arrays","objects").allow(!0,!1),warnings:o.boolean()},allow:d.desc.values,invalid:d.desc.values,rules:o.array().min(1).items({name:o.string().required(),args:o.object().min(1),keep:o.boolean(),message:[o.string(),d.desc.messages],warn:o.boolean()}),keys:o.object().pattern(/.*/,o.link("/")),link:d.desc.ref}).pattern(/^[a-z]\w*$/,o.any())},493:(a,i,l)=>{const o=l(8571),d=l(9621),g=l(8160),v={value:Symbol("value")};a.exports=v.State=class{constructor(c,h,_){this.path=c,this.ancestors=h,this.mainstay=_.mainstay,this.schemas=_.schemas,this.debug=null}localize(c,h=null,_=null){const f=new v.State(c,h,this);return _&&f.schemas&&(f.schemas=[v.schemas(_),...f.schemas]),f}nest(c,h){const _=new v.State(this.path,this.ancestors,this);return _.schemas=_.schemas&&[v.schemas(c),..._.schemas],_.debug=h,_}shadow(c,h){this.mainstay.shadow=this.mainstay.shadow||new v.Shadow,this.mainstay.shadow.set(this.path,c,h)}snapshot(){this.mainstay.shadow&&(this._snapshot=o(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},v.schemas=function(c){return g.isSchema(c)?{schema:c}:c},v.Shadow=class{constructor(){this._values=null}set(c,h,_){if(!c.length||_==="strip"&&typeof c[c.length-1]=="number")return;this._values=this._values||new Map;let f=this._values;for(let m=0;m<c.length;++m){const y=c[m];let u=f.get(y);u||(u=new Map,f.set(y,u)),f=u}f[v.value]=h}get(c){const h=this.node(c);if(h)return h[v.value]}node(c){if(this._values)return d(this._values,c,{iterables:!0})}override(c,h){if(!this._values)return;const _=c.slice(0,-1),f=c[c.length-1],m=d(this._values,_,{iterables:!0});h?m.set(f,h):m&&m.delete(f)}}},3328:(a,i,l)=>{const o=l(375),d=l(8571),g=l(5277),v=l(1447),c=l(8160),h=l(6354),_=l(6133),f={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};a.exports=f.Template=class{constructor(m,y){if(o(typeof m=="string","Template source must be a string"),o(!m.includes("\0")&&!m.includes(""),"Template source cannot contain reserved control characters"),this.source=m,this.rendered=m,this._template=null,y){const{functions:u,...p}=y;this._settings=Object.keys(p).length?d(p):void 0,this._functions=u,this._functions&&(o(Object.keys(this._functions).every(x=>typeof x=="string"),"Functions keys must be strings"),o(Object.values(this._functions).every(x=>typeof x=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const m=f.encode(this.source),y=f.split(m);let u=!1;const p=[],x=y.shift();x&&p.push(x);for(const w of y){const I=w[0]!=="{",$=I?"}":"}}",N=w.indexOf($);if(N===-1||w[1]==="{"){p.push(`{${f.decode(w)}`);continue}let b=w.slice(I?0:1,N);const C=b[0]===":";C&&(b=b.slice(1));const S=this._ref(f.decode(b),{raw:I,wrapped:C});p.push(S),typeof S!="string"&&(u=!0);const k=w.slice(N+$.length);k&&p.push(f.decode(k))}u?this._template=p:this.rendered=p.join("")}static date(m,y){return f.dateFormat[y.dateFormat].call(m)}describe(m={}){if(!this._settings&&m.compact)return this.source;const y={template:this.source};return this._settings&&(y.options=this._settings),this._functions&&(y.functions=this._functions),y}static build(m){return new f.Template(m.template,m.options||m.functions?{...m.options,functions:m.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(m){return!!m&&!!m[c.symbols.template]}refs(){if(!this._template)return;const m=[];for(const y of this._template)typeof y!="string"&&m.push(...y.refs);return m}resolve(m,y,u,p){return this._template&&this._template.length===1?this._part(this._template[0],m,y,u,p,{}):this.render(m,y,u,p)}_part(m,...y){return m.ref?m.ref.resolve(...y):m.formula.evaluate(y)}render(m,y,u,p,x={}){if(!this.isDynamic())return this.rendered;const w=[];for(const I of this._template)if(typeof I=="string")w.push(I);else{const $=this._part(I,m,y,u,p,x),N=f.stringify($,m,y,u,p,x);if(N!==void 0){const b=I.raw||(x.errors&&x.errors.escapeHtml)===!1?N:g(N);w.push(f.wrap(b,I.wrapped&&u.errors.wrap.label))}}return w.join("")}_ref(m,{raw:y,wrapped:u}){const p=[],x=I=>{const $=_.create(I,this._settings);return p.push($),N=>{const b=$.resolve(...N);return b!==void 0?b:null}};try{const I=this._functions?{...f.functions,...this._functions}:f.functions;var w=new v.Parser(m,{reference:x,functions:I,constants:f.constants})}catch(I){throw I.message=`Invalid template variable "${m}" fails due to: ${I.message}`,I}if(w.single){if(w.single.type==="reference"){const I=p[0];return{ref:I,raw:y,refs:p,wrapped:u||I.type==="local"&&I.key==="label"}}return f.stringify(w.single.value)}return{formula:w,raw:y,refs:p}}toString(){return this.source}},f.Template.prototype[c.symbols.template]=!0,f.Template.prototype.isImmutable=!0,f.encode=function(m){return m.replace(/\\(\{+)/g,(y,u)=>f.opens.slice(0,u.length)).replace(/\\(\}+)/g,(y,u)=>f.closes.slice(0,u.length))},f.decode=function(m){return m.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},f.split=function(m){const y=[];let u="";for(let p=0;p<m.length;++p){const x=m[p];if(x==="{"){let w="";for(;p+1<m.length&&m[p+1]==="{";)w+="{",++p;y.push(u),u=w}else u+=x}return y.push(u),y},f.wrap=function(m,y){return y?y.length===1?`${y}${m}${y}`:`${y[0]}${m}${y[1]}`:m},f.stringify=function(m,y,u,p,x,w={}){const I=typeof m,$=p&&p.errors&&p.errors.wrap||{};let N=!1;if(_.isRef(m)&&m.render&&(N=m.in,m=m.resolve(y,u,p,x,{in:m.in,...w})),m===null)return"null";if(I==="string")return f.wrap(m,w.arrayItems&&$.string);if(I==="number"||I==="function"||I==="symbol")return m.toString();if(I!=="object")return JSON.stringify(m);if(m instanceof Date)return f.Template.date(m,p);if(m instanceof Map){const C=[];for(const[S,k]of m.entries())C.push(`${S.toString()} -> ${k.toString()}`);m=C}if(!Array.isArray(m))return m.toString();const b=[];for(const C of m)b.push(f.stringify(C,y,u,p,x,{arrayItems:!0,...w}));return f.wrap(b.join(", "),!N&&$.array)},f.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},f.functions={if:(m,y,u)=>m?y:u,length:m=>typeof m=="string"?m.length:m&&typeof m=="object"?Array.isArray(m)?m.length:Object.keys(m).length:null,msg(m){const[y,u,p,x,w]=this,I=w.messages;if(!I)return"";const $=h.template(y,I[0],m,u,p)||h.template(y,I[1],m,u,p);return $?$.render(y,u,p,x,w):""},number:m=>typeof m=="number"?m:typeof m=="string"?parseFloat(m):typeof m=="boolean"?m?1:0:m instanceof Date?m.getTime():null}},4946:(a,i,l)=>{const o=l(375),d=l(1687),g=l(8068),v=l(8160),c=l(3292),h=l(6354),_=l(6133),f={};a.exports=g.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:_.toSibling}},args:(m,...y)=>y.length===1&&Array.isArray(y[0])?m.try(...y[0]):m.try(...y),validate(m,y){const{schema:u,error:p,state:x,prefs:w}=y;if(u._flags.match){const $=[],N=[];for(let C=0;C<u.$_terms.matches.length;++C){const S=u.$_terms.matches[C],k=x.nest(S.schema,`match.${C}`);k.snapshot();const B=S.schema.$_validate(m,k,w);B.errors?(N.push(B.errors),k.restore()):($.push(B.value),k.commit())}if($.length===0)return{errors:p("alternatives.any",{details:N.map(C=>h.details(C,{override:!1}))})};if(u._flags.match==="one")return $.length===1?{value:$[0]}:{errors:p("alternatives.one")};if($.length!==u.$_terms.matches.length)return{errors:p("alternatives.all",{details:N.map(C=>h.details(C,{override:!1}))})};const b=C=>C.$_terms.matches.some(S=>S.schema.type==="object"||S.schema.type==="alternatives"&&b(S.schema));return b(u)?{value:$.reduce((C,S)=>d(C,S,{mergeArrays:!1}))}:{value:$[$.length-1]}}const I=[];for(let $=0;$<u.$_terms.matches.length;++$){const N=u.$_terms.matches[$];if(N.schema){const S=x.nest(N.schema,`match.${$}`);S.snapshot();const k=N.schema.$_validate(m,S,w);if(!k.errors)return S.commit(),k;S.restore(),I.push({schema:N.schema,reports:k.errors});continue}const b=N.ref?N.ref.resolve(m,x,w):m,C=N.is?[N]:N.switch;for(let S=0;S<C.length;++S){const k=C[S],{is:B,then:R,otherwise:L}=k,A=`match.${$}${N.switch?"."+S:""}`;if(B.$_match(b,x.nest(B,`${A}.is`),w)){if(R)return R.$_validate(m,x.nest(R,`${A}.then`),w)}else if(L)return L.$_validate(m,x.nest(L,`${A}.otherwise`),w)}}return f.errors(I,y)},rules:{conditional:{method(m,y){o(!this._flags._endedSwitch,"Unreachable condition"),o(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),o(y.break===void 0,"Cannot use break option with alternatives conditional");const u=this.clone(),p=c.when(u,m,y),x=p.is?[p]:p.switch;for(const w of x)if(w.then&&w.otherwise){u.$_setFlag("_endedSwitch",!0,{clone:!1});break}return u.$_terms.matches.push(p),u.$_mutateRebuild()}},match:{method(m){if(o(["any","one","all"].includes(m),"Invalid alternatives match mode",m),m!=="any")for(const y of this.$_terms.matches)o(y.schema,"Cannot combine match mode",m,"with conditional rules");return this.$_setFlag("match",m)}},try:{method(...m){o(m.length,"Missing alternative schemas"),v.verifyFlat(m,"try"),o(!this._flags._endedSwitch,"Unreachable condition");const y=this.clone();for(const u of m)y.$_terms.matches.push({schema:y.$_compile(u)});return y.$_mutateRebuild()}}},overrides:{label(m){return this.$_parent("label",m).$_modify({each:(y,u)=>u.path[0]!=="is"&&typeof y._flags.label!="string"?y.label(m):void 0,ref:!1})}},rebuild(m){m.$_modify({each:y=>{v.isSchema(y)&&y.type==="array"&&m.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(m,y){if(y.matches)for(const u of y.matches){const{schema:p,ref:x,is:w,not:I,then:$,otherwise:N}=u;m=p?m.try(p):x?m.conditional(x,{is:w,then:$,not:I,otherwise:N,switch:u.switch}):m.conditional(w,{then:$,otherwise:N})}return m}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),f.errors=function(m,{error:y,state:u}){if(!m.length)return{errors:y("alternatives.any")};if(m.length===1)return{errors:m[0].reports};const p=new Set,x=[];for(const{reports:w,schema:I}of m){if(w.length>1)return f.unmatched(m,y);const $=w[0];if($ instanceof h.Report==0)return f.unmatched(m,y);if($.state.path.length!==u.path.length){x.push({type:I.type,report:$});continue}if($.code==="any.only"){for(const C of $.local.valids)p.add(C);continue}const[N,b]=$.code.split(".");b!=="base"?x.push({type:I.type,report:$}):$.code==="object.base"?p.add($.local.type):p.add(N)}return x.length?x.length===1?{errors:x[0].report}:f.unmatched(m,y):{errors:y("alternatives.types",{types:[...p]})}},f.unmatched=function(m,y){const u=[];for(const p of m)u.push(...p.reports);return{errors:y("alternatives.match",h.details(u,{override:!1}))}}},8068:(a,i,l)=>{const o=l(375),d=l(7629),g=l(8160),v=l(6914);a.exports=d.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(c,h){return o(typeof c=="function","Method must be a function"),o(h===void 0||h&&typeof h=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:c,description:h}})},validate(c,h,{method:_}){try{return _(c,h)}catch(f){return h.error("any.custom",{error:f})}},args:["method","description"],multi:!0},messages:{method(c){return this.prefs({messages:c})}},shared:{method(c){o(g.isSchema(c)&&c._flags.id,"Schema must be a schema with an id");const h=this.clone();return h.$_terms.shared=h.$_terms.shared||[],h.$_terms.shared.push(c),h.$_mutateRegister(c),h}},warning:{method(c,h){return o(c&&typeof c=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:c,local:h},warn:!0})},validate:(c,h,{code:_,local:f})=>h.error(_,f),args:["code","local"],multi:!0}},modifiers:{keep(c,h=!0){c.keep=h},message(c,h){c.message=v.compile(h)},warn(c,h=!0){c.warn=h}},manifest:{build(c,h){for(const _ in h){const f=h[_];if(["examples","externals","metas","notes","tags"].includes(_))for(const m of f)c=c[_.slice(0,-1)](m);else if(_!=="alterations")if(_!=="whens"){if(_==="shared")for(const m of f)c=c.shared(m)}else for(const m of f){const{ref:y,is:u,not:p,then:x,otherwise:w,concat:I}=m;c=I?c.concat(I):y?c.when(y,{is:u,not:p,then:x,otherwise:w,switch:m.switch,break:m.break}):c.when(u,{then:x,otherwise:w,break:m.break})}else{const m={};for(const{target:y,adjuster:u}of f)m[y]=u;c=c.alter(m)}}return c}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(a,i,l)=>{const o=l(375),d=l(9474),g=l(9621),v=l(8068),c=l(8160),h=l(3292),_={};a.exports=v.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(f,{schema:m,state:y,prefs:u}){if(!Array.isArray(f))return;const p=m.$_getRule("sort");return p?_.sort(m,f,p.args.options,y,u):void 0}},validate(f,{schema:m,error:y}){if(!Array.isArray(f)){if(m._flags.single){const u=[f];return u[c.symbols.arraySingle]=!0,{value:u}}return{errors:y("array.base")}}if(m.$_getRule("items")||m.$_terms.externals)return{value:f.slice()}},rules:{has:{method(f){f=this.$_compile(f,{appendPath:!0});const m=this.$_addRule({name:"has",args:{schema:f}});return m.$_mutateRegister(f),m},validate(f,{state:m,prefs:y,error:u},{schema:p}){const x=[f,...m.ancestors];for(let I=0;I<f.length;++I){const $=m.localize([...m.path,I],x,p);if(p.$_match(f[I],$,y))return f}const w=p._flags.label;return w?u("array.hasKnown",{patternLabel:w}):u("array.hasUnknown",null)},multi:!0},items:{method(...f){c.verifyFlat(f,"items");const m=this.$_addRule("items");for(let y=0;y<f.length;++y){const u=c.tryWithPath(()=>this.$_compile(f[y]),y,{append:!0});m.$_terms.items.push(u)}return m.$_mutateRebuild()},validate(f,{schema:m,error:y,state:u,prefs:p,errorsArray:x}){const w=m.$_terms._requireds.slice(),I=m.$_terms.ordered.slice(),$=[...m.$_terms._inclusions,...w],N=!f[c.symbols.arraySingle];delete f[c.symbols.arraySingle];const b=x();let C=f.length;for(let S=0;S<C;++S){const k=f[S];let B=!1,R=!1;const L=N?S:new Number(S),A=[...u.path,L];if(!m._flags.sparse&&k===void 0){if(b.push(y("array.sparse",{key:L,path:A,pos:S,value:void 0},u.localize(A))),p.abortEarly)return b;I.shift();continue}const q=[f,...u.ancestors];for(const z of m.$_terms._exclusions)if(z.$_match(k,u.localize(A,q,z),p,{presence:"ignore"})){if(b.push(y("array.excludes",{pos:S,value:k},u.localize(A))),p.abortEarly)return b;B=!0,I.shift();break}if(B)continue;if(m.$_terms.ordered.length){if(I.length){const z=I.shift(),M=z.$_validate(k,u.localize(A,q,z),p);if(M.errors){if(b.push(...M.errors),p.abortEarly)return b}else if(z._flags.result==="strip")_.fastSplice(f,S),--S,--C;else{if(!m._flags.sparse&&M.value===void 0){if(b.push(y("array.sparse",{key:L,path:A,pos:S,value:void 0},u.localize(A))),p.abortEarly)return b;continue}f[S]=M.value}continue}if(!m.$_terms.items.length){if(b.push(y("array.orderedLength",{pos:S,limit:m.$_terms.ordered.length})),p.abortEarly)return b;break}}const G=[];let D=w.length;for(let z=0;z<D;++z){const M=u.localize(A,q,w[z]);M.snapshot();const H=w[z].$_validate(k,M,p);if(G[z]=H,!H.errors){if(M.commit(),f[S]=H.value,R=!0,_.fastSplice(w,z),--z,--D,!m._flags.sparse&&H.value===void 0&&(b.push(y("array.sparse",{key:L,path:A,pos:S,value:void 0},u.localize(A))),p.abortEarly))return b;break}M.restore()}if(R)continue;const V=p.stripUnknown&&!!p.stripUnknown.arrays||!1;D=$.length;for(const z of $){let M;const H=w.indexOf(z);if(H!==-1)M=G[H];else{const me=u.localize(A,q,z);if(me.snapshot(),M=z.$_validate(k,me,p),!M.errors){me.commit(),z._flags.result==="strip"?(_.fastSplice(f,S),--S,--C):m._flags.sparse||M.value!==void 0?f[S]=M.value:(b.push(y("array.sparse",{key:L,path:A,pos:S,value:void 0},u.localize(A))),B=!0),R=!0;break}me.restore()}if(D===1){if(V){_.fastSplice(f,S),--S,--C,R=!0;break}if(b.push(...M.errors),p.abortEarly)return b;B=!0;break}}if(!B&&(m.$_terms._inclusions.length||m.$_terms._requireds.length)&&!R){if(V){_.fastSplice(f,S),--S,--C;continue}if(b.push(y("array.includes",{pos:S,value:k},u.localize(A))),p.abortEarly)return b}}return w.length&&_.fillMissedErrors(m,b,w,f,u,p),I.length&&(_.fillOrderedErrors(m,b,I,f,u,p),b.length||_.fillDefault(I,f,u,p)),b.length?b:f},priority:!0,manifest:!1},length:{method(f){return this.$_addRule({name:"length",args:{limit:f},operator:"="})},validate:(f,m,{limit:y},{name:u,operator:p,args:x})=>c.compare(f.length,y,p)?f:m.error("array."+u,{limit:x.limit,value:f}),args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method(f){return this.$_addRule({name:"max",method:"length",args:{limit:f},operator:"<="})}},min:{method(f){return this.$_addRule({name:"min",method:"length",args:{limit:f},operator:">="})}},ordered:{method(...f){c.verifyFlat(f,"ordered");const m=this.$_addRule("items");for(let y=0;y<f.length;++y){const u=c.tryWithPath(()=>this.$_compile(f[y]),y,{append:!0});_.validateSingle(u,m),m.$_mutateRegister(u),m.$_terms.ordered.push(u)}return m.$_mutateRebuild()}},single:{method(f){const m=f===void 0||!!f;return o(!m||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",m)}},sort:{method(f={}){c.assertOptions(f,["by","order"]);const m={order:f.order||"ascending"};return f.by&&(m.by=h.ref(f.by,{ancestor:0}),o(!m.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:m}})},validate(f,{error:m,state:y,prefs:u,schema:p},{options:x}){const{value:w,errors:I}=_.sort(p,f,x,y,u);if(I)return I;for(let $=0;$<f.length;++$)if(f[$]!==w[$])return m("array.sort",{order:x.order,by:x.by?x.by.key:"value"});return f},convert:!0},sparse:{method(f){const m=f===void 0||!!f;return this._flags.sparse===m?this:(m?this.clone():this.$_addRule("items")).$_setFlag("sparse",m,{clone:!1})}},unique:{method(f,m={}){o(!f||typeof f=="function"||typeof f=="string","comparator must be a function or a string"),c.assertOptions(m,["ignoreUndefined","separator"]);const y={name:"unique",args:{options:m,comparator:f}};if(f)if(typeof f=="string"){const u=c.default(m.separator,".");y.path=u?f.split(u):[f]}else y.comparator=f;return this.$_addRule(y)},validate(f,{state:m,error:y,schema:u},{comparator:p,options:x},{comparator:w,path:I}){const $={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},N=w||d,b=x.ignoreUndefined;for(let C=0;C<f.length;++C){const S=I?g(f[C],I):f[C],k=w?$.custom:$[typeof S];if(o(k,"Failed to find unique map container for type",typeof S),k instanceof Map){const B=k.entries();let R;for(;!(R=B.next()).done;)if(N(R.value[0],S)){const L=m.localize([...m.path,C],[f,...m.ancestors]),A={pos:C,value:f[C],dupePos:R.value[1],dupeValue:f[R.value[1]]};return I&&(A.path=p),y("array.unique",A,L)}k.set(S,C)}else{if((!b||S!==void 0)&&k[S]!==void 0){const B={pos:C,value:f[C],dupePos:k[S],dupeValue:f[k[S]]};return I&&(B.path=p),y("array.unique",B,m.localize([...m.path,C],[f,...m.ancestors]))}k[S]=C}}return f},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(f,m)=>new Set(f)}},rebuild(f){f.$_terms._inclusions=[],f.$_terms._exclusions=[],f.$_terms._requireds=[];for(const m of f.$_terms.items)_.validateSingle(m,f),m._flags.presence==="required"?f.$_terms._requireds.push(m):m._flags.presence==="forbidden"?f.$_terms._exclusions.push(m):f.$_terms._inclusions.push(m);for(const m of f.$_terms.ordered)_.validateSingle(m,f)},manifest:{build:(f,m)=>(m.items&&(f=f.items(...m.items)),m.ordered&&(f=f.ordered(...m.ordered)),f)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),_.fillMissedErrors=function(f,m,y,u,p,x){const w=[];let I=0;for(const $ of y){const N=$._flags.label;N?w.push(N):++I}w.length?I?m.push(f.$_createError("array.includesRequiredBoth",u,{knownMisses:w,unknownMisses:I},p,x)):m.push(f.$_createError("array.includesRequiredKnowns",u,{knownMisses:w},p,x)):m.push(f.$_createError("array.includesRequiredUnknowns",u,{unknownMisses:I},p,x))},_.fillOrderedErrors=function(f,m,y,u,p,x){const w=[];for(const I of y)I._flags.presence==="required"&&w.push(I);w.length&&_.fillMissedErrors(f,m,w,u,p,x)},_.fillDefault=function(f,m,y,u){const p=[];let x=!0;for(let w=f.length-1;w>=0;--w){const I=f[w],$=[m,...y.ancestors],N=I.$_validate(void 0,y.localize(y.path,$,I),u).value;if(x){if(N===void 0)continue;x=!1}p.unshift(N)}p.length&&m.push(...p)},_.fastSplice=function(f,m){let y=m;for(;y<f.length;)f[y++]=f[y];--f.length},_.validateSingle=function(f,m){(f.type==="array"||f._flags._arrayItems)&&(o(!m._flags.single,"Cannot specify array item with single rule enabled"),m.$_setFlag("_arrayItems",!0,{clone:!1}))},_.sort=function(f,m,y,u,p){const x=y.order==="ascending"?1:-1,w=-1*x,I=x,$=(N,b)=>{let C=_.compare(N,b,w,I);if(C!==null||(y.by&&(N=y.by.resolve(N,u,p),b=y.by.resolve(b,u,p)),C=_.compare(N,b,w,I),C!==null))return C;const S=typeof N;if(S!==typeof b)throw f.$_createError("array.sort.mismatching",m,null,u,p);if(S!=="number"&&S!=="string")throw f.$_createError("array.sort.unsupported",m,{type:S},u,p);return S==="number"?(N-b)*x:N<b?w:I};try{return{value:m.slice().sort($)}}catch(N){return{errors:N}}},_.compare=function(f,m,y,u){return f===m?0:f===void 0?1:m===void 0?-1:f===null?u:m===null?y:null}},4937:(a,i,l)=>{const o=l(375),d=l(8068),g=l(8160),v=l(2036),c={isBool:function(h){return typeof h=="boolean"}};a.exports=d.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(h,{schema:_}){if(typeof h!="boolean"){if(typeof h=="string"){const f=_._flags.sensitive?h:h.toLowerCase();h=f==="true"||f!=="false"&&h}return typeof h!="boolean"&&(h=_.$_terms.truthy&&_.$_terms.truthy.has(h,null,null,!_._flags.sensitive)||(!_.$_terms.falsy||!_.$_terms.falsy.has(h,null,null,!_._flags.sensitive))&&h),{value:h}}},validate(h,{error:_}){if(typeof h!="boolean")return{value:h,errors:_("boolean.base")}},rules:{truthy:{method(...h){g.verifyFlat(h,"truthy");const _=this.clone();_.$_terms.truthy=_.$_terms.truthy||new v;for(let f=0;f<h.length;++f){const m=h[f];o(m!==void 0,"Cannot call truthy with undefined"),_.$_terms.truthy.add(m)}return _}},falsy:{method(...h){g.verifyFlat(h,"falsy");const _=this.clone();_.$_terms.falsy=_.$_terms.falsy||new v;for(let f=0;f<h.length;++f){const m=h[f];o(m!==void 0,"Cannot call falsy with undefined"),_.$_terms.falsy.add(m)}return _}},sensitive:{method(h=!0){return this.$_setFlag("sensitive",h)}}},cast:{number:{from:c.isBool,to:(h,_)=>h?1:0},string:{from:c.isBool,to:(h,_)=>h?"true":"false"}},manifest:{build:(h,_)=>(_.truthy&&(h=h.truthy(..._.truthy)),_.falsy&&(h=h.falsy(..._.falsy)),h)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(a,i,l)=>{const o=l(375),d=l(8068),g=l(8160),v=l(3328),c={isDate:function(h){return h instanceof Date}};a.exports=d.extend({type:"date",coerce:{from:["number","string"],method:(h,{schema:_})=>({value:c.parse(h,_._flags.format)||h})},validate(h,{schema:_,error:f,prefs:m}){if(h instanceof Date&&!isNaN(h.getTime()))return;const y=_._flags.format;return m.convert&&y&&typeof h=="string"?{value:h,errors:f("date.format",{format:y})}:{value:h,errors:f("date.base")}},rules:{compare:{method:!1,validate(h,_,{date:f},{name:m,operator:y,args:u}){const p=f==="now"?Date.now():f.getTime();return g.compare(h.getTime(),p,y)?h:_.error("date."+m,{limit:u.date,value:h})},args:[{name:"date",ref:!0,normalize:h=>h==="now"?h:c.parse(h),assert:h=>h!==null,message:"must have a valid date format"}]},format:{method(h){return o(["iso","javascript","unix"].includes(h),"Unknown date format",h),this.$_setFlag("format",h)}},greater:{method(h){return this.$_addRule({name:"greater",method:"compare",args:{date:h},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(h){return this.$_addRule({name:"less",method:"compare",args:{date:h},operator:"<"})}},max:{method(h){return this.$_addRule({name:"max",method:"compare",args:{date:h},operator:"<="})}},min:{method(h){return this.$_addRule({name:"min",method:"compare",args:{date:h},operator:">="})}},timestamp:{method(h="javascript"){return o(["javascript","unix"].includes(h),'"type" must be one of "javascript, unix"'),this.format(h)}}},cast:{number:{from:c.isDate,to:(h,_)=>h.getTime()},string:{from:c.isDate,to:(h,{prefs:_})=>v.date(h,_)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),c.parse=function(h,_){if(h instanceof Date)return h;if(typeof h!="string"&&(isNaN(h)||!isFinite(h))||/^\s*$/.test(h))return null;if(_==="iso")return g.isIsoDate(h)?c.date(h.toString()):null;const f=h;if(typeof h=="string"&&/^[+-]?\d+(\.\d+)?$/.test(h)&&(h=parseFloat(h)),_){if(_==="javascript")return c.date(1*h);if(_==="unix")return c.date(1e3*h);if(typeof f=="string")return null}return c.date(h)},c.date=function(h){const _=new Date(h);return isNaN(_.getTime())?null:_}},390:(a,i,l)=>{const o=l(375),d=l(7824);a.exports=d.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(g){return o(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:g}})},validate:(g,v,{n:c})=>g.length===c?g:v.error("function.arity",{n:c})},class:{method(){return this.$_addRule("class")},validate:(g,v)=>/^\s*class\s/.test(g.toString())?g:v.error("function.class",{value:g})},minArity:{method(g){return o(Number.isSafeInteger(g)&&g>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:g}})},validate:(g,v,{n:c})=>g.length>=c?g:v.error("function.minArity",{n:c})},maxArity:{method(g){return o(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:g}})},validate:(g,v,{n:c})=>g.length<=c?g:v.error("function.maxArity",{n:c})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(a,i,l)=>{const o=l(978),d=l(375),g=l(8571),v=l(3652),c=l(8068),h=l(8160),_=l(3292),f=l(6354),m=l(6133),y=l(3328),u={renameDefaults:{alias:!1,multiple:!1,override:!1}};a.exports=c.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(p,x)=>p.keys(x),validate(p,{schema:x,error:w,state:I,prefs:$}){if(!p||typeof p!==x.$_property("typeof")||Array.isArray(p))return{value:p,errors:w("object.base",{type:x.$_property("typeof")})};if(!(x.$_terms.renames||x.$_terms.dependencies||x.$_terms.keys||x.$_terms.patterns||x.$_terms.externals))return;p=u.clone(p,$);const N=[];if(x.$_terms.renames&&!u.rename(x,p,I,$,N))return{value:p,errors:N};if(!x.$_terms.keys&&!x.$_terms.patterns&&!x.$_terms.dependencies)return{value:p,errors:N};const b=new Set(Object.keys(p));if(x.$_terms.keys){const C=[p,...I.ancestors];for(const S of x.$_terms.keys){const k=S.key,B=p[k];b.delete(k);const R=I.localize([...I.path,k],C,S),L=S.schema.$_validate(B,R,$);if(L.errors){if($.abortEarly)return{value:p,errors:L.errors};L.value!==void 0&&(p[k]=L.value),N.push(...L.errors)}else S.schema._flags.result==="strip"||L.value===void 0&&B!==void 0?delete p[k]:L.value!==void 0&&(p[k]=L.value)}}if(b.size||x._flags._hasPatternMatch){const C=u.unknown(x,p,b,N,I,$);if(C)return C}if(x.$_terms.dependencies)for(const C of x.$_terms.dependencies){if(C.key!==null&&u.isPresent(C.options)(C.key.resolve(p,I,$,null,{shadow:!1}))===!1)continue;const S=u.dependencies[C.rel](x,C,p,I,$);if(S){const k=x.$_createError(S.code,p,S.context,I,$);if($.abortEarly)return{value:p,errors:k};N.push(k)}}return{value:p,errors:N}},rules:{and:{method(...p){return h.verifyFlat(p,"and"),u.dependency(this,"and",null,p)}},append:{method(p){return p==null||Object.keys(p).length===0?this:this.keys(p)}},assert:{method(p,x,w){y.isTemplate(p)||(p=_.ref(p)),d(w===void 0||typeof w=="string","Message must be a string"),x=this.$_compile(x,{appendPath:!0});const I=this.$_addRule({name:"assert",args:{subject:p,schema:x,message:w}});return I.$_mutateRegister(p),I.$_mutateRegister(x),I},validate(p,{error:x,prefs:w,state:I},{subject:$,schema:N,message:b}){const C=$.resolve(p,I,w),S=m.isRef($)?$.absolute(I):[];return N.$_match(C,I.localize(S,[p,...I.ancestors],N),w)?p:x("object.assert",{subject:$,message:b})},args:["subject","schema","message"],multi:!0},instance:{method(p,x){return d(typeof p=="function","constructor must be a function"),x=x||p.name,this.$_addRule({name:"instance",args:{constructor:p,name:x}})},validate:(p,x,{constructor:w,name:I})=>p instanceof w?p:x.error("object.instance",{type:I,value:p}),args:["constructor","name"]},keys:{method(p){d(p===void 0||typeof p=="object","Object schema must be a valid object"),d(!h.isSchema(p),"Object schema cannot be a joi schema");const x=this.clone();if(p)if(Object.keys(p).length){x.$_terms.keys=x.$_terms.keys?x.$_terms.keys.filter(w=>!p.hasOwnProperty(w.key)):new u.Keys;for(const w in p)h.tryWithPath(()=>x.$_terms.keys.push({key:w,schema:this.$_compile(p[w])}),w)}else x.$_terms.keys=new u.Keys;else x.$_terms.keys=null;return x.$_mutateRebuild()}},length:{method(p){return this.$_addRule({name:"length",args:{limit:p},operator:"="})},validate:(p,x,{limit:w},{name:I,operator:$,args:N})=>h.compare(Object.keys(p).length,w,$)?p:x.error("object."+I,{limit:N.limit,value:p}),args:[{name:"limit",ref:!0,assert:h.limit,message:"must be a positive integer"}]},max:{method(p){return this.$_addRule({name:"max",method:"length",args:{limit:p},operator:"<="})}},min:{method(p){return this.$_addRule({name:"min",method:"length",args:{limit:p},operator:">="})}},nand:{method(...p){return h.verifyFlat(p,"nand"),u.dependency(this,"nand",null,p)}},or:{method(...p){return h.verifyFlat(p,"or"),u.dependency(this,"or",null,p)}},oxor:{method(...p){return u.dependency(this,"oxor",null,p)}},pattern:{method(p,x,w={}){const I=p instanceof RegExp;I||(p=this.$_compile(p,{appendPath:!0})),d(x!==void 0,"Invalid rule"),h.assertOptions(w,["fallthrough","matches"]),I&&d(!p.flags.includes("g")&&!p.flags.includes("y"),"pattern should not use global or sticky mode"),x=this.$_compile(x,{appendPath:!0});const $=this.clone();$.$_terms.patterns=$.$_terms.patterns||[];const N={[I?"regex":"schema"]:p,rule:x};return w.matches&&(N.matches=this.$_compile(w.matches),N.matches.type!=="array"&&(N.matches=N.matches.$_root.array().items(N.matches)),$.$_mutateRegister(N.matches),$.$_setFlag("_hasPatternMatch",!0,{clone:!1})),w.fallthrough&&(N.fallthrough=!0),$.$_terms.patterns.push(N),$.$_mutateRegister(x),$}},ref:{method(){return this.$_addRule("ref")},validate:(p,x)=>m.isRef(p)?p:x.error("object.refType",{value:p})},regex:{method(){return this.$_addRule("regex")},validate:(p,x)=>p instanceof RegExp?p:x.error("object.regex",{value:p})},rename:{method(p,x,w={}){d(typeof p=="string"||p instanceof RegExp,"Rename missing the from argument"),d(typeof x=="string"||x instanceof y,"Invalid rename to argument"),d(x!==p,"Cannot rename key to same name:",p),h.assertOptions(w,["alias","ignoreUndefined","override","multiple"]);const I=this.clone();I.$_terms.renames=I.$_terms.renames||[];for(const $ of I.$_terms.renames)d($.from!==p,"Cannot rename the same key multiple times");return x instanceof y&&I.$_mutateRegister(x),I.$_terms.renames.push({from:p,to:x,options:o(u.renameDefaults,w)}),I}},schema:{method(p="any"){return this.$_addRule({name:"schema",args:{type:p}})},validate:(p,x,{type:w})=>!h.isSchema(p)||w!=="any"&&p.type!==w?x.error("object.schema",{type:w}):p},unknown:{method(p){return this.$_setFlag("unknown",p!==!1)}},with:{method(p,x,w={}){return u.dependency(this,"with",p,x,w)}},without:{method(p,x,w={}){return u.dependency(this,"without",p,x,w)}},xor:{method(...p){return h.verifyFlat(p,"xor"),u.dependency(this,"xor",null,p)}}},overrides:{default(p,x){return p===void 0&&(p=h.symbols.deepDefault),this.$_parent("default",p,x)}},rebuild(p){if(p.$_terms.keys){const x=new v.Sorter;for(const w of p.$_terms.keys)h.tryWithPath(()=>x.add(w,{after:w.schema.$_rootReferences(),group:w.key}),w.key);p.$_terms.keys=new u.Keys(...x.nodes)}},manifest:{build(p,x){if(x.keys&&(p=p.keys(x.keys)),x.dependencies)for(const{rel:w,key:I=null,peers:$,options:N}of x.dependencies)p=u.dependency(p,w,I,$,N);if(x.patterns)for(const{regex:w,schema:I,rule:$,fallthrough:N,matches:b}of x.patterns)p=p.pattern(w||I,$,{fallthrough:N,matches:b});if(x.renames)for(const{from:w,to:I,options:$}of x.renames)p=p.rename(w,I,$);return p}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),u.clone=function(p,x){if(typeof p=="object"){if(x.nonEnumerables)return g(p,{shallow:!0});const I=Object.create(Object.getPrototypeOf(p));return Object.assign(I,p),I}const w=function(...I){return p.apply(this,I)};return w.prototype=g(p.prototype),Object.defineProperty(w,"name",{value:p.name,writable:!1}),Object.defineProperty(w,"length",{value:p.length,writable:!1}),Object.assign(w,p),w},u.dependency=function(p,x,w,I,$){d(w===null||typeof w=="string",x,"key must be a strings"),$||($=I.length>1&&typeof I[I.length-1]=="object"?I.pop():{}),h.assertOptions($,["separator","isPresent"]),I=[].concat(I);const N=h.default($.separator,"."),b=[];for(const S of I)d(typeof S=="string",x,"peers must be strings"),b.push(_.ref(S,{separator:N,ancestor:0,prefix:!1}));w!==null&&(w=_.ref(w,{separator:N,ancestor:0,prefix:!1}));const C=p.clone();return C.$_terms.dependencies=C.$_terms.dependencies||[],C.$_terms.dependencies.push(new u.Dependency(x,w,b,I,$)),C},u.dependencies={and(p,x,w,I,$){const N=[],b=[],C=x.peers.length,S=u.isPresent(x.options);for(const k of x.peers)S(k.resolve(w,I,$,null,{shadow:!1}))===!1?N.push(k.key):b.push(k.key);if(N.length!==C&&b.length!==C)return{code:"object.and",context:{present:b,presentWithLabels:u.keysToLabels(p,b),missing:N,missingWithLabels:u.keysToLabels(p,N)}}},nand(p,x,w,I,$){const N=[],b=u.isPresent(x.options);for(const k of x.peers)b(k.resolve(w,I,$,null,{shadow:!1}))&&N.push(k.key);if(N.length!==x.peers.length)return;const C=x.paths[0],S=x.paths.slice(1);return{code:"object.nand",context:{main:C,mainWithLabel:u.keysToLabels(p,C),peers:S,peersWithLabels:u.keysToLabels(p,S)}}},or(p,x,w,I,$){const N=u.isPresent(x.options);for(const b of x.peers)if(N(b.resolve(w,I,$,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:x.paths,peersWithLabels:u.keysToLabels(p,x.paths)}}},oxor(p,x,w,I,$){const N=[],b=u.isPresent(x.options);for(const S of x.peers)b(S.resolve(w,I,$,null,{shadow:!1}))&&N.push(S.key);if(!N.length||N.length===1)return;const C={peers:x.paths,peersWithLabels:u.keysToLabels(p,x.paths)};return C.present=N,C.presentWithLabels=u.keysToLabels(p,N),{code:"object.oxor",context:C}},with(p,x,w,I,$){const N=u.isPresent(x.options);for(const b of x.peers)if(N(b.resolve(w,I,$,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:x.key.key,mainWithLabel:u.keysToLabels(p,x.key.key),peer:b.key,peerWithLabel:u.keysToLabels(p,b.key)}}},without(p,x,w,I,$){const N=u.isPresent(x.options);for(const b of x.peers)if(N(b.resolve(w,I,$,null,{shadow:!1})))return{code:"object.without",context:{main:x.key.key,mainWithLabel:u.keysToLabels(p,x.key.key),peer:b.key,peerWithLabel:u.keysToLabels(p,b.key)}}},xor(p,x,w,I,$){const N=[],b=u.isPresent(x.options);for(const S of x.peers)b(S.resolve(w,I,$,null,{shadow:!1}))&&N.push(S.key);if(N.length===1)return;const C={peers:x.paths,peersWithLabels:u.keysToLabels(p,x.paths)};return N.length===0?{code:"object.missing",context:C}:(C.present=N,C.presentWithLabels=u.keysToLabels(p,N),{code:"object.xor",context:C})}},u.keysToLabels=function(p,x){return Array.isArray(x)?x.map(w=>p.$_mapLabels(w)):p.$_mapLabels(x)},u.isPresent=function(p){return typeof p.isPresent=="function"?p.isPresent:x=>x!==void 0},u.rename=function(p,x,w,I,$){const N={};for(const b of p.$_terms.renames){const C=[],S=typeof b.from!="string";if(S)for(const k in x){if(x[k]===void 0&&b.options.ignoreUndefined||k===b.to)continue;const B=b.from.exec(k);B&&C.push({from:k,to:b.to,match:B})}else!Object.prototype.hasOwnProperty.call(x,b.from)||x[b.from]===void 0&&b.options.ignoreUndefined||C.push(b);for(const k of C){const B=k.from;let R=k.to;if(R instanceof y&&(R=R.render(x,w,I,k.match)),B!==R){if(!b.options.multiple&&N[R]&&($.push(p.$_createError("object.rename.multiple",x,{from:B,to:R,pattern:S},w,I)),I.abortEarly)||Object.prototype.hasOwnProperty.call(x,R)&&!b.options.override&&!N[R]&&($.push(p.$_createError("object.rename.override",x,{from:B,to:R,pattern:S},w,I)),I.abortEarly))return!1;x[B]===void 0?delete x[R]:x[R]=x[B],N[R]=!0,b.options.alias||delete x[B]}}}return!0},u.unknown=function(p,x,w,I,$,N){if(p.$_terms.patterns){let b=!1;const C=p.$_terms.patterns.map(k=>{if(k.matches)return b=!0,[]}),S=[x,...$.ancestors];for(const k of w){const B=x[k],R=[...$.path,k];for(let L=0;L<p.$_terms.patterns.length;++L){const A=p.$_terms.patterns[L];if(A.regex){const D=A.regex.test(k);if($.mainstay.tracer.debug($,"rule",`pattern.${L}`,D?"pass":"error"),!D)continue}else if(!A.schema.$_match(k,$.nest(A.schema,`pattern.${L}`),N))continue;w.delete(k);const q=$.localize(R,S,{schema:A.rule,key:k}),G=A.rule.$_validate(B,q,N);if(G.errors){if(N.abortEarly)return{value:x,errors:G.errors};I.push(...G.errors)}if(A.matches&&C[L].push(k),x[k]=G.value,!A.fallthrough)break}}if(b)for(let k=0;k<C.length;++k){const B=C[k];if(!B)continue;const R=p.$_terms.patterns[k].matches,L=$.localize($.path,S,R),A=R.$_validate(B,L,N);if(A.errors){const q=f.details(A.errors,{override:!1});q.matches=B;const G=p.$_createError("object.pattern.match",x,q,$,N);if(N.abortEarly)return{value:x,errors:G};I.push(G)}}}if(w.size&&(p.$_terms.keys||p.$_terms.patterns)){if(N.stripUnknown&&p._flags.unknown===void 0||N.skipFunctions){const b=!(!N.stripUnknown||N.stripUnknown!==!0&&!N.stripUnknown.objects);for(const C of w)b?(delete x[C],w.delete(C)):typeof x[C]=="function"&&w.delete(C)}if(!h.default(p._flags.unknown,N.allowUnknown))for(const b of w){const C=$.localize([...$.path,b],[]),S=p.$_createError("object.unknown",x[b],{child:b},C,N,{flags:!1});if(N.abortEarly)return{value:x,errors:S};I.push(S)}}},u.Dependency=class{constructor(p,x,w,I,$){this.rel=p,this.key=x,this.peers=w,this.paths=I,this.options=$}describe(){const p={rel:this.rel,peers:this.paths};return this.key!==null&&(p.key=this.key.key),this.peers[0].separator!=="."&&(p.options={...p.options,separator:this.peers[0].separator}),this.options.isPresent&&(p.options={...p.options,isPresent:this.options.isPresent}),p}},u.Keys=class extends Array{concat(p){const x=this.slice(),w=new Map;for(let I=0;I<x.length;++I)w.set(x[I].key,I);for(const I of p){const $=I.key,N=w.get($);N!==void 0?x[N]={key:$,schema:x[N].schema.concat(I.schema)}:x.push(I)}return x}}},8785:(a,i,l)=>{const o=l(375),d=l(8068),g=l(8160),v=l(3292),c=l(6354),h={};a.exports=d.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(_,f)=>_.ref(f),validate(_,{schema:f,state:m,prefs:y}){o(f.$_terms.link,"Uninitialized link schema");const u=h.generate(f,_,m,y),p=f.$_terms.link[0].ref;return u.$_validate(_,m.nest(u,`link:${p.display}:${u.type}`),y)},generate:(_,f,m,y)=>h.generate(_,f,m,y),rules:{ref:{method(_){o(!this.$_terms.link,"Cannot reinitialize schema"),_=v.ref(_),o(_.type==="value"||_.type==="local","Invalid reference type:",_.type),o(_.type==="local"||_.ancestor==="root"||_.ancestor>0,"Link cannot reference itself");const f=this.clone();return f.$_terms.link=[{ref:_}],f}},relative:{method(_=!0){return this.$_setFlag("relative",_)}}},overrides:{concat(_){o(this.$_terms.link,"Uninitialized link schema"),o(g.isSchema(_),"Invalid schema object"),o(_.type!=="link","Cannot merge type link with another link");const f=this.clone();return f.$_terms.whens||(f.$_terms.whens=[]),f.$_terms.whens.push({concat:_}),f.$_mutateRebuild()}},manifest:{build:(_,f)=>(o(f.link,"Invalid link description missing link"),_.ref(f.link))}}),h.generate=function(_,f,m,y){let u=m.mainstay.links.get(_);if(u)return u._generate(f,m,y).schema;const p=_.$_terms.link[0].ref,{perspective:x,path:w}=h.perspective(p,m);h.assert(x,"which is outside of schema boundaries",p,_,m,y);try{u=w.length?x.$_reach(w):x}catch{h.assert(!1,"to non-existing schema",p,_,m,y)}return h.assert(u.type!=="link","which is another link",p,_,m,y),_._flags.relative||m.mainstay.links.set(_,u),u._generate(f,m,y).schema},h.perspective=function(_,f){if(_.type==="local"){for(const{schema:m,key:y}of f.schemas){if((m._flags.id||y)===_.path[0])return{perspective:m,path:_.path.slice(1)};if(m.$_terms.shared){for(const u of m.$_terms.shared)if(u._flags.id===_.path[0])return{perspective:u,path:_.path.slice(1)}}}return{perspective:null,path:null}}return _.ancestor==="root"?{perspective:f.schemas[f.schemas.length-1].schema,path:_.path}:{perspective:f.schemas[_.ancestor]&&f.schemas[_.ancestor].schema,path:_.path}},h.assert=function(_,f,m,y,u,p){_||o(!1,`"${c.label(y._flags,u,p)}" contains link reference "${m.display}" ${f}`)}},3832:(a,i,l)=>{const o=l(375),d=l(8068),g=l(8160),v={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(c){const h=c.toString(),_=h.indexOf("."),f=h.indexOf("e");return(_<0?0:(f<0?h.length:f)-_-1)+(f<0?0:Math.max(0,-parseInt(h.slice(f+1))))}};a.exports=d.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(c,{schema:h,error:_}){if(!c.match(v.numberRx))return;c=c.trim();const f={value:parseFloat(c)};if(f.value===0&&(f.value=0),!h._flags.unsafe)if(c.match(/e/i)){if(v.extractSignificantDigits(c)!==v.extractSignificantDigits(String(f.value)))return f.errors=_("number.unsafe"),f}else{const m=f.value.toString();if(m.match(/e/i))return f;if(m!==v.normalizeDecimal(c))return f.errors=_("number.unsafe"),f}return f}},validate(c,{schema:h,error:_,prefs:f}){if(c===1/0||c===-1/0)return{value:c,errors:_("number.infinity")};if(!g.isNumber(c))return{value:c,errors:_("number.base")};const m={value:c};if(f.convert){const y=h.$_getRule("precision");if(y){const u=Math.pow(10,y.args.limit);m.value=Math.round(m.value*u)/u}}return m.value===0&&(m.value=0),!h._flags.unsafe&&(c>Number.MAX_SAFE_INTEGER||c<Number.MIN_SAFE_INTEGER)&&(m.errors=_("number.unsafe")),m},rules:{compare:{method:!1,validate:(c,h,{limit:_},{name:f,operator:m,args:y})=>g.compare(c,_,m)?c:h.error("number."+f,{limit:y.limit,value:c}),args:[{name:"limit",ref:!0,assert:g.isNumber,message:"must be a number"}]},greater:{method(c){return this.$_addRule({name:"greater",method:"compare",args:{limit:c},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(c,h)=>Math.trunc(c)-c==0?c:h.error("number.integer")},less:{method(c){return this.$_addRule({name:"less",method:"compare",args:{limit:c},operator:"<"})}},max:{method(c){return this.$_addRule({name:"max",method:"compare",args:{limit:c},operator:"<="})}},min:{method(c){return this.$_addRule({name:"min",method:"compare",args:{limit:c},operator:">="})}},multiple:{method(c){const h=typeof c=="number"?v.decimalPlaces(c):null,_=Math.pow(10,h);return this.$_addRule({name:"multiple",args:{base:c,baseDecimalPlace:h,pfactor:_}})},validate:(c,h,{base:_,baseDecimalPlace:f,pfactor:m},y)=>v.decimalPlaces(c)>f?h.error("number.multiple",{multiple:y.args.base,value:c}):Math.round(m*c)%Math.round(m*_)==0?c:h.error("number.multiple",{multiple:y.args.base,value:c}),args:[{name:"base",ref:!0,assert:c=>typeof c=="number"&&isFinite(c)&&c>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(c,h)=>Number.isSafeInteger(c)&&c>=0&&c<=65535?c:h.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(c){return o(Number.isSafeInteger(c),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:c}})},validate(c,h,{limit:_}){const f=c.toString().match(v.precisionRx);return Math.max((f[1]?f[1].length:0)-(f[2]?parseInt(f[2],10):0),0)<=_?c:h.error("number.precision",{limit:_,value:c})},convert:!0},sign:{method(c){return o(["negative","positive"].includes(c),"Invalid sign",c),this.$_addRule({name:"sign",args:{sign:c}})},validate:(c,h,{sign:_})=>_==="negative"&&c<0||_==="positive"&&c>0?c:h.error(`number.${_}`)},unsafe:{method(c=!0){return o(typeof c=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",c)}}},cast:{string:{from:c=>typeof c=="number",to:(c,h)=>c.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),v.extractSignificantDigits=function(c){return c.replace(v.exponentialPartRegex,"").replace(v.dotRegex,"").replace(v.trailingZerosRegex,"").replace(v.leadingSignAndZerosRegex,"")},v.normalizeDecimal=function(c){return(c=c.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&c.endsWith("0")&&(c=c.replace(/0+$/,"")),c==="-0"?"0":c}},8966:(a,i,l)=>{const o=l(7824);a.exports=o.extend({type:"object",cast:{map:{from:d=>d&&typeof d=="object",to:(d,g)=>new Map(Object.entries(d))}}})},7417:(a,i,l)=>{const o=l(375),d=l(5380),g=l(1745),v=l(9959),c=l(6064),h=l(9926),_=l(5752),f=l(8068),m=l(8160),y={tlds:h instanceof Set&&{tlds:{allow:h,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:v.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};a.exports=f.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(u,{schema:p,state:x,prefs:w}){const I=p.$_getRule("normalize");I&&(u=u.normalize(I.args.form));const $=p.$_getRule("case");$&&(u=$.args.direction==="upper"?u.toLocaleUpperCase():u.toLocaleLowerCase());const N=p.$_getRule("trim");if(N&&N.args.enabled&&(u=u.trim()),p.$_terms.replacements)for(const C of p.$_terms.replacements)u=u.replace(C.pattern,C.replacement);const b=p.$_getRule("hex");if(b&&b.args.options.byteAligned&&u.length%2!=0&&(u=`0${u}`),p.$_getRule("isoDate")){const C=y.isoDate(u);C&&(u=C)}if(p._flags.truncate){const C=p.$_getRule("max");if(C){let S=C.args.limit;if(m.isResolvable(S)&&(S=S.resolve(u,x,w),!m.limit(S)))return{value:u,errors:p.$_createError("any.ref",S,{ref:C.args.limit,arg:"limit",reason:"must be a positive integer"},x,w)};u=u.slice(0,S)}}return{value:u}}},validate(u,{schema:p,error:x}){if(typeof u!="string")return{value:u,errors:x("string.base")};if(u===""){const w=p.$_getRule("min");return w&&w.args.limit===0?void 0:{value:u,errors:x("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(u,p)=>/^[a-zA-Z0-9]+$/.test(u)?u:p.error("string.alphanum")},base64:{method(u={}){return m.assertOptions(u,["paddingRequired","urlSafe"]),u={urlSafe:!1,paddingRequired:!0,...u},o(typeof u.paddingRequired=="boolean","paddingRequired must be boolean"),o(typeof u.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:u}})},validate:(u,p,{options:x})=>y.base64Regex[x.paddingRequired][x.urlSafe].test(u)?u:p.error("string.base64")},case:{method(u){return o(["lower","upper"].includes(u),"Invalid case:",u),this.$_addRule({name:"case",args:{direction:u}})},validate:(u,p,{direction:x})=>x==="lower"&&u===u.toLocaleLowerCase()||x==="upper"&&u===u.toLocaleUpperCase()?u:p.error(`string.${x}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(u,p){let x=u.length,w=0,I=1;for(;x--;){const $=u.charAt(x)*I;w+=$-9*($>9),I^=3}return w>0&&w%10==0?u:p.error("string.creditCard")}},dataUri:{method(u={}){return m.assertOptions(u,["paddingRequired"]),u={paddingRequired:!0,...u},o(typeof u.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:u}})},validate(u,p,{options:x}){const w=u.match(y.dataUriRegex);return w&&(!w[2]||w[2]!=="base64"||y.base64Regex[x.paddingRequired].false.test(w[3]))?u:p.error("string.dataUri")}},domain:{method(u){u&&m.assertOptions(u,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const p=y.addressOptions(u);return this.$_addRule({name:"domain",args:{options:u},address:p})},validate:(u,p,x,{address:w})=>d.isValid(u,w)?u:p.error("string.domain")},email:{method(u={}){m.assertOptions(u,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),o(u.multiple===void 0||typeof u.multiple=="boolean","multiple option must be an boolean");const p=y.addressOptions(u),x=new RegExp(`\\s*[${u.separator?c(u.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:u},regex:x,address:p})},validate(u,p,{options:x},{regex:w,address:I}){const $=x.multiple?u.split(w):[u],N=[];for(const b of $)g.isValid(b,I)||N.push(b);return N.length?p.error("string.email",{value:u,invalids:N}):u}},guid:{alias:"uuid",method(u={}){m.assertOptions(u,["version","separator"]);let p="";if(u.version){const I=[].concat(u.version);o(I.length>=1,"version must have at least 1 valid version specified");const $=new Set;for(let N=0;N<I.length;++N){const b=I[N];o(typeof b=="string","version at position "+N+" must be a string");const C=y.guidVersions[b.toLowerCase()];o(C,"version at position "+N+" must be one of "+Object.keys(y.guidVersions).join(", ")),o(!$.has(C),"version at position "+N+" must not be a duplicate"),p+=C,$.add(C)}}o(y.guidSeparators.has(u.separator),'separator must be one of true, false, "-", or ":"');const x=u.separator===void 0?"[:-]?":u.separator===!0?"[:-]":u.separator===!1?"[]?":`\\${u.separator}`,w=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${x})[0-9A-F]{4}\\2?[${p||"0-9A-F"}][0-9A-F]{3}\\2?[${p?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:u},regex:w})},validate(u,p,x,{regex:w}){const I=w.exec(u);return I?y.guidBrackets[I[1]]!==I[I.length-1]?p.error("string.guid"):u:p.error("string.guid")}},hex:{method(u={}){return m.assertOptions(u,["byteAligned","prefix"]),u={byteAligned:!1,prefix:!1,...u},o(typeof u.byteAligned=="boolean","byteAligned must be boolean"),o(typeof u.prefix=="boolean"||u.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:u}})},validate:(u,p,{options:x})=>(x.prefix==="optional"?y.hexRegex.withOptionalPrefix:x.prefix===!0?y.hexRegex.withPrefix:y.hexRegex.withoutPrefix).test(u)?x.byteAligned&&u.length%2!=0?p.error("string.hexAlign"):u:p.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(u,p)=>d.isValid(u,{minDomainSegments:1})||y.ipRegex.test(u)?u:p.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(u={}){m.assertOptions(u,["cidr","version"]);const{cidr:p,versions:x,regex:w}=v.regex(u),I=u.version?x:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:p,version:I}},regex:w})},validate:(u,p,{options:x},{regex:w})=>w.test(u)?u:x.version?p.error("string.ipVersion",{value:u,cidr:x.cidr,version:x.version}):p.error("string.ip",{value:u,cidr:x.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(u,{error:p})=>y.isoDate(u)?u:p("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(u,p)=>y.isoDurationRegex.test(u)?u:p.error("string.isoDuration")},length:{method(u,p){return y.length(this,"length",u,"=",p)},validate(u,p,{limit:x,encoding:w},{name:I,operator:$,args:N}){const b=!w&&u.length;return m.compare(b,x,$)?u:p.error("string."+I,{limit:N.limit,value:u,encoding:w})},args:[{name:"limit",ref:!0,assert:m.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(u,p){return y.length(this,"max",u,"<=",p)},args:["limit","encoding"]},min:{method(u,p){return y.length(this,"min",u,">=",p)},args:["limit","encoding"]},normalize:{method(u="NFC"){return o(y.normalizationForms.includes(u),"normalization form must be one of "+y.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:u}})},validate:(u,{error:p},{form:x})=>u===u.normalize(x)?u:p("string.normalize",{value:u,form:x}),convert:!0},pattern:{alias:"regex",method(u,p={}){o(u instanceof RegExp,"regex must be a RegExp"),o(!u.flags.includes("g")&&!u.flags.includes("y"),"regex should not use global or sticky mode"),typeof p=="string"&&(p={name:p}),m.assertOptions(p,["invert","name"]);const x=["string.pattern",p.invert?".invert":"",p.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:u,options:p},errorCode:x})},validate:(u,p,{regex:x,options:w},{errorCode:I})=>x.test(u)^w.invert?u:p.error(I,{name:w.name,regex:x,value:u}),args:["regex","options"],multi:!0},replace:{method(u,p){typeof u=="string"&&(u=new RegExp(c(u),"g")),o(u instanceof RegExp,"pattern must be a RegExp"),o(typeof p=="string","replacement must be a String");const x=this.clone();return x.$_terms.replacements||(x.$_terms.replacements=[]),x.$_terms.replacements.push({pattern:u,replacement:p}),x}},token:{method(){return this.$_addRule("token")},validate:(u,p)=>/^\w+$/.test(u)?u:p.error("string.token")},trim:{method(u=!0){return o(typeof u=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:u}})},validate:(u,p,{enabled:x})=>x&&u!==u.trim()?p.error("string.trim"):u,convert:!0},truncate:{method(u=!0){return o(typeof u=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",u)}},uppercase:{method(){return this.case("upper")}},uri:{method(u={}){m.assertOptions(u,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),u.domain&&m.assertOptions(u.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:p,scheme:x}=_.regex(u),w=u.domain?y.addressOptions(u.domain):null;return this.$_addRule({name:"uri",args:{options:u},regex:p,domain:w,scheme:x})},validate(u,p,{options:x},{regex:w,domain:I,scheme:$}){if(["http:/","https:/"].includes(u))return p.error("string.uri");let N=w.exec(u);if(!N&&p.prefs.convert&&x.encodeUri){const b=encodeURI(u);N=w.exec(b),N&&(u=b)}if(N){const b=N[1]||N[2];return!I||x.allowRelative&&!b||d.isValid(b,I)?u:p.error("string.domain",{value:b})}return x.relativeOnly?p.error("string.uriRelativeOnly"):x.scheme?p.error("string.uriCustomScheme",{scheme:$,value:u}):p.error("string.uri")}}},manifest:{build(u,p){if(p.replacements)for(const{pattern:x,replacement:w}of p.replacements)u=u.replace(x,w);return u}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),y.addressOptions=function(u){if(!u)return y.tlds||u;if(o(u.minDomainSegments===void 0||Number.isSafeInteger(u.minDomainSegments)&&u.minDomainSegments>0,"minDomainSegments must be a positive integer"),o(u.maxDomainSegments===void 0||Number.isSafeInteger(u.maxDomainSegments)&&u.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),u.tlds===!1)return u;if(u.tlds===!0||u.tlds===void 0)return o(y.tlds,"Built-in TLD list disabled"),Object.assign({},u,y.tlds);o(typeof u.tlds=="object","tlds must be true, false, or an object");const p=u.tlds.deny;if(p)return Array.isArray(p)&&(u=Object.assign({},u,{tlds:{deny:new Set(p)}})),o(u.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),o(!u.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),y.validateTlds(u.tlds.deny,"tlds.deny"),u;const x=u.tlds.allow;return x?x===!0?(o(y.tlds,"Built-in TLD list disabled"),Object.assign({},u,y.tlds)):(Array.isArray(x)&&(u=Object.assign({},u,{tlds:{allow:new Set(x)}})),o(u.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),y.validateTlds(u.tlds.allow,"tlds.allow"),u):u},y.validateTlds=function(u,p){for(const x of u)o(d.isValid(x,{minDomainSegments:1,maxDomainSegments:1}),`${p} must contain valid top level domain names`)},y.isoDate=function(u){if(!m.isIsoDate(u))return null;/.*T.*[+-]\d\d$/.test(u)&&(u+="00");const p=new Date(u);return isNaN(p.getTime())?null:p.toISOString()},y.length=function(u,p,x,w,I){return o(!I||!1,"Invalid encoding:",I),u.$_addRule({name:p,method:"length",args:{limit:x,encoding:I},operator:w})}},8826:(a,i,l)=>{const o=l(375),d=l(8068),g={};g.Map=class extends Map{slice(){return new g.Map(this)}},a.exports=d.extend({type:"symbol",terms:{map:{init:new g.Map}},coerce:{method(v,{schema:c,error:h}){const _=c.$_terms.map.get(v);return _&&(v=_),c._flags.only&&typeof v!="symbol"?{value:v,errors:h("symbol.map",{map:c.$_terms.map})}:{value:v}}},validate(v,{error:c}){if(typeof v!="symbol")return{value:v,errors:c("symbol.base")}},rules:{map:{method(v){v&&!v[Symbol.iterator]&&typeof v=="object"&&(v=Object.entries(v)),o(v&&v[Symbol.iterator],"Iterable must be an iterable or object");const c=this.clone(),h=[];for(const _ of v){o(_&&_[Symbol.iterator],"Entry must be an iterable");const[f,m]=_;o(typeof f!="object"&&typeof f!="function"&&typeof f!="symbol","Key must not be of type object, function, or Symbol"),o(typeof m=="symbol","Value must be a Symbol"),c.$_terms.map.set(f,m),h.push(m)}return c.valid(...h)}}},manifest:{build:(v,c)=>(c.map&&(v=v.map(c.map)),v)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(a,i,l)=>{const o=l(375),d=l(8571),g=l(738),v=l(9621),c=l(8160),h=l(6354),_=l(493),f={result:Symbol("result")};i.entry=function(m,y,u){let p=c.defaults;u&&(o(u.warnings===void 0,"Cannot override warnings preference in synchronous validation"),o(u.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),p=c.preferences(c.defaults,u));const x=f.entry(m,y,p);o(!x.mainstay.externals.length,"Schema with external rules must use validateAsync()");const w={value:x.value};return x.error&&(w.error=x.error),x.mainstay.warnings.length&&(w.warning=h.details(x.mainstay.warnings)),x.mainstay.debug&&(w.debug=x.mainstay.debug),x.mainstay.artifacts&&(w.artifacts=x.mainstay.artifacts),w},i.entryAsync=async function(m,y,u){let p=c.defaults;u&&(p=c.preferences(c.defaults,u));const x=f.entry(m,y,p),w=x.mainstay;if(x.error)throw w.debug&&(x.error.debug=w.debug),x.error;if(w.externals.length){let $=x.value;const N=[];for(const b of w.externals){const C=b.state.path,S=b.schema.type==="link"?w.links.get(b.schema):null;let k,B,R=$;const L=C.length?[$]:[],A=C.length?v(m,C):m;if(C.length){k=C[C.length-1];let q=$;for(const G of C.slice(0,-1))q=q[G],L.unshift(q);B=L[0],R=B[k]}try{const q=(D,V)=>(S||b.schema).$_createError(D,R,V,b.state,p),G=await b.method(R,{schema:b.schema,linked:S,state:b.state,prefs:u,original:A,error:q,errorsArray:f.errorsArray,warn:(D,V)=>w.warnings.push((S||b.schema).$_createError(D,R,V,b.state,p)),message:(D,V)=>(S||b.schema).$_createError("external",R,V,b.state,p,{messages:D})});if(G===void 0||G===R)continue;if(G instanceof h.Report){if(w.tracer.log(b.schema,b.state,"rule","external","error"),N.push(G),p.abortEarly)break;continue}if(Array.isArray(G)&&G[c.symbols.errors]){if(w.tracer.log(b.schema,b.state,"rule","external","error"),N.push(...G),p.abortEarly)break;continue}B?(w.tracer.value(b.state,"rule",R,G,"external"),B[k]=G):(w.tracer.value(b.state,"rule",$,G,"external"),$=G)}catch(q){throw p.errors.label&&(q.message+=` (${b.label})`),q}}if(x.value=$,N.length)throw x.error=h.process(N,m,p),w.debug&&(x.error.debug=w.debug),x.error}if(!p.warnings&&!p.debug&&!p.artifacts)return x.value;const I={value:x.value};return w.warnings.length&&(I.warning=h.details(w.warnings)),w.debug&&(I.debug=w.debug),w.artifacts&&(I.artifacts=w.artifacts),I},f.Mainstay=class{constructor(m,y,u){this.externals=[],this.warnings=[],this.tracer=m,this.debug=y,this.links=u,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const m=this._snapshots.pop();this.externals=m.externals,this.warnings=m.warnings}commit(){this._snapshots.pop()}},f.entry=function(m,y,u){const{tracer:p,cleanup:x}=f.tracer(y,u),w=u.debug?[]:null,I=y._ids._schemaChain?new Map:null,$=new f.Mainstay(p,w,I),N=y._ids._schemaChain?[{schema:y}]:null,b=new _([],[],{mainstay:$,schemas:N}),C=i.validate(m,y,b,u);x&&y.$_root.untrace();const S=h.process(C.errors,m,u);return{value:C.value,error:S,mainstay:$}},f.tracer=function(m,y){return m.$_root._tracer?{tracer:m.$_root._tracer._register(m)}:y.debug?(o(m.$_root.trace,"Debug mode not supported"),{tracer:m.$_root.trace()._register(m),cleanup:!0}):{tracer:f.ignore}},i.validate=function(m,y,u,p,x={}){if(y.$_terms.whens&&(y=y._generate(m,u,p).schema),y._preferences&&(p=f.prefs(y,p)),y._cache&&p.cache){const S=y._cache.get(m);if(u.mainstay.tracer.debug(u,"validate","cached",!!S),S)return S}const w=(S,k,B)=>y.$_createError(S,m,k,B||u,p),I={original:m,prefs:p,schema:y,state:u,error:w,errorsArray:f.errorsArray,warn:(S,k,B)=>u.mainstay.warnings.push(w(S,k,B)),message:(S,k)=>y.$_createError("custom",m,k,u,p,{messages:S})};u.mainstay.tracer.entry(y,u);const $=y._definition;if($.prepare&&m!==void 0&&p.convert){const S=$.prepare(m,I);if(S){if(u.mainstay.tracer.value(u,"prepare",m,S.value),S.errors)return f.finalize(S.value,[].concat(S.errors),I);m=S.value}}if($.coerce&&m!==void 0&&p.convert&&(!$.coerce.from||$.coerce.from.includes(typeof m))){const S=$.coerce.method(m,I);if(S){if(u.mainstay.tracer.value(u,"coerced",m,S.value),S.errors)return f.finalize(S.value,[].concat(S.errors),I);m=S.value}}const N=y._flags.empty;N&&N.$_match(f.trim(m,y),u.nest(N),c.defaults)&&(u.mainstay.tracer.value(u,"empty",m,void 0),m=void 0);const b=x.presence||y._flags.presence||(y._flags._endedSwitch?null:p.presence);if(m===void 0){if(b==="forbidden")return f.finalize(m,null,I);if(b==="required")return f.finalize(m,[y.$_createError("any.required",m,null,u,p)],I);if(b==="optional"){if(y._flags.default!==c.symbols.deepDefault)return f.finalize(m,null,I);u.mainstay.tracer.value(u,"default",m,{}),m={}}}else if(b==="forbidden")return f.finalize(m,[y.$_createError("any.unknown",m,null,u,p)],I);const C=[];if(y._valids){const S=y._valids.get(m,u,p,y._flags.insensitive);if(S)return p.convert&&(u.mainstay.tracer.value(u,"valids",m,S.value),m=S.value),u.mainstay.tracer.filter(y,u,"valid",S),f.finalize(m,null,I);if(y._flags.only){const k=y.$_createError("any.only",m,{valids:y._valids.values({display:!0})},u,p);if(p.abortEarly)return f.finalize(m,[k],I);C.push(k)}}if(y._invalids){const S=y._invalids.get(m,u,p,y._flags.insensitive);if(S){u.mainstay.tracer.filter(y,u,"invalid",S);const k=y.$_createError("any.invalid",m,{invalids:y._invalids.values({display:!0})},u,p);if(p.abortEarly)return f.finalize(m,[k],I);C.push(k)}}if($.validate){const S=$.validate(m,I);if(S&&(u.mainstay.tracer.value(u,"base",m,S.value),m=S.value,S.errors)){if(!Array.isArray(S.errors))return C.push(S.errors),f.finalize(m,C,I);if(S.errors.length)return C.push(...S.errors),f.finalize(m,C,I)}}return y._rules.length?f.rules(m,C,I):f.finalize(m,C,I)},f.rules=function(m,y,u){const{schema:p,state:x,prefs:w}=u;for(const I of p._rules){const $=p._definition.rules[I.method];if($.convert&&w.convert){x.mainstay.tracer.log(p,x,"rule",I.name,"full");continue}let N,b=I.args;if(I._resolve.length){b=Object.assign({},b);for(const S of I._resolve){const k=$.argsByName.get(S),B=b[S].resolve(m,x,w),R=k.normalize?k.normalize(B):B,L=c.validateArg(R,null,k);if(L){N=p.$_createError("any.ref",B,{arg:S,ref:b[S],reason:L},x,w);break}b[S]=R}}N=N||$.validate(m,u,b,I);const C=f.rule(N,I);if(C.errors){if(x.mainstay.tracer.log(p,x,"rule",I.name,"error"),I.warn){x.mainstay.warnings.push(...C.errors);continue}if(w.abortEarly)return f.finalize(m,C.errors,u);y.push(...C.errors)}else x.mainstay.tracer.log(p,x,"rule",I.name,"pass"),x.mainstay.tracer.value(x,"rule",m,C.value,I.name),m=C.value}return f.finalize(m,y,u)},f.rule=function(m,y){return m instanceof h.Report?(f.error(m,y),{errors:[m],value:null}):Array.isArray(m)&&m[c.symbols.errors]?(m.forEach(u=>f.error(u,y)),{errors:m,value:null}):{errors:null,value:m}},f.error=function(m,y){return y.message&&m._setTemplate(y.message),m},f.finalize=function(m,y,u){y=y||[];const{schema:p,state:x,prefs:w}=u;if(y.length){const $=f.default("failover",void 0,y,u);$!==void 0&&(x.mainstay.tracer.value(x,"failover",m,$),m=$,y=[])}if(y.length&&p._flags.error)if(typeof p._flags.error=="function"){y=p._flags.error(y),Array.isArray(y)||(y=[y]);for(const $ of y)o($ instanceof Error||$ instanceof h.Report,"error() must return an Error object")}else y=[p._flags.error];if(m===void 0){const $=f.default("default",m,y,u);x.mainstay.tracer.value(x,"default",m,$),m=$}if(p._flags.cast&&m!==void 0){const $=p._definition.cast[p._flags.cast];if($.from(m)){const N=$.to(m,u);x.mainstay.tracer.value(x,"cast",m,N,p._flags.cast),m=N}}if(p.$_terms.externals&&w.externals&&w._externals!==!1)for(const{method:$}of p.$_terms.externals)x.mainstay.externals.push({method:$,schema:p,state:x,label:h.label(p._flags,x,w)});const I={value:m,errors:y.length?y:null};return p._flags.result&&(I.value=p._flags.result==="strip"?void 0:u.original,x.mainstay.tracer.value(x,p._flags.result,m,I.value),x.shadow(m,p._flags.result)),p._cache&&w.cache!==!1&&!p._refs.length&&p._cache.set(u.original,I),m===void 0||I.errors||p._flags.artifact===void 0||(x.mainstay.artifacts=x.mainstay.artifacts||new Map,x.mainstay.artifacts.has(p._flags.artifact)||x.mainstay.artifacts.set(p._flags.artifact,[]),x.mainstay.artifacts.get(p._flags.artifact).push(x.path)),I},f.prefs=function(m,y){const u=y===c.defaults;return u&&m._preferences[c.symbols.prefs]?m._preferences[c.symbols.prefs]:(y=c.preferences(y,m._preferences),u&&(m._preferences[c.symbols.prefs]=y),y)},f.default=function(m,y,u,p){const{schema:x,state:w,prefs:I}=p,$=x._flags[m];if(I.noDefaults||$===void 0)return y;if(w.mainstay.tracer.log(x,w,"rule",m,"full"),!$)return $;if(typeof $=="function"){const N=$.length?[d(w.ancestors[0]),p]:[];try{return $(...N)}catch(b){return void u.push(x.$_createError(`any.${m}`,null,{error:b},w,I))}}return typeof $!="object"?$:$[c.symbols.literal]?$.literal:c.isResolvable($)?$.resolve(y,w,I):d($)},f.trim=function(m,y){if(typeof m!="string")return m;const u=y.$_getRule("trim");return u&&u.args.enabled?m.trim():m},f.ignore={active:!1,debug:g,entry:g,filter:g,log:g,resolve:g,value:g},f.errorsArray=function(){const m=[];return m[c.symbols.errors]=!0,m}},2036:(a,i,l)=>{const o=l(375),d=l(9474),g=l(8160),v={};a.exports=v.Values=class{constructor(c,h){this._values=new Set(c),this._refs=new Set(h),this._lowercase=v.lowercases(c),this._override=!1}get length(){return this._values.size+this._refs.size}add(c,h){g.isResolvable(c)?this._refs.has(c)||(this._refs.add(c),h&&h.register(c)):this.has(c,null,null,!1)||(this._values.add(c),typeof c=="string"&&this._lowercase.set(c.toLowerCase(),c))}static merge(c,h,_){if(c=c||new v.Values,h){if(h._override)return h.clone();for(const f of[...h._values,...h._refs])c.add(f)}if(_)for(const f of[..._._values,..._._refs])c.remove(f);return c.length?c:null}remove(c){g.isResolvable(c)?this._refs.delete(c):(this._values.delete(c),typeof c=="string"&&this._lowercase.delete(c.toLowerCase()))}has(c,h,_,f){return!!this.get(c,h,_,f)}get(c,h,_,f){if(!this.length)return!1;if(this._values.has(c))return{value:c};if(typeof c=="string"&&c&&f){const m=this._lowercase.get(c.toLowerCase());if(m)return{value:m}}if(!this._refs.size&&typeof c!="object")return!1;if(typeof c=="object"){for(const m of this._values)if(d(m,c))return{value:m}}if(h)for(const m of this._refs){const y=m.resolve(c,h,_,null,{in:!0});if(y===void 0)continue;const u=m.in&&typeof y=="object"?Array.isArray(y)?y:Object.keys(y):[y];for(const p of u)if(typeof p==typeof c){if(f&&c&&typeof c=="string"){if(p.toLowerCase()===c.toLowerCase())return{value:p,ref:m}}else if(d(p,c))return{value:p,ref:m}}}return!1}override(){this._override=!0}values(c){if(c&&c.display){const h=[];for(const _ of[...this._values,...this._refs])_!==void 0&&h.push(_);return h}return Array.from([...this._values,...this._refs])}clone(){const c=new v.Values(this._values,this._refs);return c._override=this._override,c}concat(c){o(!c._override,"Cannot concat override set of values");const h=new v.Values([...this._values,...c._values],[...this._refs,...c._refs]);return h._override=this._override,h}describe(){const c=[];this._override&&c.push({override:!0});for(const h of this._values.values())c.push(h&&typeof h=="object"?{value:h}:h);for(const h of this._refs.values())c.push(h.describe());return c}},v.Values.prototype[g.symbols.values]=!0,v.Values.prototype.slice=v.Values.prototype.clone,v.lowercases=function(c){const h=new Map;if(c)for(const _ of c)typeof _=="string"&&h.set(_.toLowerCase(),_);return h}},978:(a,i,l)=>{const o=l(375),d=l(8571),g=l(1687),v=l(9621),c={};a.exports=function(h,_,f={}){if(o(h&&typeof h=="object","Invalid defaults value: must be an object"),o(!_||_===!0||typeof _=="object","Invalid source value: must be true, falsy or an object"),o(typeof f=="object","Invalid options: must be an object"),!_)return null;if(f.shallow)return c.applyToDefaultsWithShallow(h,_,f);const m=d(h);if(_===!0)return m;const y=f.nullOverride!==void 0&&f.nullOverride;return g(m,_,{nullOverride:y,mergeArrays:!1})},c.applyToDefaultsWithShallow=function(h,_,f){const m=f.shallow;o(Array.isArray(m),"Invalid keys");const y=new Map,u=_===!0?null:new Set;for(let w of m){w=Array.isArray(w)?w:w.split(".");const I=v(h,w);I&&typeof I=="object"?y.set(I,u&&v(_,w)||I):u&&u.add(w)}const p=d(h,{},y);if(!u)return p;for(const w of u)c.reachCopy(p,_,w);const x=f.nullOverride!==void 0&&f.nullOverride;return g(p,_,{nullOverride:x,mergeArrays:!1})},c.reachCopy=function(h,_,f){for(const u of f){if(!(u in _))return;const p=_[u];if(typeof p!="object"||p===null)return;_=p}const m=_;let y=h;for(let u=0;u<f.length-1;++u){const p=f[u];typeof y[p]!="object"&&(y[p]={}),y=y[p]}y[f[f.length-1]]=m}},375:(a,i,l)=>{const o=l(7916);a.exports=function(d,...g){if(!d)throw g.length===1&&g[0]instanceof Error?g[0]:new o(g)}},8571:(a,i,l)=>{const o=l(9621),d=l(4277),g=l(7043),v={needsProtoHack:new Set([d.set,d.map,d.weakSet,d.weakMap])};a.exports=v.clone=function(c,h={},_=null){if(typeof c!="object"||c===null)return c;let f=v.clone,m=_;if(h.shallow){if(h.shallow!==!0)return v.cloneWithShallow(c,h);f=x=>x}else if(m){const x=m.get(c);if(x)return x}else m=new Map;const y=d.getInternalProto(c);if(y===d.buffer)return!1;if(y===d.date)return new Date(c.getTime());if(y===d.regex)return new RegExp(c);const u=v.base(c,y,h);if(u===c)return c;if(m&&m.set(c,u),y===d.set)for(const x of c)u.add(f(x,h,m));else if(y===d.map)for(const[x,w]of c)u.set(x,f(w,h,m));const p=g.keys(c,h);for(const x of p){if(x==="__proto__")continue;if(y===d.array&&x==="length"){u.length=c.length;continue}const w=Object.getOwnPropertyDescriptor(c,x);w?w.get||w.set?Object.defineProperty(u,x,w):w.enumerable?u[x]=f(c[x],h,m):Object.defineProperty(u,x,{enumerable:!1,writable:!0,configurable:!0,value:f(c[x],h,m)}):Object.defineProperty(u,x,{enumerable:!0,writable:!0,configurable:!0,value:f(c[x],h,m)})}return u},v.cloneWithShallow=function(c,h){const _=h.shallow;(h=Object.assign({},h)).shallow=!1;const f=new Map;for(const m of _){const y=o(c,m);typeof y!="object"&&typeof y!="function"||f.set(y,y)}return v.clone(c,h,f)},v.base=function(c,h,_){if(_.prototype===!1)return v.needsProtoHack.has(h)?new h.constructor:h===d.array?[]:{};const f=Object.getPrototypeOf(c);if(f&&f.isImmutable)return c;if(h===d.array){const m=[];return f!==h&&Object.setPrototypeOf(m,f),m}if(v.needsProtoHack.has(h)){const m=new f.constructor;return f!==h&&Object.setPrototypeOf(m,f),m}return Object.create(f)}},9474:(a,i,l)=>{const o=l(4277),d={mismatched:null};a.exports=function(g,v,c){return c=Object.assign({prototype:!0},c),!!d.isDeepEqual(g,v,c,[])},d.isDeepEqual=function(g,v,c,h){if(g===v)return g!==0||1/g==1/v;const _=typeof g;if(_!==typeof v||g===null||v===null)return!1;if(_==="function"){if(!c.deepFunction||g.toString()!==v.toString())return!1}else if(_!=="object")return g!=g&&v!=v;const f=d.getSharedType(g,v,!!c.prototype);switch(f){case o.buffer:return!1;case o.promise:return g===v;case o.regex:return g.toString()===v.toString();case d.mismatched:return!1}for(let m=h.length-1;m>=0;--m)if(h[m].isSame(g,v))return!0;h.push(new d.SeenEntry(g,v));try{return!!d.isDeepEqualObj(f,g,v,c,h)}finally{h.pop()}},d.getSharedType=function(g,v,c){if(c)return Object.getPrototypeOf(g)!==Object.getPrototypeOf(v)?d.mismatched:o.getInternalProto(g);const h=o.getInternalProto(g);return h!==o.getInternalProto(v)?d.mismatched:h},d.valueOf=function(g){const v=g.valueOf;if(v===void 0)return g;try{return v.call(g)}catch(c){return c}},d.hasOwnEnumerableProperty=function(g,v){return Object.prototype.propertyIsEnumerable.call(g,v)},d.isSetSimpleEqual=function(g,v){for(const c of Set.prototype.values.call(g))if(!Set.prototype.has.call(v,c))return!1;return!0},d.isDeepEqualObj=function(g,v,c,h,_){const{isDeepEqual:f,valueOf:m,hasOwnEnumerableProperty:y}=d,{keys:u,getOwnPropertySymbols:p}=Object;if(g===o.array){if(!h.part){if(v.length!==c.length)return!1;for(let N=0;N<v.length;++N)if(!f(v[N],c[N],h,_))return!1;return!0}for(const N of v)for(const b of c)if(f(N,b,h,_))return!0}else if(g===o.set){if(v.size!==c.size)return!1;if(!d.isSetSimpleEqual(v,c)){const N=new Set(Set.prototype.values.call(c));for(const b of Set.prototype.values.call(v)){if(N.delete(b))continue;let C=!1;for(const S of N)if(f(b,S,h,_)){N.delete(S),C=!0;break}if(!C)return!1}}}else if(g===o.map){if(v.size!==c.size)return!1;for(const[N,b]of Map.prototype.entries.call(v))if(b===void 0&&!Map.prototype.has.call(c,N)||!f(b,Map.prototype.get.call(c,N),h,_))return!1}else if(g===o.error&&(v.name!==c.name||v.message!==c.message))return!1;const x=m(v),w=m(c);if((v!==x||c!==w)&&!f(x,w,h,_))return!1;const I=u(v);if(!h.part&&I.length!==u(c).length&&!h.skip)return!1;let $=0;for(const N of I)if(h.skip&&h.skip.includes(N))c[N]===void 0&&++$;else if(!y(c,N)||!f(v[N],c[N],h,_))return!1;if(!h.part&&I.length-$!==u(c).length)return!1;if(h.symbols!==!1){const N=p(v),b=new Set(p(c));for(const C of N){if(!h.skip||!h.skip.includes(C)){if(y(v,C)){if(!y(c,C)||!f(v[C],c[C],h,_))return!1}else if(y(c,C))return!1}b.delete(C)}for(const C of b)if(y(c,C))return!1}return!0},d.SeenEntry=class{constructor(g,v){this.obj=g,this.ref=v}isSame(g,v){return this.obj===g&&this.ref===v}}},7916:(a,i,l)=>{const o=l(8761);a.exports=class extends Error{constructor(d){super(d.filter(g=>g!=="").map(g=>typeof g=="string"?g:g instanceof Error?g.message:o(g)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,i.assert)}}},5277:a=>{const i={};a.exports=function(l){if(!l)return"";let o="";for(let d=0;d<l.length;++d){const g=l.charCodeAt(d);i.isSafe(g)?o+=l[d]:o+=i.escapeHtmlChar(g)}return o},i.escapeHtmlChar=function(l){return i.namedHtml.get(l)||(l>=256?"&#"+l+";":`&#x${l.toString(16).padStart(2,"0")};`)},i.isSafe=function(l){return i.safeCharCodes.has(l)},i.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),i.safeCharCodes=function(){const l=new Set;for(let o=32;o<123;++o)(o>=97||o>=65&&o<=90||o>=48&&o<=57||o===32||o===46||o===44||o===45||o===58||o===95)&&l.add(o);return l}()},6064:a=>{a.exports=function(i){return i.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:a=>{a.exports=function(){}},1687:(a,i,l)=>{const o=l(375),d=l(8571),g=l(7043),v={};a.exports=v.merge=function(c,h,_){if(o(c&&typeof c=="object","Invalid target value: must be an object"),o(h==null||typeof h=="object","Invalid source value: must be null, undefined, or an object"),!h)return c;if(_=Object.assign({nullOverride:!0,mergeArrays:!0},_),Array.isArray(h)){o(Array.isArray(c),"Cannot merge array onto an object"),_.mergeArrays||(c.length=0);for(let m=0;m<h.length;++m)c.push(d(h[m],{symbols:_.symbols}));return c}const f=g.keys(h,_);for(let m=0;m<f.length;++m){const y=f[m];if(y==="__proto__"||!Object.prototype.propertyIsEnumerable.call(h,y))continue;const u=h[y];if(u&&typeof u=="object"){if(c[y]===u)continue;!c[y]||typeof c[y]!="object"||Array.isArray(c[y])!==Array.isArray(u)||u instanceof Date||u instanceof RegExp?c[y]=d(u,{symbols:_.symbols}):v.merge(c[y],u,_)}else(u!=null||_.nullOverride)&&(c[y]=u)}return c}},9621:(a,i,l)=>{const o=l(375),d={};a.exports=function(g,v,c){if(v===!1||v==null)return g;typeof(c=c||{})=="string"&&(c={separator:c});const h=Array.isArray(v);o(!h||!c.separator,"Separator option is not valid for array-based chain");const _=h?v:v.split(c.separator||".");let f=g;for(let m=0;m<_.length;++m){let y=_[m];const u=c.iterables&&d.iterables(f);if(Array.isArray(f)||u==="set"){const p=Number(y);Number.isInteger(p)&&(y=p<0?f.length+p:p)}if(!f||typeof f=="function"&&c.functions===!1||!u&&f[y]===void 0){o(!c.strict||m+1===_.length,"Missing segment",y,"in reach path ",v),o(typeof f=="object"||c.functions===!0||typeof f!="function","Invalid segment",y,"in reach path ",v),f=c.default;break}f=u?u==="set"?[...f][y]:f.get(y):f[y]}return f},d.iterables=function(g){return g instanceof Set?"set":g instanceof Map?"map":void 0}},8761:a=>{a.exports=function(...i){try{return JSON.stringify(...i)}catch(l){return"[Cannot display object: "+l.message+"]"}}},4277:(a,i)=>{const l={};i=a.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},l.typeMap=new Map([["[object Error]",i.error],["[object Map]",i.map],["[object Promise]",i.promise],["[object Set]",i.set],["[object WeakMap]",i.weakMap],["[object WeakSet]",i.weakSet]]),i.getInternalProto=function(o){if(Array.isArray(o))return i.array;if(o instanceof Date)return i.date;if(o instanceof RegExp)return i.regex;if(o instanceof Error)return i.error;const d=Object.prototype.toString.call(o);return l.typeMap.get(d)||i.generic}},7043:(a,i)=>{i.keys=function(l,o={}){return o.symbols!==!1?Reflect.ownKeys(l):Object.getOwnPropertyNames(l)}},3652:(a,i,l)=>{const o=l(375),d={};i.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(g,v){const c=[].concat((v=v||{}).before||[]),h=[].concat(v.after||[]),_=v.group||"?",f=v.sort||0;o(!c.includes(_),`Item cannot come before itself: ${_}`),o(!c.includes("?"),"Item cannot come before unassociated items"),o(!h.includes(_),`Item cannot come after itself: ${_}`),o(!h.includes("?"),"Item cannot come after unassociated items"),Array.isArray(g)||(g=[g]);for(const m of g){const y={seq:this._items.length,sort:f,before:c,after:h,group:_,node:m};this._items.push(y)}if(!v.manual){const m=this._sort();o(m,"item",_!=="?"?`added into group ${_}`:"","created a dependencies error")}return this.nodes}merge(g){Array.isArray(g)||(g=[g]);for(const c of g)if(c)for(const h of c._items)this._items.push(Object.assign({},h));this._items.sort(d.mergeSort);for(let c=0;c<this._items.length;++c)this._items[c].seq=c;const v=this._sort();return o(v,"merge created a dependencies error"),this.nodes}sort(){const g=this._sort();return o(g,"sort created a dependencies error"),this.nodes}_sort(){const g={},v=Object.create(null),c=Object.create(null);for(const y of this._items){const u=y.seq,p=y.group;c[p]=c[p]||[],c[p].push(u),g[u]=y.before;for(const x of y.after)v[x]=v[x]||[],v[x].push(u)}for(const y in g){const u=[];for(const p in g[y]){const x=g[y][p];c[x]=c[x]||[],u.push(...c[x])}g[y]=u}for(const y in v)if(c[y])for(const u of c[y])g[u].push(...v[y]);const h={};for(const y in g){const u=g[y];for(const p of u)h[p]=h[p]||[],h[p].push(y)}const _={},f=[];for(let y=0;y<this._items.length;++y){let u=y;if(h[y]){u=null;for(let p=0;p<this._items.length;++p){if(_[p]===!0)continue;h[p]||(h[p]=[]);const x=h[p].length;let w=0;for(let I=0;I<x;++I)_[h[p][I]]&&++w;if(w===x){u=p;break}}}u!==null&&(_[u]=!0,f.push(u))}if(f.length!==this._items.length)return!1;const m={};for(const y of this._items)m[y.seq]=y;this._items=[],this.nodes=[];for(const y of f){const u=m[y];this.nodes.push(u.node),this._items.push(u)}return!0}},d.mergeSort=(g,v)=>g.sort===v.sort?0:g.sort<v.sort?-1:1},5380:(a,i,l)=>{const o=l(443),d=l(2178),g={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:o.URL||URL};i.analyze=function(v,c={}){if(!v)return d.code("DOMAIN_NON_EMPTY_STRING");if(typeof v!="string")throw new Error("Invalid input: domain must be a string");if(v.length>256)return d.code("DOMAIN_TOO_LONG");if(g.nonAsciiRx.test(v)){if(c.allowUnicode===!1)return d.code("DOMAIN_INVALID_UNICODE_CHARS");v=v.normalize("NFC")}if(g.domainControlRx.test(v))return d.code("DOMAIN_INVALID_CHARS");v=g.punycode(v),c.allowFullyQualified&&v[v.length-1]==="."&&(v=v.slice(0,-1));const h=c.minDomainSegments||g.minDomainSegments,_=v.split(".");if(_.length<h)return d.code("DOMAIN_SEGMENTS_COUNT");if(c.maxDomainSegments&&_.length>c.maxDomainSegments)return d.code("DOMAIN_SEGMENTS_COUNT_MAX");const f=c.tlds;if(f){const m=_[_.length-1].toLowerCase();if(f.deny&&f.deny.has(m)||f.allow&&!f.allow.has(m))return d.code("DOMAIN_FORBIDDEN_TLDS")}for(let m=0;m<_.length;++m){const y=_[m];if(!y.length)return d.code("DOMAIN_EMPTY_SEGMENT");if(y.length>63)return d.code("DOMAIN_LONG_SEGMENT");if(m<_.length-1){if(!g.domainSegmentRx.test(y))return d.code("DOMAIN_INVALID_CHARS")}else if(!g.tldSegmentRx.test(y))return d.code("DOMAIN_INVALID_TLDS_CHARS")}return null},i.isValid=function(v,c){return!i.analyze(v,c)},g.punycode=function(v){v.includes("%")&&(v=v.replace(/%/g,"%25"));try{return new g.URL(`http://${v}`).host}catch{return v}}},1745:(a,i,l)=>{const o=l(9848),d=l(5380),g=l(2178),v={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(o.TextEncoder||TextEncoder)};i.analyze=function(c,h){return v.email(c,h)},i.isValid=function(c,h){return!v.email(c,h)},v.email=function(c,h={}){if(typeof c!="string")throw new Error("Invalid input: email must be a string");if(!c)return g.code("EMPTY_STRING");const _=!v.nonAsciiRx.test(c);if(!_){if(h.allowUnicode===!1)return g.code("FORBIDDEN_UNICODE");c=c.normalize("NFC")}const f=c.split("@");if(f.length!==2)return f.length>2?g.code("MULTIPLE_AT_CHAR"):g.code("MISSING_AT_CHAR");const[m,y]=f;if(!m)return g.code("EMPTY_LOCAL");if(!h.ignoreLength){if(c.length>254)return g.code("ADDRESS_TOO_LONG");if(v.encoder.encode(m).length>64)return g.code("LOCAL_TOO_LONG")}return v.local(m,_)||d.analyze(y,h)},v.local=function(c,h){const _=c.split(".");for(const f of _){if(!f.length)return g.code("EMPTY_LOCAL_SEGMENT");if(h){if(!v.atextRx.test(f))return g.code("INVALID_LOCAL_CHARS")}else for(const m of f){if(v.atextRx.test(m))continue;const y=v.binary(m);if(!v.atomRx.test(y))return g.code("INVALID_LOCAL_CHARS")}}},v.binary=function(c){return Array.from(v.encoder.encode(c)).map(h=>String.fromCharCode(h)).join("")},v.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,v.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(a,i)=>{i.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},i.code=function(l){return{code:l,error:i.codes[l]}}},9959:(a,i,l)=>{const o=l(375),d=l(5752);i.regex=function(g={}){o(g.cidr===void 0||typeof g.cidr=="string","options.cidr must be a string");const v=g.cidr?g.cidr.toLowerCase():"optional";o(["required","optional","forbidden"].includes(v),"options.cidr must be one of required, optional, forbidden"),o(g.version===void 0||typeof g.version=="string"||Array.isArray(g.version),"options.version must be a string or an array of string");let c=g.version||["ipv4","ipv6","ipvfuture"];Array.isArray(c)||(c=[c]),o(c.length>=1,"options.version must have at least 1 version specified");for(let f=0;f<c.length;++f)o(typeof c[f]=="string","options.version must only contain strings"),c[f]=c[f].toLowerCase(),o(["ipv4","ipv6","ipvfuture"].includes(c[f]),"options.version contains unknown version "+c[f]+" - must be one of ipv4, ipv6, ipvfuture");c=Array.from(new Set(c));const h=`(?:${c.map(f=>{if(v==="forbidden")return d.ip[f];const m=`\\/${f==="ipv4"?d.ip.v4Cidr:d.ip.v6Cidr}`;return v==="required"?`${d.ip[f]}${m}`:`${d.ip[f]}(?:${m})?`}).join("|")})`,_=new RegExp(`^${h}$`);return{cidr:v,versions:c,regex:_,raw:h}}},5752:(a,i,l)=>{const o=l(375),d=l(6064),g={generate:function(){const v={},c="\\dA-Fa-f",h="["+c+"]",_="\\w-\\.~",f="!\\$&'\\(\\)\\*\\+,;=",m="%"+c,y=_+m+f+":@",u="["+y+"]",p="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";v.ipv4address="(?:"+p+"\\.){3}"+p;const x=h+"{1,4}",w="(?:"+x+":"+x+"|"+v.ipv4address+")",I="(?:"+x+":){6}"+w,$="::(?:"+x+":){5}"+w,N="(?:"+x+")?::(?:"+x+":){4}"+w,b="(?:(?:"+x+":){0,1}"+x+")?::(?:"+x+":){3}"+w,C="(?:(?:"+x+":){0,2}"+x+")?::(?:"+x+":){2}"+w,S="(?:(?:"+x+":){0,3}"+x+")?::"+x+":"+w,k="(?:(?:"+x+":){0,4}"+x+")?::"+w,B="(?:(?:"+x+":){0,5}"+x+")?::"+x,R="(?:(?:"+x+":){0,6}"+x+")?::";v.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",v.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",v.ipv6address="(?:"+I+"|"+$+"|"+N+"|"+b+"|"+C+"|"+S+"|"+k+"|"+B+"|"+R+")",v.ipvFuture="v"+h+"+\\.["+_+f+":]+",v.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",v.schemeRegex=new RegExp(v.scheme);const L="["+_+m+f+":]*",A="["+_+m+f+"]{1,255}",q="(?:\\[(?:"+v.ipv6address+"|"+v.ipvFuture+")\\]|"+v.ipv4address+"|"+A+")",G="(?:"+L+"@)?"+q+"(?::\\d*)?",D="(?:"+L+"@)?("+q+")(?::\\d*)?",V=u+"*",z=u+"+",M="(?:\\/"+V+")*",H="\\/(?:"+z+M+")?",me=z+M,K="["+_+m+f+"@]+"+M,ue="(?:\\/\\/\\/"+V+M+")";return v.hierPart="(?:(?:\\/\\/"+G+M+")|"+H+"|"+me+"|"+ue+")",v.hierPartCapture="(?:(?:\\/\\/"+D+M+")|"+H+"|"+me+")",v.relativeRef="(?:(?:\\/\\/"+G+M+")|"+H+"|"+K+"|)",v.relativeRefCapture="(?:(?:\\/\\/"+D+M+")|"+H+"|"+K+"|)",v.query="["+y+"\\/\\?]*(?=#|$)",v.queryWithSquareBrackets="["+y+"\\[\\]\\/\\?]*(?=#|$)",v.fragment="["+y+"\\/\\?]*",v}};g.rfc3986=g.generate(),i.ip={v4Cidr:g.rfc3986.ipv4Cidr,v6Cidr:g.rfc3986.ipv6Cidr,ipv4:g.rfc3986.ipv4address,ipv6:g.rfc3986.ipv6address,ipvfuture:g.rfc3986.ipvFuture},g.createRegex=function(v){const c=g.rfc3986,h="(?:\\?"+(v.allowQuerySquareBrackets?c.queryWithSquareBrackets:c.query)+")?(?:#"+c.fragment+")?",_=v.domain?c.relativeRefCapture:c.relativeRef;if(v.relativeOnly)return g.wrap(_+h);let f="";if(v.scheme){o(v.scheme instanceof RegExp||typeof v.scheme=="string"||Array.isArray(v.scheme),"scheme must be a RegExp, String, or Array");const u=[].concat(v.scheme);o(u.length>=1,"scheme must have at least 1 scheme specified");const p=[];for(let x=0;x<u.length;++x){const w=u[x];o(w instanceof RegExp||typeof w=="string","scheme at position "+x+" must be a RegExp or String"),w instanceof RegExp?p.push(w.source.toString()):(o(c.schemeRegex.test(w),"scheme at position "+x+" must be a valid scheme"),p.push(d(w)))}f=p.join("|")}const m="(?:"+(f?"(?:"+f+")":c.scheme)+":"+(v.domain?c.hierPartCapture:c.hierPart)+")",y=v.allowRelative?"(?:"+m+"|"+_+")":m;return g.wrap(y+h,f)},g.wrap=function(v,c){return{raw:v=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${v}`,regex:new RegExp(`^${v}$`),scheme:c}},g.uriRegex=g.createRegex({}),i.regex=function(v={}){return v.scheme||v.allowRelative||v.relativeOnly||v.allowQuerySquareBrackets||v.domain?g.createRegex(v):g.uriRegex}},1447:(a,i)=>{const l={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};i.Parser=class{constructor(o,d={}){if(!d[l.settings]&&d.constants)for(const g in d.constants){const v=d.constants[g];if(v!==null&&!["boolean","number","string"].includes(typeof v))throw new Error(`Formula constant ${g} contains invalid ${typeof v} value type`)}this.settings=d[l.settings]?d:Object.assign({[l.settings]:!0,constants:{},functions:{}},d),this.single=null,this._parts=null,this._parse(o)}_parse(o){let d=[],g="",v=0,c=!1;const h=f=>{if(v)throw new Error("Formula missing closing parenthesis");const m=d.length?d[d.length-1]:null;if(c||g||f){if(m&&m.type==="reference"&&f===")")return m.type="function",m.value=this._subFormula(g,m.value),void(g="");if(f===")"){const y=new i.Parser(g,this.settings);d.push({type:"segment",value:y})}else if(c){if(c==="]")return d.push({type:"reference",value:g}),void(g="");d.push({type:"literal",value:g})}else if(l.operatorCharacters.includes(g))m&&m.type==="operator"&&l.operators.includes(m.value+g)?m.value+=g:d.push({type:"operator",value:g});else if(g.match(l.numberRx))d.push({type:"constant",value:parseFloat(g)});else if(this.settings.constants[g]!==void 0)d.push({type:"constant",value:this.settings.constants[g]});else{if(!g.match(l.tokenRx))throw new Error(`Formula contains invalid token: ${g}`);d.push({type:"reference",value:g})}g=""}};for(const f of o)c?f===c?(h(),c=!1):g+=f:v?f==="("?(g+=f,++v):f===")"?(--v,v?g+=f:h(f)):g+=f:f in l.literals?c=l.literals[f]:f==="("?(h(),++v):l.operatorCharacters.includes(f)?(h(),g=f,h()):f!==" "?g+=f:h();h(),d=d.map((f,m)=>f.type!=="operator"||f.value!=="-"||m&&d[m-1].type!=="operator"?f:{type:"operator",value:"n"});let _=!1;for(const f of d){if(f.type==="operator"){if(l.operatorsPrefix.includes(f.value))continue;if(!_)throw new Error("Formula contains an operator in invalid position");if(!l.operators.includes(f.value))throw new Error(`Formula contains an unknown operator ${f.value}`)}else if(_)throw new Error("Formula missing expected operator");_=!_}if(!_)throw new Error("Formula contains invalid trailing operator");d.length===1&&["reference","literal","constant"].includes(d[0].type)&&(this.single={type:d[0].type==="reference"?"reference":"value",value:d[0].value}),this._parts=d.map(f=>{if(f.type==="operator")return l.operatorsPrefix.includes(f.value)?f:f.value;if(f.type!=="reference")return f.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(f.value))throw new Error(`Formula contains invalid reference ${f.value}`);return this.settings.reference?this.settings.reference(f.value):l.reference(f.value)})}_subFormula(o,d){const g=this.settings.functions[d];if(typeof g!="function")throw new Error(`Formula contains unknown function ${d}`);let v=[];if(o){let c="",h=0,_=!1;const f=()=>{if(!c)throw new Error(`Formula contains function ${d} with invalid arguments ${o}`);v.push(c),c=""};for(let m=0;m<o.length;++m){const y=o[m];_?(c+=y,y===_&&(_=!1)):y in l.literals&&!h?(c+=y,_=l.literals[y]):y!==","||h?(c+=y,y==="("?++h:y===")"&&--h):f()}f()}return v=v.map(c=>new i.Parser(c,this.settings)),function(c){const h=[];for(const _ of v)h.push(_.evaluate(c));return g.call(c,...h)}}evaluate(o){const d=this._parts.slice();for(let g=d.length-2;g>=0;--g){const v=d[g];if(v&&v.type==="operator"){const c=d[g+1];d.splice(g+1,1);const h=l.evaluate(c,o);d[g]=l.single(v.value,h)}}return l.operatorsOrder.forEach(g=>{for(let v=1;v<d.length-1;)if(g.includes(d[v])){const c=d[v],h=l.evaluate(d[v-1],o),_=l.evaluate(d[v+1],o);d.splice(v,2);const f=l.calculate(c,h,_);d[v-1]=f===0?0:f}else v+=2}),l.evaluate(d[0],o)}},i.Parser.prototype[l.symbol]=!0,l.reference=function(o){return function(d){return d&&d[o]!==void 0?d[o]:null}},l.evaluate=function(o,d){return o===null?null:typeof o=="function"?o(d):o[l.symbol]?o.evaluate(d):o},l.single=function(o,d){if(o==="!")return!d;const g=-d;return g===0?0:g},l.calculate=function(o,d,g){if(o==="??")return l.exists(d)?d:g;if(typeof d=="string"||typeof g=="string"){if(o==="+")return(d=l.exists(d)?d:"")+(l.exists(g)?g:"")}else switch(o){case"^":return Math.pow(d,g);case"*":return d*g;case"/":return d/g;case"%":return d%g;case"+":return d+g;case"-":return d-g}switch(o){case"<":return d<g;case"<=":return d<=g;case">":return d>g;case">=":return d>=g;case"==":return d===g;case"!=":return d!==g;case"&&":return d&&g;case"||":return d||g}return null},l.exists=function(o){return o!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:a=>{a.exports=JSON.parse('{"version":"17.13.3"}')}},r={},function a(i){var l=r[i];if(l!==void 0)return l.exports;var o=r[i]={exports:{}};return s[i](o,o.exports,a),o.exports}(5107);var s,r})})(Vp);var Qb=Vp.exports;const te=zc(Qb),zs=(e,t=0)=>t===1?e:`${e}s`,vo=(e=0)=>+(e>0),Kb=(e,t,s)=>e<t?t:e>s?s:e,Jb={min:8,max:26,lowerCase:1,upperCase:1,numeric:1,symbol:1,requirementCount:4};var Xb=({min:e=0,max:t=0,lowerCase:s=0,upperCase:r=0,numeric:a=0,symbol:i=0,requirementCount:l=0}=Jb,o="{{#label}}")=>{const d={type:"passwordComplexity",base:te.string(),messages:{"passwordComplexity.tooShort":`${o} should be at least ${e} ${zs("character",e)} long`,"passwordComplexity.tooLong":`${o} should not be longer than ${t} ${zs("character",t)}`,"passwordComplexity.lowercase":`${o} should contain at least ${s} lower-cased ${zs("letter",s)}`,"passwordComplexity.uppercase":`${o} should contain at least ${r} upper-cased ${zs("letter",r)}`,"passwordComplexity.numeric":`${o} should contain at least ${a} ${zs("number",a)}`,"passwordComplexity.symbol":`${o} should contain at least ${i} ${zs("symbol",i)}`,"passwordComplexity.requirementCount":`${o} must meet at least ${l} of the complexity requirements`},validate:(g,v)=>{var h,_,f,m;const c=[];if(typeof g=="string"){const y=((h=g.match(/[a-z]/g))==null?void 0:h.length)??0,u=((_=g.match(/[A-Z]/g))==null?void 0:_.length)??0,p=((f=g.match(/[0-9]/g))==null?void 0:f.length)??0,x=((m=g.match(/[^a-zA-Z0-9]/g))==null?void 0:m.length)??0,w=e&&g.length>=e,I=t&&g.length<=t,$=y>=s,N=u>=r,b=p>=a,C=x>=i,S=vo(s)+vo(r)+vo(a)+vo(i),k=Kb(l||S,1,S),B=[];w||c.push(v.error("passwordComplexity.tooShort",{value:g})),I||c.push(v.error("passwordComplexity.tooLong",{value:g})),$||B.push(v.error("passwordComplexity.lowercase",{value:g})),N||B.push(v.error("passwordComplexity.uppercase",{value:g})),b||B.push(v.error("passwordComplexity.numeric",{value:g})),C||B.push(v.error("passwordComplexity.symbol",{value:g})),S-B.length<k&&(c.push(...B),k<S&&c.push(v.error("passwordComplexity.requirementCount",{value:g})))}return{value:g,errors:c.length?c:null}}};return te.extend(d).passwordComplexity()};const Oa=()=>{const[e,t]=j.useState({email:"",subject:"Email Confirmation Code",code:""}),[s,r]=j.useState(""),[a,i]=j.useState(""),[l,o]=j.useState(null),[d,g]=j.useState(!1),[v,c]=j.useState(0),[h,_]=j.useState(!1),f=w=>{t({...e,[w.target.name]:w.target.value})},m=w=>{const I=w.target.value;i(I),I===""?o(null):I.length===s.length&&I===s?o(!0):o(!1)},y=w=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w),u=async()=>{if(!y(e.email)){e.email===""?E.warn("Email is Required"):E.warn("Invalid email format");return}if(d){E.warn("You must wait before sending another code.");return}_(!0);try{const w=await U.post("/api/post_send_emailConfirmation",{email:e.email});w.status===200?(E.success("Confirmation email sent successfully"),r(w.data.confirmationCode),p()):E.error("Unexpected response status: "+w.status)}catch(w){E.error(`Email Sending failed. Please try again. ${w.response.data.message}`)}finally{_(!1)}},p=()=>{const I=Date.now()+18e4;g(!0),c(180);const $=setInterval(()=>{const N=Math.max(0,Math.floor((I-Date.now())/1e3));c(N),N<=0&&(clearInterval($),g(!1))},1e3)};return{dataEmail:e,handleChangeEmail:f,handleSubmitEmail:u,enteredCode:a,handleChangeCode:m,isCodeValid:l,resetCode:()=>{r(""),i(""),o(null),t({email:""})},isCooldownActive:d,cooldownTime:v,isLoading:h,confirmationCode:s}},Zb="_loginPageContainer_161b1_3",ej="_header_161b1_13",tj="_navBar_161b1_27",nj="_navUl_161b1_45",sj="_navLi_161b1_59",rj="_slideTop_161b1_1",aj="_login_161b1_3",oj="_navButton_161b1_121",ij="_navLogo_161b1_151",lj="_slideRight_161b1_1",cj="_homeSection_161b1_173",dj="_homeContainer_161b1_191",uj="_homeH1_161b1_209",mj="_successSpan_161b1_233",fj="_spanH1_161b1_243",hj="_pageDivider_161b1_251",pj="_loginContainer_161b1_285",gj="_sendContainer_161b1_309",_j="_sendCode_161b1_321",vj="_inputBox_161b1_387",yj="_userPass_161b1_407",xj="_inputLabelPass_161b1_431",bj="_inputLabelUser_161b1_455",jj="_userInput_161b1_485",wj="_rememberForgot_161b1_617",Cj="_termsConditions_161b1_651",Sj="_registerButton_161b1_667",Nj="_loginButton_161b1_717",Ij="_register_161b1_667",$j="_registerBtn_161b1_737",kj="_eyeIcon_161b1_755",Ej="_success_161b1_233",Bj="_error_161b1_765",Rj="_loader_161b1_775",Lj="_formLogo_161b1_1039",Fj="_forgotPass_161b1_1141",Pj="_slideLeft_161b1_1",Aj="_slideBottom_161b1_1",xe={loginPageContainer:Zb,header:ej,navBar:tj,navUl:nj,navLi:sj,slideTop:rj,login:aj,navButton:oj,navLogo:ij,slideRight:lj,homeSection:cj,homeContainer:dj,homeH1:uj,successSpan:mj,spanH1:fj,pageDivider:hj,loginContainer:pj,sendContainer:gj,sendCode:_j,inputBox:vj,userPass:yj,inputLabelPass:xj,inputLabelUser:bj,userInput:jj,rememberForgot:wj,termsConditions:Cj,registerButton:Sj,loginButton:Nj,register:Ij,registerBtn:$j,eyeIcon:kj,success:Ej,error:Bj,loader:Rj,"l20-1":"_l20-1_161b1_1","l20-2":"_l20-2_161b1_1",formLogo:Lj,forgotPass:Fj,slideLeft:Pj,slideBottom:Aj};function Dj(){const e=mt(),[t,s]=j.useState(""),[r,a]=j.useState({last_name:"",first_name:"",middle_initial:"",schoolID:"",email:"",password:"",confirmPassword:""}),[i,l]=j.useState(!1),[o,d]=j.useState(!1),g=S=>{S.target.disabled&&E.error("Please enter the correct code first!")},v=()=>{l(!i)},c=S=>{a({...r,[S.target.name]:S.target.value})},h=S=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(S),_=S=>new Promise(k=>setTimeout(k,S)),f=async S=>{if(S.preventDefault(),s(""),!h(r.email)){E.error("Invalid email format");return}const k=te.object({last_name:te.string().required().label("Last Name"),first_name:te.string().required().label("First Name"),middle_initial:te.string().required().label("Middle Initial"),schoolID:te.string().required().label("School ID"),email:te.string().email({tlds:{allow:!1}}).required().label("Email Address"),password:Xb().required().label("Password"),confirmPassword:te.string().valid(te.ref("password")).required().label("Confirm Password").messages({"any.only":"Passwords do not match"})}),{error:B}=k.validate(r,{abortEarly:!1});if(B){const R=B.details.map(L=>L.message).join(", ");E.error(`Validation Error: ${R}`);return}try{d(!0),await _(500),(await U.post("/api/confirm-register",{last_name:r.last_name,first_name:r.first_name,middle_initial:r.middle_initial,schoolID:r.schoolID,email:r.email,password:r.password})).status===201&&(E.success("Successful Registration"),e("/login"))}catch(R){R.response?R.response.status===400?E.error(R.response.data.message||"Invalid input. Please check your data."):R.response.status===500?E.error("Server error. Please try again later."):E.error("An unexpected error occurred. Please try again."):E.error("Network error. Please check your connection.")}finally{d(!1)}},{dataEmail:m,handleChangeEmail:y,handleSubmitEmail:u,enteredCode:p,handleChangeCode:x,isCodeValid:w,resetCode:I,isCooldownActive:$,cooldownTime:N,isLoading:b}=Oa(),C=()=>{u({preventDefault:()=>{}})};return n.jsxs("div",{className:xe.loginPageContainer,children:[n.jsx("header",{className:xe.header,children:n.jsxs("nav",{className:xe.navBar,children:[n.jsx("img",{src:Na,alt:"eGrade Navigator",className:xe.navLogo}),n.jsxs("ul",{className:xe.navUl,children:[n.jsx("li",{className:xe.navLi,children:n.jsx(dt,{to:"/",className:xe.navButton,children:"Home"})}),n.jsx("li",{className:xe.navLi,children:n.jsx(dt,{to:"/#About",className:xe.navButton,children:"About"})}),n.jsx("li",{children:n.jsx(dt,{to:"/login",className:xe.login,children:"Login"})})]})]})}),n.jsxs("section",{className:xe.homeSection,id:"Home",children:[n.jsxs("div",{className:xe.homeContainer,children:[n.jsxs("h1",{className:xe.homeH1,children:["Welcome, ",n.jsx("br",{}),n.jsxs("span",{className:xe.spanH1,children:["Start ",n.jsx("span",{className:xe.successSpan,children:"Navigating"}),n.jsx("br",{})," Your Journey ",n.jsx("br",{})," with us!"]})]}),n.jsx("div",{className:xe.loginContainer,children:n.jsxs("form",{onSubmit:f,children:[n.jsx("h1",{children:"Register"}),n.jsxs("div",{className:xe.sendContainer,children:[n.jsxs("div",{className:xe.inputBox,children:[n.jsx("input",{type:"email",id:"email",name:"email",value:r.email||m.email,onChange:S=>{c(S),y(S)},placeholder:" ",required:!0,className:xe.userPass}),n.jsx("label",{htmlFor:"email",className:xe.inputLabelUser,children:"Email Address:"})]}),n.jsx("button",{type:"button",className:xe.sendCode,onClick:C,disabled:$||b,children:b?n.jsx("div",{className:xe.loader}):$?`${Math.floor(N/60)}:${(N%60).toString().padStart(2,"0")}`:"Send Code"})]}),n.jsxs("div",{className:xe.inputBox,children:[n.jsx("input",{id:"confirmCode",name:"confirmCode",type:"number",className:xe.userInput,value:p,onChange:x,placeholder:" ",required:!0}),n.jsxs("label",{htmlFor:"confirmCode",className:xe.inputLabelUser,children:["Please Enter Code:",w===!0&&n.jsx("p",{className:xe.success,style:{color:"green"},children:"Code is correct"}),w===!1&&n.jsx("p",{className:xe.error,style:{color:"red"},children:"Code is incorrect"})]})]}),n.jsxs("div",{className:xe.inputBox,children:[n.jsx("input",{type:"text",id:"last_name",name:"last_name",value:r.last_name,onChange:c,placeholder:" ",required:!0,onClick:g,className:xe.userInput}),n.jsx("label",{htmlFor:"last_name",className:xe.inputLabelUser,children:"Last Name:"})]}),n.jsxs("div",{className:xe.inputBox,children:[n.jsx("input",{type:"text",id:"first_name",name:"first_name",value:r.first_name,onChange:c,placeholder:" ",required:!0,onClick:g,className:xe.userPass}),n.jsx("label",{htmlFor:"first_name",className:xe.inputLabelUser,children:"First Name:"})]}),n.jsxs("div",{className:xe.inputBox,children:[n.jsx("input",{type:"text",id:"middle_initial",name:"middle_initial",value:r.middle_initial,onChange:c,placeholder:" ",required:!0,onClick:g,className:xe.userPass}),n.jsx("label",{htmlFor:"middle_initial",className:xe.inputLabelUser,children:"Middle Initial:"})]}),n.jsxs("div",{className:xe.inputBox,children:[n.jsx("input",{type:"text",id:"schoolID",name:"schoolID",value:r.schoolID,onChange:c,placeholder:" ",required:!0,onClick:g,className:xe.userInput}),n.jsx("label",{htmlFor:"schoolID",className:xe.inputLabelUser,children:"School ID:"})]}),n.jsxs("div",{className:xe.inputBox,children:[n.jsx("input",{type:i?"text":"password",id:"password",name:"password",value:r.password,onChange:c,placeholder:" ",required:!0,onClick:g,className:xe.userPass}),n.jsx("img",{className:xe.eyeIcon,src:i?$a:Ia,alt:"",onClick:v}),n.jsx("label",{htmlFor:"password",className:xe.inputLabelUser,children:"Password:"})]}),n.jsxs("div",{className:xe.inputBox,children:[n.jsx("input",{type:i?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:c,placeholder:" ",required:!0,onClick:g,className:xe.userPass}),n.jsx("img",{className:xe.eyeIcon,src:i?$a:Ia,alt:"",onClick:v}),n.jsx("label",{htmlFor:"confirmPassword",className:xe.inputLabelUser,children:"Confirm Password:"})]}),n.jsx("div",{className:xe.rememberForgot,children:n.jsxs("label",{children:[n.jsx("input",{type:"checkbox",required:!0}),"I agree to the",n.jsx(dt,{to:"",className:xe.termsConditions,children:"Terms and Conditions"}),"and have read the",n.jsx(dt,{className:xe.termsConditions,children:"Privacy Policy"}),"."]})}),n.jsx("button",{type:"submit",className:xe.registerButton,disabled:!w||o,children:o?n.jsx("div",{className:xe.loader}):"Register"}),n.jsx("div",{className:xe.register,children:n.jsxs("p",{children:["Already have an account? Login",n.jsx(dt,{to:"/login",className:xe.registerBtn,children:" Here"})]})})]})})]}),n.jsx("div",{className:xe.pageDivider,children:n.jsx("img",{src:Ri,alt:"wave"})})]})]})}const Tj="_loginPageContainer_fyx4z_3",Oj="_header_fyx4z_13",Mj="_navBar_fyx4z_29",Uj="_navUl_fyx4z_47",zj="_navLi_fyx4z_61",qj="_slideTop_fyx4z_1",Vj="_navButton_fyx4z_81",Hj="_navLogo_fyx4z_107",Gj="_slideRight_fyx4z_1",Wj="_homeSection_fyx4z_169",Yj="_homeContainer_fyx4z_189",Qj="_pageDivider_fyx4z_209",Kj="_loginContainer_fyx4z_245",Jj="_sendCode_fyx4z_271",Xj="_sendContainer_fyx4z_337",Zj="_inputBox_fyx4z_351",ew="_inputLabelUser_fyx4z_369",tw="_inputLabelPass_fyx4z_371",nw="_labelConfirmCode_fyx4z_1",sw="_userInput_fyx4z_407",rw="_userPass_fyx4z_409",aw="_rememberForgot_fyx4z_501",ow="_forgotPass_fyx4z_535",iw="_loginButton_fyx4z_553",lw="_register_fyx4z_581",cw="_registerBtn_fyx4z_593",dw="_eyeIcon_fyx4z_611",uw="_cancelBtn_fyx4z_623",mw="_saveBtn_fyx4z_641",fw="_confirmDeleteBtn_fyx4z_643",hw="_uploadBtn_fyx4z_645",pw="_btnRow_fyx4z_719",gw="_loader_fyx4z_829",_w="_login_fyx4z_3",vw="_homeh1_fyx4z_941",yw="_homeImage_fyx4z_949",xw="_formLogo_fyx4z_1011",bw="_inputLabelCode_fyx4z_1041",jw="_emailVerification_fyx4z_1",ww="_success_fyx4z_1077",Cw="_error_fyx4z_1077",Sw="_slideLeft_fyx4z_1",Nw="_slideBottom_fyx4z_1",Ee={loginPageContainer:Tj,header:Oj,navBar:Mj,navUl:Uj,navLi:zj,slideTop:qj,navButton:Vj,navLogo:Hj,slideRight:Gj,homeSection:Wj,homeContainer:Yj,pageDivider:Qj,loginContainer:Kj,sendCode:Jj,sendContainer:Xj,inputBox:Zj,inputLabelUser:ew,inputLabelPass:tw,labelConfirmCode:nw,userInput:sw,userPass:rw,rememberForgot:aw,forgotPass:ow,loginButton:iw,register:lw,registerBtn:cw,eyeIcon:dw,cancelBtn:uw,saveBtn:mw,confirmDeleteBtn:fw,uploadBtn:hw,btnRow:pw,loader:gw,"l20-1":"_l20-1_fyx4z_1","l20-2":"_l20-2_fyx4z_1",login:_w,homeh1:vw,homeImage:yw,formLogo:xw,inputLabelCode:bw,emailVerification:jw,success:ww,error:Cw,slideLeft:Sw,slideBottom:Nw},Iw=()=>{const e=mt(),[t,s]=j.useState({password:"",confirmPassword:""}),[r,a]=j.useState(!1);return{data:t,handleChange:o=>{const{name:d,value:g}=o.target;s({...t,[d]:g})},handleSubmit:async o=>{if(o.preventDefault(),t.password!==t.confirmPassword){E.error("Passwords do not match!");return}a(!0);try{(await U.post("/api/change-password",{password:t.password,email:t.email})).data.success?E.success("Password changed successfully!"):E.error("Failed to change password."),e("/login")}catch{E.error("An error occurred while changing the password.")}finally{a(!1)}},isPasswordLoading:r}};function $w(){const e=mt(),[t,s]=j.useState(!1),[r,a]=j.useState(""),i=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#])[A-Za-z\d@$!%*?&#]{8,}$/,l=C=>{C.target.disabled&&E.error("Please enter the correct code first!")},o=()=>{s(!t)},d=C=>{i.test(C)?a(""):a("Password must be at least 8 characters long and include uppercase, lowercase, number, and special character.")},{dataEmail:g,handleChangeEmail:v,handleSubmitEmail:c,enteredCode:h,handleChangeCode:_,isCodeValid:f,resetCode:m,isCooldownActive:y,cooldownTime:u,isLoading:p}=Oa(),x=()=>{c({preventDefault:()=>{}})},{data:w,handleChange:I,handleSubmit:$,isPasswordLoading:N}=Iw(),b=C=>{I(C),d(C.target.value)};return n.jsxs("div",{className:Ee.loginPageContainer,children:[n.jsx("header",{className:Ee.header,children:n.jsxs("nav",{className:Ee.navBar,children:[n.jsx("img",{src:Na,alt:"eGrade Navigator",className:Ee.navLogo}),n.jsxs("ul",{className:Ee.navUl,children:[n.jsx("li",{className:Ee.navLi,children:n.jsx(dt,{to:"/",className:Ee.navButton,children:"Home"})}),n.jsx("li",{className:Ee.navLi,children:n.jsx(dt,{to:"/#About",className:Ee.navButton,children:"About"})})]})]})}),n.jsxs("section",{className:Ee.homeSection,id:"Home",children:[n.jsx("div",{className:Ee.homeContainer,children:n.jsxs("div",{className:Ee.loginContainer,children:[n.jsx("h2",{children:"Forgot Password"}),n.jsxs("form",{onSubmit:$,children:[n.jsxs("div",{className:Ee.sendContainer,children:[n.jsxs("div",{className:Ee.inputBox,children:[n.jsx("input",{type:"email",id:"email",name:"email",value:g.email||w.email,onChange:C=>{v(C),I(C)},placeholder:" ",required:!0,className:Ee.userInput}),n.jsx("label",{htmlFor:"email",className:Ee.inputLabelUser,children:"Email Address:"})]}),n.jsx("button",{type:"button",className:Ee.sendCode,onClick:x,disabled:y||p,children:p?n.jsx("div",{className:Ee.loader}):y?`${Math.floor(u/60)}:${(u%60).toString().padStart(2,"0")}`:"Send Code"})]}),n.jsxs("div",{className:Ee.inputBox,children:[n.jsx("input",{id:"confirmCode",name:"confirmCode",type:"number",className:Ee.userInput,value:h,onChange:_,placeholder:" ",required:!0}),n.jsxs("label",{htmlFor:"confirmCode",className:Ee.inputLabelUser,id:Ee.labelConfirmCode,children:["Please Enter Code:",f===!0&&n.jsx("p",{className:Ee.success,style:{color:"green"},children:"Code is correct"}),f===!1&&n.jsx("p",{className:Ee.error,style:{color:"red"},children:"Code is incorrect"})]})]}),n.jsxs("div",{className:Ee.inputBox,children:[n.jsx("input",{type:t?"text":"password",id:"password",name:"password",value:w.password,onChange:b,placeholder:" ",required:!0,onClick:l,className:Ee.userPass}),n.jsx("img",{className:Ee.eyeIcon,src:t?$a:Ia,alt:"",onClick:o}),n.jsx("label",{htmlFor:"password",className:Ee.inputLabelPass,children:"Password:"}),r&&n.jsx("p",{className:Ee.error,style:{color:"red"},children:r})]}),n.jsxs("div",{className:Ee.inputBox,children:[n.jsx("input",{type:t?"text":"password",id:"confirmPassword",name:"confirmPassword",value:w.confirmPassword,onChange:I,placeholder:" ",required:!0,onClick:l,className:Ee.userPass}),n.jsx("img",{className:Ee.eyeIcon,src:t?$a:Ia,alt:"",onClick:o}),n.jsx("label",{htmlFor:"confirmPassword",className:Ee.inputLabelPass,children:"Confirm Password:"})]}),n.jsxs("div",{className:Ee.btnRow,children:[n.jsx("button",{type:"button",className:Ee.cancelBtn,onClick:()=>e("/login"),children:"Close"}),n.jsx("button",{type:"submit",className:Ee.saveBtn,disabled:!f||N||r,children:N?n.jsx("div",{className:Ee.loader}):"Save"})]})]})]})}),n.jsx("div",{className:Ee.pageDivider,children:n.jsx("img",{src:Ri,alt:"wave"})})]})]})}const kw="_loginPageContainer_sltbq_3",Ew="_loginContainer_sltbq_17",Bw="_slideTop_sltbq_1",Rw="_inputBox_sltbq_57",Lw="_inputLabelUser_sltbq_75",Fw="_inputLabelPass_sltbq_77",Pw="_userInput_sltbq_99",Aw="_userPass_sltbq_101",Dw="_loginButton_sltbq_203",Tw="_register_sltbq_239",Ow="_registerBtn_sltbq_251",Mw="_modalOverlay_sltbq_269",Uw="_modal_sltbq_269",zw="_confirmButton_sltbq_335",qw="_notification_sltbq_355",Vw="_slideRight_sltbq_1",Hw="_slideLeft_sltbq_1",Gw="_slideBottom_sltbq_1",Sn={loginPageContainer:kw,loginContainer:Ew,slideTop:Bw,inputBox:Rw,inputLabelUser:Lw,inputLabelPass:Fw,userInput:Pw,userPass:Aw,loginButton:Dw,register:Tw,registerBtn:Ow,modalOverlay:Mw,modal:Uw,confirmButton:zw,notification:qw,slideRight:Vw,slideLeft:Hw,slideBottom:Gw},Fm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAPtJREFUSEvt1TFKQ0EQxvFfvIKkEEEQC229go12NuIdhFTBJtgoplBSWOkdrOwEBa9gkcYuKIRU4g1EDWzAPN7L5L0Q0mSrYWf2++9+zO7WzHnU5qxvWsARTrCXNvSCWzxEG5wG0MFpgdA5LiZBIsAx7pPAJe5S3MBZivfxXASJAK/YRRM3GZEhoI0nHFQFfGPlz+86PjMiaxjgC6tVAT9pYdFJo3zYRZFAlF8M4BBX2Il6PJN/S+38+H8+z9s+1kuKj8p72IoAI18rMsZtzzvBEjDmytKivE5bvEUf2Kh4Cd6xGV204VNxje2SkC5aCJ+KkrqTy6MfbWbYL7s+KRl1wSMtAAAAAElFTkSuQmCC";function Ww({onSubmit:e}){const t=mt(),[s,r]=j.useState(""),a=i=>{i.preventDefault(),r("Password successfully changed!"),setTimeout(()=>{t("/login")},2e3)};return n.jsx("div",{className:Sn.loginContainer,children:n.jsxs("form",{onSubmit:a,children:[n.jsx("h1",{children:"Create New Password"}),s&&n.jsx("div",{className:Sn.notification,children:s}),n.jsxs("div",{className:Sn.inputBox,children:[n.jsx("input",{type:"password",id:"password",name:"password",placeholder:" ",required:!0,className:Sn.userInput}),n.jsx("img",{src:Fm,alt:"Lock Icon"}),n.jsx("label",{htmlFor:"password",className:Sn.inputLabelUser,children:"Password:"})]}),n.jsxs("div",{className:Sn.inputBox,children:[n.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:" ",required:!0,className:Sn.userPass}),n.jsx("img",{src:Fm,alt:"Lock Icon"}),n.jsx("label",{htmlFor:"confirmPassword",className:Sn.inputLabelPass,children:"Confirm Password:"})]}),n.jsx("button",{type:"submit",className:Sn.loginButton,children:"Create"})]})})}const Yw="_dashboardContainer_1sxyw_3",Qw="_sidebar_1sxyw_15",Kw="_sidebarMenuLink_1sxyw_39",Jw="_sidebarIcons_1sxyw_49",Xw="_active_1sxyw_59",Zw="_sidebarMenu_1sxyw_39",e0="_sidebarMenuItem_1sxyw_87",t0="_slideRight_1sxyw_1",n0="_navItem_1sxyw_105",s0="_disabled_1sxyw_155",r0="_disabledLink_1sxyw_167",a0="_ripple_1sxyw_215",o0="_tooltip_1sxyw_241",i0="_logo_1sxyw_321",l0="_eGradeLogo_1sxyw_321",c0="_userContainer_1sxyw_457",d0="_userImgContainer_1sxyw_477",u0="_userImg_1sxyw_477",m0="_userInfo_1sxyw_515",f0="_userName_1sxyw_561",h0="_userStatus_1sxyw_563",p0="_btn_1sxyw_1",g0="_mainContent_1sxyw_619",_0="_mainContainer_1sxyw_647",v0="_modalOverlay_1sxyw_705",y0="_modal_1sxyw_705",x0="_cancelBtn_1sxyw_787",b0="_confirmLogoutBtn_1sxyw_807",j0="_buttonRow_1sxyw_837",Pe={dashboardContainer:Yw,sidebar:Qw,sidebarMenuLink:Kw,sidebarIcons:Jw,active:Xw,sidebarMenu:Zw,sidebarMenuItem:e0,slideRight:t0,navItem:n0,disabled:s0,disabledLink:r0,ripple:a0,tooltip:o0,logo:i0,eGradeLogo:l0,userContainer:c0,userImgContainer:d0,userImg:u0,userInfo:m0,userName:f0,userStatus:h0,btn:p0,mainContent:g0,mainContainer:_0,modalOverlay:v0,modal:y0,cancelBtn:x0,confirmLogoutBtn:b0,buttonRow:j0},Ma="/assets/meterW-XE3W_Cy2.png",Gd="/assets/bookmark-Be5j_Vvi.png",Mi="/assets/boxes-CmTaBrzq.png",Ui="/assets/user_list-1PK2tMqP.png",Sr="/assets/users-C_juFQqc.png",Ua="/assets/leaderboard-BRV3Bmoe.png",w0="/assets/history-RqNlyDK1.png",za="/assets/settings-CAXLSTJd.png",qa="/assets/menu1-CFfJ8iVi.png",Va="/assets/userFinal-C55_DAd6.png",Ha="/assets/logout-BTX3oLeH.png",Hp="/assets/active-QB1CeNu9.png",C0="/assets/usersList-43274j-u.png",Gp="/assets/files-Bx8x_c2G.png",Wp=j.createContext();function Rt(){return j.useContext(Wp)}function S0({children:e}){const[t,s]=j.useState("Dashboard"),[r,a]=j.useState(""),l={currentPath:t,subPath:r,updatePath:(o,d="")=>{s(o),a(d)}};return n.jsx(Wp.Provider,{value:l,children:e})}const Cn=j.createContext(),Yp=({children:e})=>{const[t,s]=j.useState("dashboard");j.useEffect(()=>{const a=localStorage.getItem("activeButton");a&&s(a)},[]);const r=a=>{s(a),localStorage.setItem("activeButton",a)};return n.jsx(Cn.Provider,{value:{activeButton:t,updateActiveButton:r},children:e})},N0="_dashboardHeader_1vuzb_1",I0="_dashboardEntrance_1vuzb_21",$0="_wrapper_1vuzb_47",k0="_bellIcon_1vuzb_67",E0="_notifBtns_1vuzb_77",B0="_darkMode_1vuzb_131",R0="_shake_1vuzb_1",L0="_dashboardIconB_1vuzb_179",F0="_dashboardSpan_1vuzb_193",P0="_hr1_1vuzb_221",A0="_dropdown_1vuzb_241",D0="_mainContainer_1vuzb_281",Vn={dashboardHeader:N0,dashboardEntrance:I0,wrapper:$0,bellIcon:k0,notifBtns:E0,darkMode:B0,shake:R0,dashboardIconB:L0,dashboardSpan:F0,hr1:P0,dropdown:A0,mainContainer:D0},Pm="/assets/meterB-SbcS7I-b.png",T0="/assets/bookmarkB-DbDLWUeg.png",O0="/assets/boxesB-JPDIXA-t.png",M0="/assets/instructorB-Iy6nMPWj.png",Qp="/assets/usersB-BhJXenk-.png",U0="/assets/leaderboardB-7ZMe66Um.png",z0="/assets/historyB-v_FimwKP.png",q0="/assets/activeB--jAFeaMe.png",V0="/assets/settingsB-r3JVcrmA.png",H0="/assets/usersListB-Cjd3-4NW.png",G0="/assets/filesB-DIvqtsVY.png";function Ga(){const{activeButton:e}=j.useContext(Cn),{currentPath:t,subPath:s,updatePath:r}=Rt(),a=()=>{let o;switch(e){case"dashboard":o="Dashboard";break;case"classProgram":o="Class Program Information";break;case"subjects":o="Subjects List";break;case"instructors":o="Instructors' List";break;case"students":o="Students' List";break;case"documents":o="Documents";break;case"leaderboard":o="Leaderboards";break;case"history":o="Activity Log History";break;case"activeUsers":o="Active Users";break;case"usersList":o="Users' List";break;case"settings":o="Settings";break;default:o="Dashboard"}return r(o,s),`${o}${s?` / ${s}`:""}`},i=()=>{switch(e){case"dashboard":return"Dashboard";case"classProgram":return"Class Program Information";case"subjects":return"Subjects List";case"instructors":return"Instructors' List";case"students":return"Students' List";case"documents":return"Documents";case"leaderboard":return"Leaderboards";case"history":return"Activity Log History";case"activeUsers":return"Active Users";case"usersList":return"Users' List";case"settings":return"Settings";default:return"Dashboard"}},l=()=>{switch(e){case"dashboard":return Pm;case"classProgram":return T0;case"subjects":return O0;case"instructors":return M0;case"students":return Qp;case"documents":return G0;case"leaderboard":return U0;case"history":return z0;case"activeUsers":return q0;case"usersList":return H0;case"settings":return V0;default:return Pm}};return n.jsxs("div",{className:Vn.headerDashboardContainer,children:[n.jsxs("div",{className:Vn.dashboardHeader,children:[n.jsx("div",{className:Vn.dashboardEntrance,children:n.jsx("h1",{children:i()})}),n.jsx("div",{className:Vn.dashboardWelcome})]}),n.jsx("div",{className:Vn.dashboardSpan,children:n.jsxs("span",{children:[n.jsx("img",{src:l(),className:Vn.dashboardIconB}),n.jsx("span",{className:Vn.path,children:a()})]})}),n.jsx("hr",{className:Vn.hr1})]})}class Kr extends Error{}Kr.prototype.name="InvalidTokenError";function W0(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,s)=>{let r=s.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function Y0(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return W0(t)}catch{return atob(t)}}function vt(e,t){if(typeof e!="string")throw new Kr("Invalid token specified: must be a string");t||(t={});const s=t.header===!0?0:1,r=e.split(".")[s];if(typeof r!="string")throw new Kr(`Invalid token specified: missing part #${s+1}`);let a;try{a=Y0(r)}catch(i){throw new Kr(`Invalid token specified: invalid base64 for part #${s+1} (${i.message})`)}try{return JSON.parse(a)}catch(i){throw new Kr(`Invalid token specified: invalid json for part #${s+1} (${i.message})`)}}const Wd=e=>{const[t,s]=j.useState(null),[r,a]=j.useState(!0),[i,l]=j.useState(null),o=j.useCallback(async()=>{if(e)try{a(!0);const d=await U.get(`/api/get-admin-details/${e}`);s(d.data),l(null)}catch(d){l(d.message||"Failed to fetch user details")}finally{a(!1)}},[e]);return j.useEffect(()=>{o()},[o]),{userDetails:t,loading:r,error:i,refetch:o}};function Q0(){const{activeButton:e,updateActiveButton:t}=j.useContext(Cn),[s,r]=j.useState(!1),a=j.useRef([]),{updatePath:i}=Rt();j.useEffect(()=>{const $=localStorage.getItem("activeButton");$&&t($)},[t]),j.useEffect(()=>{(async()=>{const N=localStorage.getItem("token");if(N)try{const b=vt(N),C=Date.now()/1e3;b.exp<C&&(console.warn("Token expired, logging out."),l())}catch(b){console.error("Invalid token, clearing localStorage.",b),l()}else l()})()},[]);const l=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("activeButton"),window.location.href="/login"},o=()=>{r(!s)},d=$=>{const N=document.querySelector(`.${Pe.sidebar}`);N&&(N.style.zIndex=$?"9999":"initial")},[g,v]=j.useState(!1),c=()=>{v(!0)},h=async()=>{try{await U.patch(`/api/update-admin-status/${m}`,{isActive:!1}),await U.post("/api/logout-activity",{userID:y,activityDescription:"logged out"}),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("activeButton"),window.location.href="/",console.log("Logged out successfully")}catch($){console.error("Error logging activity during logout:",$)}},_=$=>{t($),i(null,null)},f=localStorage.getItem("token");let m="",y="";if(f)try{const $=vt(f);m=$.id,y=$.userId}catch($){console.error("Failed to decode token:",$)}const{userDetails:u,loading:p,error:x}=Wd(m),[w,I]=j.useState("");return j.useEffect(()=>{m&&(async()=>{try{const b=(await U.get(`/api/get-admin-details/${m}`)).data.user_profile,S=b?`http://localhost:5000${b.startsWith("/uploads")?"":"/uploads/user-profiles/"}${b}`:Va;I(S)}catch(N){console.error("Error fetching user profile image:",N)}})()},[m]),n.jsxs("div",{className:Pe.dashboardContainer,children:[n.jsxs("div",{className:`${Pe.sidebar} ${s?Pe.active:""}`,children:[n.jsxs("div",{className:Pe.logo,children:[n.jsx("img",{src:jr,alt:"eGrade Logo",className:Pe.eGradeLogo}),n.jsx("img",{src:qa,onClick:o,id:Pe.btn})]}),n.jsxs("div",{className:Pe.userContainer,children:[n.jsx("div",{className:Pe.userImgContainer,children:n.jsx("img",{src:w,alt:"user_icon",className:Pe.userImg})}),n.jsxs("div",{className:Pe.userInfo,children:[p&&n.jsx("p",{children:"Loading..."}),x&&n.jsx("p",{children:"Error fetching user details."}),u&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:Pe.userName,children:[u.first_name," ",u.last_name]}),n.jsx("p",{className:Pe.userStatus,children:u.title})]})]})]}),n.jsxs("ul",{className:Pe.sidebarMenu,children:[[{to:"dashboard",label:"Dashboard",icon:Ma,btnId:"dashboard"},{to:"classProgramInformation",label:"Class Program Information",icon:Gd,btnId:"classProgram",disabled:!(u!=null&&u.isVerified)},{to:"subjects",label:"Subjects",icon:Mi,btnId:"subjects",disabled:!(u!=null&&u.isVerified)},{to:"instructors",label:"Instructors",icon:Ui,btnId:"instructors",disabled:!(u!=null&&u.isVerified)},{to:"students",label:"Students",icon:Sr,btnId:"students",disabled:!(u!=null&&u.isVerified)},{to:"documents",label:"Documents",icon:Gp,btnId:"documents",disabled:!(u!=null&&u.isVerified)},{to:"leaderboard",label:"Leaderboard",icon:Ua,btnId:"leaderboard",disabled:!(u!=null&&u.isVerified)},{to:"activityLogHistory",label:"Activity Log History",icon:w0,btnId:"history",disabled:!(u!=null&&u.isVerified)},{to:"activeUsers",label:"Active Users",icon:Hp,btnId:"activeUsers",disabled:!(u!=null&&u.isVerified)},{to:"usersList",label:"Users' List",icon:C0,btnId:"usersList",disabled:!(u!=null&&u.isVerified)},{to:"settings",label:"Settings",icon:za,btnId:"settings"}].map(({to:$,label:N,icon:b,btnId:C,disabled:S},k)=>n.jsxs("li",{className:`${Pe.sidebarMenuItem} ${S?Pe.disabled:""}`,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),ref:B=>a.current[k]=B,onClick:()=>!S&&_(C),children:[n.jsxs(dt,{to:S?"#":$,className:`${Pe.sidebarMenuLink} ${e===C?Pe.active:""} ${S?Pe.disabledLink:""}`,onClick:()=>!S&&t(C),children:[n.jsx("img",{src:b,className:Pe.sidebarIcons,alt:`${N} Icon`}),n.jsx("span",{className:Pe.navItem,children:N})]}),n.jsx("span",{className:Pe.tooltip,children:N})]},C)),n.jsxs("li",{className:Pe.sidebarMenuItem,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),ref:$=>a.current[a.current.length]=$,children:[n.jsxs("button",{onClick:c,className:Pe.sidebarMenuLink,children:[n.jsx("img",{src:Ha,className:Pe.sidebarIcons,alt:"Logout"}),n.jsx("span",{className:Pe.navItem,children:"Logout"})]}),n.jsx("span",{className:Pe.tooltip,children:"Logout"})]})]})]}),n.jsxs("div",{className:Pe.mainContent,children:[n.jsx(Ga,{}),n.jsx(wn,{})]}),g&&n.jsx("div",{className:Pe.modalOverlay,children:n.jsxs("div",{className:Pe.modal,children:[n.jsx("h2",{children:"Confirm Logout"}),n.jsx("h4",{children:"Are you sure you want to logout?"}),n.jsxs("div",{className:Pe.buttonRow,children:[n.jsx("button",{onClick:h,className:Pe.confirmLogoutBtn,children:"Yes, Logout"}),n.jsx("button",{onClick:()=>v(!1),className:Pe.cancelBtn,children:"Cancel"})]})]})})]})}function K0(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Kp=K0,J0=typeof Ja=="object"&&Ja&&Ja.Object===Object&&Ja,X0=J0,Z0=X0,eC=typeof self=="object"&&self&&self.Object===Object&&self,tC=Z0||eC||Function("return this")(),Jp=tC,nC=Jp,sC=function(){return nC.Date.now()},rC=sC,aC=/\s/;function oC(e){for(var t=e.length;t--&&aC.test(e.charAt(t)););return t}var iC=oC,lC=iC,cC=/^\s+/;function dC(e){return e&&e.slice(0,lC(e)+1).replace(cC,"")}var uC=dC,mC=Jp,fC=mC.Symbol,Xp=fC,Am=Xp,Zp=Object.prototype,hC=Zp.hasOwnProperty,pC=Zp.toString,qr=Am?Am.toStringTag:void 0;function gC(e){var t=hC.call(e,qr),s=e[qr];try{e[qr]=void 0;var r=!0}catch{}var a=pC.call(e);return r&&(t?e[qr]=s:delete e[qr]),a}var _C=gC,vC=Object.prototype,yC=vC.toString;function xC(e){return yC.call(e)}var bC=xC,Dm=Xp,jC=_C,wC=bC,CC="[object Null]",SC="[object Undefined]",Tm=Dm?Dm.toStringTag:void 0;function NC(e){return e==null?e===void 0?SC:CC:Tm&&Tm in Object(e)?jC(e):wC(e)}var IC=NC;function $C(e){return e!=null&&typeof e=="object"}var kC=$C,EC=IC,BC=kC,RC="[object Symbol]";function LC(e){return typeof e=="symbol"||BC(e)&&EC(e)==RC}var FC=LC,PC=uC,Om=Kp,AC=FC,Mm=NaN,DC=/^[-+]0x[0-9a-f]+$/i,TC=/^0b[01]+$/i,OC=/^0o[0-7]+$/i,MC=parseInt;function UC(e){if(typeof e=="number")return e;if(AC(e))return Mm;if(Om(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Om(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=PC(e);var s=TC.test(e);return s||OC.test(e)?MC(e.slice(2),s?2:8):DC.test(e)?Mm:+e}var zC=UC,qC=Kp,Sl=rC,Um=zC,VC="Expected a function",HC=Math.max,GC=Math.min;function WC(e,t,s){var r,a,i,l,o,d,g=0,v=!1,c=!1,h=!0;if(typeof e!="function")throw new TypeError(VC);t=Um(t)||0,qC(s)&&(v=!!s.leading,c="maxWait"in s,i=c?HC(Um(s.maxWait)||0,t):i,h="trailing"in s?!!s.trailing:h);function _($){var N=r,b=a;return r=a=void 0,g=$,l=e.apply(b,N),l}function f($){return g=$,o=setTimeout(u,t),v?_($):l}function m($){var N=$-d,b=$-g,C=t-N;return c?GC(C,i-b):C}function y($){var N=$-d,b=$-g;return d===void 0||N>=t||N<0||c&&b>=i}function u(){var $=Sl();if(y($))return p($);o=setTimeout(u,m($))}function p($){return o=void 0,h&&r?_($):(r=a=void 0,l)}function x(){o!==void 0&&clearTimeout(o),g=0,r=d=a=o=void 0}function w(){return o===void 0?l:p(Sl())}function I(){var $=Sl(),N=y($);if(r=arguments,a=this,d=$,N){if(o===void 0)return f(d);if(c)return clearTimeout(o),o=setTimeout(u,t),_(d)}return o===void 0&&(o=setTimeout(u,t)),l}return I.cancel=x,I.flush=w,I}var YC=WC;const gs=zc(YC),QC="_mainContainer_d3p2b_7",KC="_dashboardContent_d3p2b_27",JC="_searchBar_d3p2b_45",XC="_searchInput_d3p2b_65",ZC="_buttonContainer_d3p2b_79",eS="_searchBtn_d3p2b_91",tS="_addBtn_d3p2b_93",nS="_addFile_d3p2b_95",sS="_csvFormat_d3p2b_97",rS="_ripple_d3p2b_145",aS="_tableContainer_d3p2b_185",oS="_classInfoTable_d3p2b_197",iS="_actionRow_d3p2b_221",lS="_view_d3p2b_253",cS="_editBtn_d3p2b_279",dS="_deleteBtn_d3p2b_281",uS="_editImg_d3p2b_295",mS="_deleteImg_d3p2b_297",fS="_modalOverlay_d3p2b_331",hS="_modal_d3p2b_331",pS="_addInput_d3p2b_415",gS="_btnRow_d3p2b_437",_S="_selectInput_d3p2b_451",vS="_editInput_d3p2b_469",yS="_editField_d3p2b_493",xS="_uploadField_d3p2b_511",bS="_cancelBtn_d3p2b_523",jS="_saveBtn_d3p2b_543",wS="_confirmDeleteBtn_d3p2b_545",CS="_uploadBtn_d3p2b_547",SS="_buttonRow_d3p2b_625",NS="_filterDropdown_d3p2b_643",IS="_loader_d3p2b_669",$S="_slideRight_d3p2b_1",J={mainContainer:QC,dashboardContent:KC,searchBar:JC,searchInput:XC,buttonContainer:ZC,searchBtn:eS,addBtn:tS,addFile:nS,csvFormat:sS,ripple:rS,tableContainer:aS,classInfoTable:oS,actionRow:iS,view:lS,editBtn:cS,deleteBtn:dS,editImg:uS,deleteImg:mS,modalOverlay:fS,modal:hS,addInput:pS,btnRow:gS,selectInput:_S,editInput:vS,editField:yS,uploadField:xS,cancelBtn:bS,saveBtn:jS,confirmDeleteBtn:wS,uploadBtn:CS,buttonRow:SS,filterDropdown:NS,loader:IS,"l20-1":"_l20-1_d3p2b_1","l20-2":"_l20-2_d3p2b_1",slideRight:$S},Vt="/assets/delete-CnL00iss.png",eg="/assets/edit-kq2xLGNM.png",On="/assets/add-LW4fusYb.png",An="/assets/csvFormatdownload-BHuwRnQq.png",Dn="/assets/upload-DhkIbRiP.png",lr=(e,t)=>{const s=e.currentTarget,r=document.createElement("span"),a=Math.max(s.clientWidth,s.clientHeight),i=a/2;r.style.width=r.style.height=`${a}px`,r.style.left=`${e.clientX-s.offsetLeft-i}px`,r.style.top=`${e.clientY-s.offsetTop-i}px`,r.classList.add(t.ripple),s.appendChild(r),setTimeout(()=>{r.remove()},600)},kS=()=>{const e=d=>new Promise(g=>setTimeout(g,d)),[t,s]=j.useState({department:"",subject_code:"",subject_title:"",yearLevel:"",section:"",semester:"",academic_year:""}),r=()=>{s({department:"",subject_code:"",subject_title:"",yearLevel:"",section:"",semester:"",academic_year:""})},[a,i]=j.useState(!1);return{dataClassProgram:t,handleChangeClassProgram:d=>{const{name:g,value:v}=d.target;if(g==="subject")try{const c=JSON.parse(v);s(h=>({...h,subject_code:c.subject_code,subject_title:c.subject_title}))}catch{E.error("Invalid subject format")}else s(c=>({...c,[g]:v}))},handleSubmitClassProgram:async()=>{var v,c;const d=te.object({department:te.string().required(),subject_code:te.string().required(),subject_title:te.string().required(),yearLevel:te.string().required(),section:te.string().required(),semester:te.string().required(),academic_year:te.string().required(),instructor:te.array().default([]),students:te.array().default([])}),{error:g}=d.validate(t,{abortEarly:!1});if(g){const h=g.details.map(_=>_.message).join(", ");E.error(h);return}i(!0);try{await e(500);const h=await U.post("/api/post_class_program",t,{headers:{"Content-Type":"application/json"}});if(h.status===200)r(),E.success("New Class Program added successfully");else{const _="Unexpected response status: "+h.status;E.error(_)}}catch(h){console.error("Error response:",h.response);const _=((c=(v=h.response)==null?void 0:v.data)==null?void 0:c.message)||"Saving failed. Please try again.";E.error(_)}finally{i(!1)}},resetClassProgramForm:r,isClassProgramLoading:a}},ES=e=>{const[t,s]=j.useState([]),[r,a]=j.useState([]),[i,l]=j.useState(null),[o,d]=j.useState(!1),g=j.useCallback(async()=>{d(!0);try{const v=await U.get("/api/get_class_program",{params:{search:e}});s(v.data),e===""&&a(v.data),E.info("📚 Class programs loaded successfully! 🎉")}catch(v){E.error("🚨 Error fetching class program: "+v.message),l(v)}finally{d(!1)}},[e]);return j.useEffect(()=>{g()},[g]),{classPrograms:t,originalClassProgram:r,errorClassProgram:i,classProgramLoading:o,refetch:g}},BS=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{uploadFile:async l=>{const o=new FormData;o.append("file",l),t(!0);try{await a(500),r(null);const d=await U.post("/api/post_class_program_upload",o,{headers:{"Content-Type":"multipart/form-data"}});return E.success("File uploaded successfully!"),t(!1),d.data}catch(d){throw console.error("Upload error:",d),E.error("Failed to upload file. Please try again."),r(d),t(!1),d}},loading:e,error:s}},RS=()=>{let e=`department,subject_code,subject_title,yearLevel,section,semester,academic_year
`;const t=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download="class_program_information_format.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)},LS=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{deleteClassProgram:j.useCallback(async l=>{t(!0);try{await a(500),await U.delete(`/api/del_class_program/${l}`),E.success("Class program deleted successfully")}catch(o){console.error("Error deleting class program:",o),E.error("Failed to delete class program"),r(o)}finally{t(!1)}},[]),loadingDelete:e,errorDelete:s}},FS=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{updateClassProgram:j.useCallback(async(l,o)=>{t(!0);try{await a(500);const d=await U.put(`/api/update_class_program/${l}`,o);E.success("Class program updated successfully"),console.log("Updated class program:",d.data)}catch(d){console.error("Error updating class program:",d),E.error("Failed to update class program"),r(d)}finally{t(!1)}},[]),loadingEdit:e,errorEdit:s}},Yd=e=>{const[t,s]=j.useState([]),[r,a]=j.useState([]),[i,l]=j.useState(null),[o,d]=j.useState(!1),g=j.useCallback(async()=>{var v,c;d(!0);try{const h=await U.get("/api/get_subjects",{params:{search:e}});s(h.data),e===""&&a(h.data),h.data.length>0?E.info("📚 Subjects loaded successfully! 🎉"):E.info("🔍 No subjects found.")}catch(h){console.error("Error fetching subjects:",h.response||h),E.error("🚨 Error fetching subjects: "+(((c=(v=h.response)==null?void 0:v.data)==null?void 0:c.message)||h.message)),l(h)}finally{d(!1)}},[e]);return j.useEffect(()=>{g()},[g]),{subjects:t,originalSubjects:r,errorSubject:i,loadingSubject:o,refetch:g}},_s=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const i=await U.get("/api/departments");t(i.data)}catch{r("Error fetching departments")}})()},[]),{departments:e,error:s}},Ts=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[a,i]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const o=await U.get("/api/academic-years");t(o.data)}catch{i("Failed to fetch academic years")}finally{r(!1)}})()},[]),{academicYears:e,loading:s,error:a}},zi=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[a,i]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const o=await U.get("/api/year-levels");t(o.data)}catch{i("Failed to fetch year levels")}finally{r(!1)}})()},[]),{yearLevels:e,loading:s,error:a}},Qd=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[a,i]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const o=await U.get("/api/sections");t(o.data)}catch{i("Failed to fetch sections")}finally{r(!1)}})()},[]),{sections:e,loading:s,error:a}},vs=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[a,i]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const o=await U.get("/api/semesters");t(o.data)}catch{i("Failed to fetch semesters")}finally{r(!1)}})()},[]),{semesters:e,loading:s,error:a}};function Nl(){const[e,t]=j.useState(!1),[s,r]=j.useState(!1),[a,i]=j.useState(""),{updatePath:l}=Rt(),o=mt(),[d,g]=j.useState(""),[v,c]=j.useState(null),[h,_]=j.useState({department:"",subject_code:"",subject_title:"",yearLevel:"",section:"",semester:"",academic_year:""}),{updateClassProgram:f,loadingEdit:m}=FS(),{dataClassProgram:y,handleChangeClassProgram:u,handleSubmitClassProgram:p,resetClassProgramForm:x,isClassProgramLoading:w}=kS(),{classPrograms:I,errorClassProgram:$,classProgramLoading:N,refetch:b}=ES(d),{uploadFile:C,loading:S,error:k}=BS(),B=j.useCallback(gs(P=>{g(P)},100),[]);j.useEffect(()=>{s&&v&&fetch(`/api/get_class_program/${v}`).then(P=>{if(!P.ok)throw new Error("Network response was not ok");return P.json()}).then(P=>_(P)).catch(P=>console.error("Error fetching class program:",P))},[s,v]);const R=async P=>{if(P.preventDefault(),h&&v)try{const{department:Ie,subject_code:Ze,subject_title:Un,yearLevel:Ka,section:Br,semester:Rr,academic_year:Lr}=h;await f(v,{department:Ie,subject_code:Ze,subject_title:Un,yearLevel:Ka,section:Br,semester:Rr,academic_year:Lr}),ie(),b()}catch(Ie){console.error("Failed to update class program:",Ie),E.error("Failed to update class program. Please try again.")}},[L,A]=j.useState([]),q=P=>{const{name:Ie,value:Ze}=P.target;if(Ie==="department"||Ie==="yearLevel"||Ie==="semester")_({...h,[Ie]:Ze});else if(Ie==="subject"){const Un=JSON.parse(Ze);_({...h,subject_code:Un.subject_code,subject_title:Un.subject_title})}else _({...h,[Ie]:Ze})},G=P=>{P.preventDefault(),B(P.target.value)},D=async P=>{P.preventDefault(),await p(),x(),b()},{deleteClassProgram:V,loadingDelete:z}=LS(),[M,H]=j.useState(null),[me,K]=j.useState(!1),ue=async()=>{try{await V(M),K(!1),H(null),b()}catch(P){console.error("Failed to delete class program:",P),E.error("Failed to delete class program. Please try again.")}},Q=P=>{H(P),K(!0)},fe=P=>{lr(P,J),t(!0)},Fe=P=>{c(P),r(!0)},ie=()=>{t(!1),r(!1),ye(!1),K(!1)},ne=P=>{lr(P,J),P.preventDefault(),RS()},[T,ye]=j.useState(!1),[F,ge]=j.useState(null),de=async P=>{if(P.preventDefault(),F)try{const Ie=await C(F);b(),console.log("Upload successful:",Ie),ge(null),ie()}catch(Ie){console.error("Upload failed:",Ie)}else E.warn("Please select a file to upload.")},Y=P=>{lr(P,J),ye(!0)},ze=P=>{const Ie=P.target.files[0];Ie&&Ie.type!=="text/csv"?(i("Only .csv files are allowed."),ge(null)):(ge(Ie),i(""))},ae=P=>{c(P),l("Class Program Information","Instructor"),o(`/admin/classProgramInformation/instructor/${P}`)},le=P=>{c(P),l("Class Program Information","Student"),o(`/admin/classProgramInformation/students/${P}`)},{subjects:ke,errorSubject:lt}=Yd(),{departments:yt}=_s(),{academicYears:ee}=Ts(),{yearLevels:rt}=zi(),{sections:xt}=Qd(),{semesters:Kt}=vs(),[pn,Xe]=j.useState(""),[Jt,ys]=j.useState(""),[Mn,Wa]=j.useState(""),[Os,kr]=j.useState(""),[Ya,qi]=j.useState(""),Er=I.filter(P=>(pn===""||P.department===pn)&&(Jt===""||P.yearLevel===Jt)&&(Mn===""||P.section===Mn)&&(Os===""||P.academic_year===Os)&&(Ya===""||P.semester===Ya));j.useEffect(()=>{(()=>{let Ie=ke;y.department&&(Ie=Ie.filter(Ze=>Ze.department===y.department)),y.yearLevel==="1"&&(Ie=Ie.filter(Ze=>Ze.offered.includes("FIRST YEAR"))),y.yearLevel==="2"&&(Ie=Ie.filter(Ze=>Ze.offered.includes("SECOND YEAR"))),y.yearLevel==="3"&&(Ie=Ie.filter(Ze=>Ze.offered.includes("THIRD YEAR"))),y.yearLevel==="4"&&(Ie=Ie.filter(Ze=>Ze.offered.includes("FOURTH YEAR"))),y.semester==="1st"&&(Ie=Ie.filter(Ze=>Ze.offered.includes("First Semester"))),y.semester==="2nd"&&(Ie=Ie.filter(Ze=>Ze.offered.includes("Second Semester"))),y.semester==="summer"&&(Ie=Ie.filter(Ze=>Ze.offered.includes("SUMMER"))),A(Ie)})()},[y.department,y.yearLevel,y.semester,ke]);const Qa=()=>{Xe(""),ys(""),Wa(""),kr(""),qi("")};return $?n.jsxs("p",{children:["Error fetching subjects: ",$.message]}):n.jsxs("div",{className:e?`${J.mainContainer} ${J.blurred}`:J.mainContainer,children:[n.jsxs("div",{className:J.dashboardContent,children:[n.jsxs("div",{className:J.searchBar,children:[n.jsx("input",{type:"text",placeholder:"Search Class Info...",className:J.searchInput,value:d,onChange:G}),n.jsxs("button",{className:J.addBtn,onClick:P=>{fe(P)},children:[n.jsx("img",{src:On,alt:""}),"Add"]}),n.jsxs("button",{className:J.addFile,onClick:Y,children:[n.jsx("img",{src:Dn,alt:""}),"Upload File"]}),n.jsxs("button",{className:J.csvFormat,onClick:ne,children:[n.jsx("img",{src:An,alt:""})," CSV Format"]})]}),n.jsxs("div",{className:J.filters,children:[n.jsxs("select",{className:J.filterDropdown,value:pn,onChange:P=>Xe(P.target.value),children:[n.jsx("option",{value:"",children:"All Departments"}),yt.map(P=>n.jsx("option",{value:P.department,children:P.department},P._id))]}),n.jsxs("select",{className:J.filterDropdown,value:Jt,onChange:P=>ys(P.target.value),children:[n.jsx("option",{value:"",children:"All Year Levels"}),rt.map(P=>n.jsx("option",{value:P.yearLevel,children:P.yearLevel},P._id))]}),n.jsxs("select",{className:J.filterDropdown,value:Mn,onChange:P=>Wa(P.target.value),children:[n.jsx("option",{value:"",children:"All Sections"}),xt.map(P=>n.jsx("option",{value:P.section,children:P.section},P._id))]}),n.jsxs("select",{className:J.filterDropdown,value:Os,onChange:P=>kr(P.target.value),children:[n.jsx("option",{value:"",children:"All Academic Years"}),ee.map(P=>n.jsx("option",{value:P.ay,children:P.ay},P._id))]}),n.jsxs("select",{className:J.filterDropdown,value:Ya,onChange:P=>qi(P.target.value),children:[n.jsx("option",{value:"",children:"All Semesters"}),Kt.map(P=>n.jsx("option",{value:P.semester,children:P.semester},P._id))]}),n.jsx("button",{className:J.filterDropdown,onClick:Qa,children:"Reset Filters"})]}),n.jsx("div",{className:J.tableContainer,children:n.jsxs("table",{className:J.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"#"}),n.jsx("th",{children:"Department"}),n.jsx("th",{children:"Subject"}),n.jsx("th",{children:"Year Level"}),n.jsx("th",{children:"Section"}),n.jsx("th",{children:"Semester"}),n.jsx("th",{children:"Academic Year"}),n.jsx("th",{children:"Instructor"}),n.jsx("th",{children:"Student"}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:N?n.jsx("tr",{children:n.jsx("td",{colSpan:"9",style:{textAlign:"center"},children:"Loading..."})}):Array.isArray(Er)&&Er.length>0?Er.map(P=>n.jsxs("tr",{children:[n.jsx("td",{children:P.originalClassProgram}),n.jsx("td",{children:P.department}),n.jsxs("td",{children:[P.subject_code," - ",P.subject_title]}),n.jsx("td",{children:P.yearLevel}),n.jsx("td",{children:P.section}),n.jsx("td",{children:P.semester}),n.jsx("td",{children:P.academic_year}),n.jsx("td",{children:n.jsx("button",{className:J.view,onClick:()=>ae(P.id),children:"View"})}),n.jsx("td",{children:n.jsx("button",{className:J.view,onClick:()=>le(P.id),children:"View"})}),n.jsxs("td",{children:[n.jsx("button",{onClick:()=>Fe(P.id),className:J.editBtn,children:n.jsx("img",{src:eg,className:J.editImg})}),n.jsx("button",{onClick:()=>Q(P.id),className:J.deleteBtn,disabled:z,children:n.jsx("img",{src:Vt,className:J.deleteImg})})]})]},P.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"9",style:{textAlign:"center"},children:"No data available"})})})]})})]}),e&&n.jsx("div",{className:J.modalOverlay,children:n.jsxs("div",{className:J.modal,children:[n.jsx("h2",{children:"Add Class Program"}),n.jsxs("form",{onSubmit:D,children:[n.jsxs("div",{className:J.editInput,children:[n.jsx("label",{children:"Department:"}),n.jsxs("select",{className:J.editField,name:"department",value:y.department,onChange:P=>{u(P),A(ke.filter(Ie=>Ie.department===P.target.value))},required:!0,children:[n.jsx("option",{value:"",disabled:!0,children:"Select a department"}),yt&&yt.map(P=>n.jsx("option",{value:P.department,children:P.department},P._id))]})]}),n.jsxs("div",{className:J.editInput,children:[n.jsx("label",{children:"Year Level:"}),n.jsxs("select",{type:"text",className:J.editField,name:"yearLevel",value:y.yearLevel,onChange:u,required:!0,children:[n.jsx("option",{value:"",disabled:!0,children:"Select year level"}),rt&&rt.map(P=>n.jsx("option",{value:P.yearLevel,children:P.yearLevel},P._id))]})]}),n.jsxs("div",{className:J.editInput,children:[n.jsx("label",{children:"Semester:"}),n.jsxs("select",{className:J.editField,name:"semester",value:y.semester,onChange:u,required:!0,children:[n.jsx("option",{value:"",disabled:!0,children:"Select semester"}),Kt&&Kt.length>0?Kt.map(P=>n.jsx("option",{value:P.semester,children:P.semester},P._id)):n.jsx("option",{value:"",disabled:!0,children:"No semesters available"})]})]}),n.jsxs("div",{className:J.editInput,children:[n.jsx("label",{children:"Subject:"}),n.jsxs("select",{className:J.editField,name:"subject",value:y.subject_code?JSON.stringify({subject_code:y.subject_code,subject_title:y.subject_title}):"",onChange:u,required:!0,children:[n.jsx("option",{value:"",disabled:!0,children:"Select a subject"}),L.map(P=>n.jsx("option",{value:JSON.stringify({subject_code:P.subject_code,subject_title:P.subject_title}),children:`${P.subject_code} - ${P.subject_title}`},P._id))]})]}),n.jsxs("div",{className:J.editInput,children:[n.jsx("label",{children:"Section:"}),n.jsxs("select",{type:"text",className:J.editField,name:"section",value:y.section,onChange:u,required:!0,children:[n.jsx("option",{value:"",disabled:!0,children:"Select section"}),xt&&xt.map(P=>n.jsx("option",{value:P.section,children:P.section},P._id))]})]}),n.jsxs("div",{className:J.editInput,children:[n.jsx("label",{children:"Academic Year:"}),n.jsxs("select",{className:J.editField,name:"academic_year",value:y.academic_year,onChange:u,required:!0,children:[n.jsx("option",{value:"",disabled:!0,children:"Select academic year"}),ee&&ee.map(P=>n.jsx("option",{value:P.ay,children:P.ay},P._id))]})]}),n.jsxs("div",{className:J.btnRow,children:[n.jsx("button",{type:"button",className:J.cancelBtn,onClick:ie,children:"Close"}),n.jsx("button",{type:"submit",className:J.saveBtn,disabled:w,children:w?n.jsx("div",{className:J.loader}):"Save"})]})]})]})}),s&&h&&n.jsx("div",{className:J.modalOverlay,children:n.jsxs("div",{className:J.modal,children:[n.jsx("h2",{children:"Edit Class Program"}),n.jsxs("form",{onSubmit:R,children:[n.jsxs("div",{className:J.editInput,children:[n.jsx("label",{children:"Department:"}),n.jsxs("select",{className:J.editField,name:"department",value:h.department||"",onChange:q,required:!0,children:[n.jsx("option",{value:"",disabled:!0,children:"Select a department"}),yt&&yt.map(P=>n.jsx("option",{value:P.department,children:P.department},P._id))]})]}),n.jsxs("div",{className:J.editInput,children:[n.jsx("label",{children:"Subject:"}),n.jsxs("select",{className:J.editField,name:"subject",value:JSON.stringify({subject_code:h.subject_code||"",subject_title:h.subject_title||""}),onChange:q,required:!0,children:[n.jsx("option",{value:"",disabled:!0,children:"Select a subject"}),L.map(P=>n.jsx("option",{value:JSON.stringify({subject_code:P.subject_code,subject_title:P.subject_title}),children:`${P.subject_code} - ${P.subject_title}`},P._id))]})]}),n.jsxs("div",{className:J.editInput,children:[n.jsx("label",{children:"Year Level:"}),n.jsxs("select",{className:J.editField,name:"yearLevel",value:h.yearLevel||"",onChange:q,required:!0,children:[n.jsx("option",{value:"",disabled:!0,children:"Select year level"}),rt&&rt.map(P=>n.jsx("option",{value:P.yearLevel,children:P.yearLevel},P._id))]})]}),n.jsxs("div",{className:J.editInput,children:[n.jsx("label",{children:"Section:"}),n.jsxs("select",{className:J.editField,name:"section",value:h.section||"",onChange:q,required:!0,children:[n.jsx("option",{value:"",disabled:!0,children:"Select section"}),xt&&xt.map(P=>n.jsx("option",{value:P.section,children:P.section},P._id))]})]}),n.jsxs("div",{className:J.editInput,children:[n.jsx("label",{children:"Semester:"}),n.jsxs("select",{className:J.editField,name:"semester",value:h.semester||"",onChange:q,required:!0,children:[n.jsx("option",{value:"",disabled:!0,children:"Select semester"}),Kt&&Kt.map(P=>n.jsx("option",{value:P.semester,children:P.semester},P._id))]})]}),n.jsxs("div",{className:J.editInput,children:[n.jsx("label",{children:"Academic Year:"}),n.jsxs("select",{className:J.editField,name:"academic_year",value:h.academic_year||"",onChange:q,required:!0,children:[n.jsx("option",{value:"",disabled:!0,children:"Select academic year"}),ee&&ee.map(P=>n.jsx("option",{value:P.ay,children:P.ay},P._id))]})]}),n.jsxs("div",{className:J.btnRow,children:[n.jsx("button",{type:"button",className:J.cancelBtn,onClick:ie,children:"Close"}),n.jsx("button",{type:"submit",className:J.saveBtn,disabled:m,children:m?n.jsx("div",{className:J.loader}):"Save Changes"})]})]})]})}),T&&n.jsx("div",{className:J.modalOverlay,children:n.jsxs("div",{className:J.modal,children:[n.jsx("h2",{children:"Upload CSV File"}),n.jsxs("form",{onSubmit:de,children:[n.jsxs("div",{className:J.uploadInput,children:[n.jsx("label",{children:"Select File:"}),n.jsx("input",{type:"file",accept:".csv",className:J.uploadField,onChange:ze}),a&&n.jsx("p",{className:J.error,children:a})]}),n.jsxs("div",{className:J.btnRow,children:[n.jsx("button",{type:"button",className:J.cancelBtn,onClick:ie,children:"Close"}),n.jsx("button",{type:"submit",className:J.uploadBtn,disabled:S,children:S?n.jsx("div",{className:J.loader}):"Upload"})]})]})]})}),me&&n.jsx("div",{className:J.modalOverlay,children:n.jsxs("div",{className:J.modal,children:[n.jsx("h2",{children:"Confirm Deletion"}),n.jsx("h4",{children:"Are you sure you want to delete this class program?"}),n.jsxs("div",{className:J.buttonRow,children:[n.jsx("button",{onClick:ue,disabled:z,className:J.confirmDeleteBtn,children:z?n.jsx("div",{className:J.loader}):"Yes, Delete"}),n.jsx("button",{onClick:()=>K(!1),className:J.cancelBtn,children:"Cancel"})]})]})})]})}const PS="_mainContainer_1lvtv_7",AS="_dashboardContent_1lvtv_27",DS="_searchBar_1lvtv_43",TS="_searchInput_1lvtv_61",OS="_buttonContainer_1lvtv_75",MS="_searchBtn_1lvtv_87",US="_addBtn_1lvtv_89",zS="_addFile_1lvtv_91",qS="_csvFormat_1lvtv_93",VS="_tableContainer_1lvtv_143",HS="_classInfoTable_1lvtv_155",GS="_view_1lvtv_197",WS="_actionRow_1lvtv_215",YS="_editBtn_1lvtv_229",QS="_deleteBtn_1lvtv_231",KS="_editImg_1lvtv_245",JS="_deleteImg_1lvtv_247",XS="_modalOverlay_1lvtv_283",ZS="_modal_1lvtv_283",eN="_addInput_1lvtv_367",tN="_btnRow_1lvtv_389",nN="_selectInput_1lvtv_403",sN="_editInput_1lvtv_421",rN="_editField_1lvtv_445",aN="_uploadField_1lvtv_463",oN="_cancelBtn_1lvtv_475",iN="_saveBtn_1lvtv_493",lN="_confirmDeleteBtn_1lvtv_495",cN="_uploadBtn_1lvtv_497",dN="_buttonRow_1lvtv_571",uN="_loader_1lvtv_593",mN="_slideRight_1lvtv_1",re={mainContainer:PS,dashboardContent:AS,searchBar:DS,searchInput:TS,buttonContainer:OS,searchBtn:MS,addBtn:US,addFile:zS,csvFormat:qS,tableContainer:VS,classInfoTable:HS,view:GS,actionRow:WS,editBtn:YS,deleteBtn:QS,editImg:KS,deleteImg:JS,modalOverlay:XS,modal:ZS,addInput:eN,btnRow:tN,selectInput:nN,editInput:sN,editField:rN,uploadField:aN,cancelBtn:oN,saveBtn:iN,confirmDeleteBtn:lN,uploadBtn:cN,buttonRow:dN,loader:uN,"l20-1":"_l20-1_1lvtv_1","l20-2":"_l20-2_1lvtv_1",slideRight:mN},fN=()=>{const e=d=>new Promise(g=>setTimeout(g,d)),[t,s]=j.useState(!1),[r,a]=j.useState({department:"",subject_code:"",subject_title:"",prerequisite:"",unit:"",effective:"",offered:""}),i=()=>{a({department:"",subject_code:"",subject_title:"",prerequisite:"",unit:"",effective:"",offered:""})};return{dataSubject:r,handleChangeSubject:d=>{const{name:g,value:v}=d.target;a({...r,[g]:g==="unit"?parseFloat(v)||"":v})},handleSubmitSubject:async()=>{const d=te.object({department:te.string().required(),subject_code:te.string().required(),subject_title:te.string().required(),unit:te.number().required(),prerequisite:te.string().required(),effective:te.string().required(),offered:te.string().required()}),{error:g}=d.validate(r,{abortEarly:!1});if(g){const v=g.details.map(c=>c.message).join(", ");E.error(v);return}s(!0);try{await e(3e3),(await U.post("/api/post_subjects",r)).status===201?(E.success("Subject added successfully."),i()):E.error("Failed to add subject. Please try again.")}catch(v){console.error("Error submitting subject:",v),E.error("Failed to add subject. Please try again.")}finally{s(!1)}},resetSubjectForm:i,isSubjectLoading:t}},hN=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{updateSubject:async(l,o)=>{var d,g;t(!0),r(null);try{if(await a(500),(await U.put(`/api/update_subject/${l}`,o,{headers:{"Content-Type":"application/json"}})).status!==200)throw new Error("Failed to update subject")}catch(v){throw r(((g=(d=v.response)==null?void 0:d.data)==null?void 0:g.message)||"Failed to update subject"),v}finally{t(!1)}},loadingEdit:e,errorEdit:s}},pN=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{deleteSubject:j.useCallback(async l=>{t(!0);try{await a(500),await U.delete(`/api/del_subject/${l}`),E.success("Subject deleted successfully")}catch(o){console.error("Error deleting subject:",o),E.error("Failed to delete subject"),r(o)}finally{t(!1)}},[]),loadingDelete:e,errorDelete:s}},gN=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),[a,i]=j.useState(!1),l=d=>new Promise(g=>setTimeout(g,d));return{uploadCSV:async d=>{var v,c;r(null),i(!1);const g=new FormData;g.append("file",d);try{t(!0),await l(500),(await U.post("/api/post_upload_subjects",g,{headers:{"Content-Type":"multipart/form-data"}})).status===201&&(i(!0),E.success("Successfully Added New Subject"))}catch(h){r(((c=(v=h.response)==null?void 0:v.data)==null?void 0:c.message)||"Failed to upload the file."),E.error("Failed to upload the file.",h)}finally{t(!1)}},uploading:e,errorUpload:s,success:a}};function Il(){const[e,t]=j.useState(!1),[s,r]=j.useState(!1),[a,i]=j.useState(!1),[l,o]=j.useState(null),[d,g]=j.useState(""),{dataSubject:v,handleChangeSubject:c,handleSubmitSubject:h,isSubjectLoading:_}=fN(),[f,m]=j.useState(null),[y,u]=j.useState({department:"",subject_code:"",subject_title:"",prerequisite:"",unit:"",effective:"",offered:""}),{updateSubject:p,loadingEdit:x,errorEdit:w}=hN();j.useEffect(()=>{s&&f&&fetch(`/api/get_subject/${f}`).then(de=>{if(!de.ok)throw new Error("Network response was not ok");return de.json()}).then(de=>u(de)).catch(de=>console.error("Error fetching Subject:",de))},[s,f]);const I=async de=>{if(de.preventDefault(),f&&y)try{const{department:Y,subject_code:ze,subject_title:ae,prerequisite:le,unit:ke,effective:lt,offered:yt}=y;await p(f,{department:Y,subject_code:ze,subject_title:ae,prerequisite:le,unit:ke,effective:lt,offered:yt}),fe(),B(),E.success("Subject updated successfully.")}catch(Y){console.error("Failed to update subject:",Y),E.error("Failed to update subject. Please try again.")}},$=de=>{u({...y,[de.target.name]:de.target.value})},[N,b]=j.useState(""),{subjects:C,errorSubject:S,loadingSubject:k,refetch:B}=Yd(N),R=j.useCallback(gs(de=>{b(de)},100),[]),L=de=>{de.preventDefault(),R(de.target.value)},A=async de=>{de.preventDefault();try{await h(),B()}catch(Y){console.error("Error saving subject:",Y)}},{deleteSubject:q,loadingDelete:G}=pN(),[D,V]=j.useState(!1),[z,M]=j.useState(null),H=async()=>{try{await q(z),V(!1),M(null),B()}catch(de){console.error("Failed to delete class program:",de),E.error("Failed to delete class program. Please try again.")}},me=de=>{M(de),V(!0)},K=()=>{t(!0)},ue=de=>{m(de),r(!0)},Q=()=>{i(!0)},fe=()=>{t(!1),r(!1),i(!1),V(!1),g("")},Fe=de=>{const Y=de.target.files[0];Y&&Y.type!=="text/csv"?(g("Only .csv files are allowed."),o(null)):(o(Y),g(""))},{uploadCSV:ie,uploading:ne,errorUpload:T,success:ye}=gN(),F=async de=>{if(de.preventDefault(),!l){E.error("Please select a file to upload.");return}try{await ie(l),ye&&(fe(),B()),fe(),B()}catch{E.error(T||"Failed to upload the file.")}},ge=()=>{const de="department,subject_code,subject_title,prerequisite,unit,effective,offered",Y=new Blob([de],{type:"text/csv;charset=utf-8;"}),ze=URL.createObjectURL(Y),ae=document.createElement("a");ae.href=ze,ae.download="subject_format.csv",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(ze)};return S?n.jsxs("p",{children:["Error fetching subjects: ",d.message]}):n.jsxs("div",{className:e||s||a?`${re.mainContainer} ${re.blurred}`:re.mainContainer,children:[n.jsxs("div",{className:re.dashboardContent,children:[n.jsxs("div",{className:re.searchBar,children:[n.jsx("input",{type:"text",placeholder:"Search Subject...",className:re.searchInput,value:N,onChange:L}),n.jsxs("div",{className:re.buttonContainer,children:[n.jsxs("button",{className:re.addBtn,onClick:K,children:[n.jsx("img",{src:On,alt:""}),"Add"]}),n.jsxs("button",{className:re.addFile,onClick:Q,children:[n.jsx("img",{src:Dn,alt:""}),"Upload File"]}),n.jsxs("button",{className:re.csvFormat,onClick:ge,children:[n.jsx("img",{src:An,alt:""}),"CSV Format"]})]})]}),n.jsx("div",{className:re.tableContainer,children:n.jsxs("table",{className:re.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"#"}),n.jsx("th",{children:"Department"}),n.jsx("th",{children:"Subject Code"}),n.jsx("th",{children:"Subject Title"}),n.jsx("th",{children:"Prerequisite"}),n.jsx("th",{children:"Unit/s"}),n.jsx("th",{children:"Effective"}),n.jsx("th",{children:"Offered"}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:k?n.jsx("tr",{children:n.jsx("td",{colSpan:"9",style:{textAlign:"center"},children:"Loading subjects..."})}):C.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"9",style:{textAlign:"center"},children:"No subjects available."})}):C.map(de=>n.jsxs("tr",{children:[n.jsx("td",{children:de.originalSubjects}),n.jsx("td",{children:de.department}),n.jsx("td",{children:de.subject_code}),n.jsx("td",{children:de.subject_title}),n.jsx("td",{children:de.prerequisite}),n.jsx("td",{children:de.unit}),n.jsx("td",{children:de.effective}),n.jsx("td",{children:de.offered}),n.jsx("td",{children:n.jsxs("div",{className:re.actionRow,children:[n.jsx("button",{onClick:()=>ue(de._id),className:re.editBtn,children:n.jsx("img",{src:eg,className:re.editImg})}),n.jsx("button",{onClick:()=>me(de._id),className:re.deleteBtn,children:n.jsx("img",{src:Vt,className:re.deleteImg})})]})})]},de._id))})]})})]}),e&&n.jsx("div",{className:re.modalOverlay,children:n.jsxs("div",{className:re.modal,children:[n.jsx("h2",{children:"Add Subject"}),n.jsxs("form",{onSubmit:A,children:[n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Department:"}),n.jsx("input",{type:"text",className:re.editField,name:"department",value:v.department,onChange:c,required:!0})]}),n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Subject Code:"}),n.jsx("input",{type:"text",className:re.editField,name:"subject_code",value:v.subject_code,onChange:c,required:!0})]}),n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Subject Title:"}),n.jsx("input",{type:"text",className:re.editField,name:"subject_title",value:v.subject_title,onChange:c,required:!0})]}),n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Prerequisite:"}),n.jsx("input",{type:"text",className:re.editField,name:"prerequisite",value:v.prerequisite,onChange:c,required:!0})]}),n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Unit:"}),n.jsx("input",{className:re.editField,name:"unit",type:"number",value:v.unit,onChange:c,required:!0})]}),n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Effective:"}),n.jsx("input",{type:"text",className:re.editField,name:"effective",value:v.effective,onChange:c,required:!0})]}),n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Offered:"}),n.jsx("input",{type:"text",className:re.editField,name:"offered",value:v.offered,onChange:c,required:!0})]}),n.jsxs("div",{className:re.btnRow,children:[n.jsx("button",{type:"button",className:re.cancelBtn,onClick:fe,children:"Close"}),n.jsx("button",{type:"submit",className:re.saveBtn,disabled:_,children:_?n.jsx("div",{className:re.loader}):"Save"})]})]})]})}),s&&y&&n.jsx("div",{className:re.modalOverlay,children:n.jsxs("div",{className:re.modal,children:[n.jsx("h2",{children:"Edit Subject"}),n.jsxs("form",{onSubmit:I,children:[n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Department:"}),n.jsx("input",{type:"text",className:re.editField,name:"department",value:(y==null?void 0:y.department)||"",onChange:$,required:!0})]}),n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Subject Code:"}),n.jsx("input",{type:"text",className:re.editField,name:"subject_code",value:(y==null?void 0:y.subject_code)||"",onChange:$,required:!0})]}),n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Subject Title:"}),n.jsx("input",{type:"text",className:re.editField,name:"subject_title",value:(y==null?void 0:y.subject_title)||"",onChange:$,required:!0})]}),n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Prerequisite:"}),n.jsx("input",{type:"text",className:re.editField,name:"prerequisite",value:(y==null?void 0:y.prerequisite)||"",onChange:$,required:!0})]}),n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Unit:"}),n.jsx("input",{type:"number",className:re.editField,name:"unit",value:(y==null?void 0:y.unit)||"",onChange:$,required:!0})]}),n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Effective:"}),n.jsx("input",{type:"text",className:re.editField,name:"effective",value:(y==null?void 0:y.effective)||"",onChange:$,required:!0})]}),n.jsxs("div",{className:re.editInput,children:[n.jsx("label",{children:"Offered:"}),n.jsx("input",{type:"text",className:re.editField,name:"offered",value:(y==null?void 0:y.offered)||"",onChange:$,required:!0})]}),n.jsxs("div",{className:re.btnRow,children:[n.jsx("button",{type:"button",className:re.cancelBtn,onClick:fe,children:"Close"}),n.jsx("button",{type:"submit",className:re.saveBtn,disabled:x,children:x?n.jsx("div",{className:re.loader}):"Save"})]})]})]})}),a&&n.jsx("div",{className:re.modalOverlay,children:n.jsxs("div",{className:re.modal,children:[n.jsx("h2",{children:"Upload CSV File"}),n.jsxs("form",{onSubmit:F,children:[n.jsxs("div",{className:re.uploadInput,children:[n.jsx("label",{children:"Select File:"}),n.jsx("input",{type:"file",accept:".csv",className:re.uploadField,onChange:Fe}),d&&n.jsx("p",{className:re.error,children:d})]}),n.jsxs("div",{className:re.btnRow,children:[n.jsx("button",{type:"button",className:re.cancelBtn,onClick:fe,children:"Close"}),n.jsx("button",{type:"submit",className:re.uploadBtn,disabled:ne,children:ne?n.jsx("div",{className:re.loader}):"Upload"})]})]})]})}),D&&n.jsx("div",{className:re.modalOverlay,children:n.jsxs("div",{className:re.modal,children:[n.jsx("h2",{children:"Confirm Deletion"}),n.jsx("h4",{children:"Are you sure you want to delete this subject?"}),n.jsxs("div",{className:re.buttonRow,children:[n.jsx("button",{onClick:H,disabled:G,className:re.confirmDeleteBtn,children:G?n.jsx("div",{className:re.loader}):"Yes, Delete"}),n.jsx("button",{onClick:()=>V(!1),className:re.cancelBtn,children:"Cancel"})]})]})})]})}const _N="_mainContainer_1gks4_7",vN="_dashboardContent_1gks4_27",yN="_searchBar_1gks4_43",xN="_searchInput_1gks4_61",bN="_buttonContainer_1gks4_75",jN="_filterDropdown_1gks4_85",wN="_printBtn_1gks4_111",CN="_printImg_1gks4_129",SN="_tableContainer_1gks4_143",NN="_classInfoTable_1gks4_153",IN="_actionRow_1gks4_193",$N="_studentsBtn_1gks4_207",kN="_studentsImg_1gks4_233",EN="_searchBtn_1gks4_323",BN="_addBtn_1gks4_325",RN="_addFile_1gks4_327",LN="_csvFormat_1gks4_329",FN="_slideRight_1gks4_1",_n={mainContainer:_N,dashboardContent:vN,searchBar:yN,searchInput:xN,buttonContainer:bN,filterDropdown:jN,printBtn:wN,printImg:CN,tableContainer:SN,classInfoTable:NN,actionRow:IN,studentsBtn:$N,studentsImg:kN,searchBtn:EN,addBtn:BN,addFile:RN,csvFormat:LN,slideRight:FN},Nr=e=>{const[t,s]=j.useState(null),[r,a]=j.useState(!0),[i,l]=j.useState(null),o=j.useCallback(async()=>{if(e)try{a(!0);const d=await U.get(`/api/get_faculty_details/${e}`);s(d.data),l(null)}catch(d){l(d.message||"Failed to fetch user details")}finally{a(!1)}},[e]);return j.useEffect(()=>{o()},[o]),{userDetails:t,loading:r,error:i,refetch:o}};function PN(){var m;const e=mt(),{updateActiveButton:t}=j.useContext(Cn),{updatePath:s}=Rt(),r=()=>{t("students"),e("/facultyStaff/students"),s("Students","Students")},a=localStorage.getItem("token");let i="";if(a)try{i=vt(a).id}catch(y){console.error("Failed to decode token:",y)}const{userDetails:l,loading:o}=Nr(i),[d,g]=j.useState(""),[v,c]=j.useState(""),h=((m=l==null?void 0:l.load)==null?void 0:m.filter(y=>(!d||y.academic_year===d)&&(!v||y.semester===v)))||[],{academicYears:_}=Ts(),{semesters:f}=vs();return n.jsx("div",{className:_n.mainContainer,children:n.jsxs("div",{className:_n.dashboardContent,children:[n.jsxs("div",{className:_n.searchBar,children:[n.jsxs("select",{className:_n.filterDropdown,value:d,onChange:y=>g(y.target.value),children:[n.jsx("option",{value:"",children:"All Academic Years"}),_.map(y=>n.jsx("option",{value:y.ay,children:y.ay},y._id))]}),n.jsxs("select",{className:_n.filterDropdown,value:v,onChange:y=>c(y.target.value),children:[n.jsx("option",{value:"",children:"All Semesters"}),f.map(y=>n.jsx("option",{value:y.semester,children:y.semester},y._id))]})]}),n.jsx("div",{className:_n.tableContainer,children:n.jsxs("table",{className:_n.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"#"}),n.jsx("th",{children:"Subject Code"}),n.jsx("th",{children:"Subject Title"}),n.jsx("th",{children:"Course"}),n.jsx("th",{children:"Year"}),n.jsx("th",{children:"Section"}),n.jsx("th",{children:"Semester"}),n.jsx("th",{children:"Academic Year"}),n.jsx("th",{children:"Students"})]})}),n.jsx("tbody",{children:h.map((y,u)=>n.jsxs("tr",{children:[n.jsx("td",{children:u+1}),n.jsx("td",{children:y.subject_code}),n.jsx("td",{children:y.subject_title}),n.jsx("td",{children:y.course}),n.jsx("td",{children:y.year}),n.jsx("td",{children:y.section}),n.jsx("td",{children:y.semester}),n.jsx("td",{children:y.academic_year}),n.jsx("td",{children:n.jsx("div",{className:_n.actionRow,children:n.jsx("button",{onClick:()=>r(y._id),className:_n.studentsBtn,children:n.jsx("img",{src:Qp,className:_n.studentsImg})})})})]},y._id))})]})})]})})}function yo(){return n.jsx(n.Fragment,{children:n.jsx(wn,{})})}function $l(){return n.jsx(n.Fragment,{children:n.jsx(wn,{})})}const AN="_mainContainer_wvk7u_7",DN="_dashboardContent_wvk7u_27",TN="_searchBar_wvk7u_47",ON="_searchInput_wvk7u_65",MN="_buttonContainer_wvk7u_81",UN="_searchBtn_wvk7u_95",zN="_addBtn_wvk7u_97",qN="_addFile_wvk7u_99",VN="_csvFormat_wvk7u_101",HN="_studentConfirm_wvk7u_103",GN="_tableContainer_wvk7u_153",WN="_classInfoTable_wvk7u_165",YN="_view_wvk7u_205",QN="_editBtn_wvk7u_223",KN="_deleteBtn_wvk7u_225",JN="_listBtn_wvk7u_227",XN="_editImg_wvk7u_243",ZN="_deleteImg_wvk7u_245",eI="_listImg_wvk7u_247",tI="_approveBtn_wvk7u_257",nI="_rejectBtn_wvk7u_259",sI="_actionRow_wvk7u_319",rI="_actionRow2_wvk7u_331",aI="_modalOverlay_wvk7u_373",oI="_modal_wvk7u_373",iI="_addInput_wvk7u_457",lI="_btnRow_wvk7u_479",cI="_selectInput_wvk7u_493",dI="_editInput_wvk7u_511",uI="_editField_wvk7u_535",mI="_uploadField_wvk7u_553",fI="_cancelBtn_wvk7u_565",hI="_closeBtn_wvk7u_585",pI="_saveBtn_wvk7u_607",gI="_confirmDeleteBtn_wvk7u_609",_I="_uploadBtn_wvk7u_611",vI="_buttonRow_wvk7u_689",yI="_loader_wvk7u_711",xI="_slideRight_wvk7u_1",_e={mainContainer:AN,dashboardContent:DN,searchBar:TN,searchInput:ON,buttonContainer:MN,searchBtn:UN,addBtn:zN,addFile:qN,csvFormat:VN,studentConfirm:HN,tableContainer:GN,classInfoTable:WN,view:YN,editBtn:QN,deleteBtn:KN,listBtn:JN,editImg:XN,deleteImg:ZN,listImg:eI,approveBtn:tI,rejectBtn:nI,actionRow:sI,actionRow2:rI,modalOverlay:aI,modal:oI,addInput:iI,btnRow:lI,selectInput:cI,editInput:dI,editField:uI,uploadField:mI,cancelBtn:fI,closeBtn:hI,saveBtn:pI,confirmDeleteBtn:gI,uploadBtn:_I,buttonRow:vI,loader:yI,"l20-1":"_l20-1_wvk7u_1","l20-2":"_l20-2_wvk7u_1",slideRight:xI},bI=e=>{const[t,s]=j.useState([]),[r,a]=j.useState([]),[i,l]=j.useState(null),[o,d]=j.useState(!1),[g,v]=j.useState(!1),c=j.useCallback(async()=>{d(!0);try{const _=await U.get("/api/get_students",{params:{search:e}});s(_.data),e===""&&a(_.data),v(!0)}catch(_){E.error(`🚨 Error fetching students: ${_.message}`),l(_)}finally{d(!1)}},[e]);j.useEffect(()=>{c()},[c]),j.useEffect(()=>{g&&t.length>0&&E.info("👩‍🎓 Students data loaded successfully! 🎉")},[t,g]);const h=j.useCallback(()=>{v(!1),c()},[c]);return{students:t,originalStudents:r,errorStudent:i,studentLoading:o,refetch:h}},jI=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{deleteStudent:j.useCallback(async l=>{t(!0),r(null);try{await a(500);const o=await U.delete(`/api/del_student/${l}`);o.status===200?E.success("Student deleted successfully"):(E.error(`Failed to delete Student: ${o.statusText}`),r(new Error(`Failed with status ${o.status}`)))}catch(o){console.error("Error deleting Student:",o.response||o),E.error("Failed to delete Student"),r(o)}finally{t(!1)}},[]),loadingDelete:e,errorDelete:s}},wI=()=>{const[e,t]=j.useState({schoolID:"",last_name:"",first_name:"",middle_initial:"",email:"",college:"",course:"",year:"",section:"",curriculum_effective_year:""}),s=()=>{t({schoolID:"",last_name:"",first_name:"",middle_initial:"",email:"",college:"",course:"",year:"",section:"",curriculum_effective_year:""})},[r,a]=j.useState(!1),i=d=>d.replace(/\D/g,"").replace(/^(\d{2})(\d{1})(\d{4})$/,"$1-$2-$3");return{dataStudent:e,handleChangeStudent:d=>{const{name:g,value:v}=d.target;if(g==="schoolID"){const c=i(v);if(c.replace(/-/g,"").length>7){E.warn("School ID cannot exceed the format 12-3-4567.");return}t(h=>({...h,[g]:c}))}else t(c=>({...c,[g]:v}))},handleSubmitStudent:async()=>{var v,c;const d=te.object({schoolID:te.string().pattern(/^\d{2}-\d{1}-\d{4}$/).required(),last_name:te.string().required(),first_name:te.string().required(),middle_initial:te.string().required(),email:te.string().email({tlds:{allow:!1}}).required(),college:te.string().required(),course:te.string().required(),year:te.string().required(),section:te.string().required(),curriculum_effective_year:te.string().required()}),{error:g}=d.validate(e,{abortEarly:!1});if(g){E.error("Validation Error: "+g.details.map(h=>h.message).join(", "));return}a(!0);try{const h=await U.post("/api/post_register_student",e,{headers:{"Content-Type":"application/json"}});if(h.status===201)return E.success("Successfully Added New Student"),s(),h;E.error("Unexpected response status: "+h.status)}catch(h){const _=((c=(v=h.response)==null?void 0:v.data)==null?void 0:c.message)||h.message||"An unknown error occurred.";E.error(`Registration failed. Please try again. ${_}`)}finally{a(!1)}},resetStudentForm:s,isStudentLoading:r}},tg=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{uploadFile:async l=>{const o=new FormData;o.append("file",l),console.log("formData:");for(let[d,g]of o.entries())console.log(`${d}: ${g}`);t(!0),r(null);try{await a(500);const d=await U.post("/api/post_student_upload",o,{headers:{"Content-Type":"multipart/form-data"}});return E.success("File uploaded successfully!"),d.data}catch(d){throw console.error("Upload error:",d),E.error("Failed to upload file. Please try again."),r(d),d}finally{t(!1)}},loading:e,error:s}},CI=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const i=await U.get("/api/colleges");t(i.data)}catch{r("Error fetching colleges")}})()},[]),{colleges:e,error:s}},ng=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[a,i]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const o=await U.get("/api/curriculum_effective_year");t(o.data)}catch{i("Failed to fetch curriculum Effective Year")}finally{r(!1)}})()},[]),{curriculumEffectiveYear:e,loading:s,error:a}};function kl(){const{id:e}=ps(),{updatePath:t}=Rt(),[s,r]=j.useState(!1),[a,i]=j.useState(!1),[l,o]=j.useState(""),{deleteStudent:d,loadingDelete:g,errorDelete:v}=jI(),[c,h]=j.useState(null),[_,f]=j.useState(!1),{dataStudent:m,handleChangeStudent:y,handleSubmitStudent:u,resetStudentForm:p,isStudentLoading:x}=wI(),w=async T=>{T.preventDefault();const ye=await u();ye&&(ye.status===201?(p(),B()):E.error("Unexpected response status: "+ye.status))};j.useEffect(()=>{t("Students",e?`Student ${e}`:"")},[e,t]);const I=()=>{r(!0)},$=()=>{r(!1),f(!1),i(!1)},[N,b]=j.useState(""),{students:C,errorStudent:S,studentLoading:k,refetch:B}=bI(N),R=j.useCallback(gs(T=>{b(T)},100),[]),L=T=>{T.preventDefault(),R(T.target.value)},{uploadFile:A,loading:q,errorLoad:G}=tg(),[D,V]=j.useState(null),z=async T=>{if(T.preventDefault(),!D){E.warn("Please select a file to upload.");return}try{const ye=await A(D);B(),console.log("Upload successful:",ye),V(null),$()}catch(ye){console.error("Upload failed:",ye),ye.response&&console.error("Error response data:",ye.response.data),E.error("File upload failed. Please try again.")}},M=()=>{i(!0)},H=T=>{const ye=T.target.files[0];ye&&ye.type!=="text/csv"?(E.error("Only .csv files are allowed."),V(null)):V(ye)},me=()=>{const T=`schoolID,last_name,first_name,middle_initial,course,email,college,year,section,curriculum_effective_year
`,ye=new Blob([T],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(ye),ge=document.createElement("a");ge.href=F,ge.setAttribute("download","student_format.csv"),document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(F)},K=T=>{h(T),f(!0)},ue=async()=>{try{await d(c),f(!1),h(null),B()}catch(T){console.error("Failed to delete faculty staff:",T),E.error("Failed to delete faculty staff. Please try again.")}},{departments:Q}=_s(),{colleges:fe}=CI(),{yearLevels:Fe}=zi(),{sections:ie}=Qd(),{curriculumEffectiveYear:ne}=ng();return S?n.jsxs("p",{children:["Error fetching data: ",l.message]}):n.jsxs("div",{className:s||_?`${_e.mainContainer} ${_e.blurred}`:_e.mainContainer,children:[n.jsxs("div",{className:_e.dashboardContent,children:[n.jsxs("div",{className:_e.searchBar,children:[n.jsx("input",{type:"text",placeholder:"Search Student...",className:_e.searchInput,value:N,onChange:L}),n.jsxs("div",{className:_e.buttonContainer,children:[n.jsxs("button",{className:_e.addBtn,onClick:I,children:[n.jsx("img",{src:On,alt:""}),"Add"]}),n.jsxs("button",{className:_e.addFile,onClick:M,children:[n.jsx("img",{src:Dn,alt:""}),"Upload File"]}),n.jsxs("button",{className:_e.csvFormat,onClick:me,children:[n.jsx("img",{src:An,alt:""}),"CSV Format"]})]})]}),n.jsx("div",{className:_e.tableContainer,children:n.jsxs("table",{className:_e.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"#"}),n.jsx("th",{children:"Course"}),n.jsx("th",{children:"Student ID"}),n.jsx("th",{children:"Last Name"}),n.jsx("th",{children:"First Name"}),n.jsx("th",{children:"Middle Initial"}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:k?n.jsx("tr",{children:n.jsx("td",{colSpan:7,style:{textAlign:"center"},children:"Loading..."})}):C.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,style:{textAlign:"center"},children:"No Data Available"})}):C.map(T=>n.jsxs("tr",{children:[n.jsx("td",{children:T.originalStudent}),n.jsx("td",{children:T.course}),n.jsx("td",{children:T.schoolID}),n.jsx("td",{children:T.last_name}),n.jsx("td",{children:T.first_name}),n.jsx("td",{children:T.middle_initial}),n.jsx("td",{children:n.jsx("div",{className:_e.actionRow,children:n.jsx("button",{onClick:()=>K(T._id),className:_e.deleteBtn,children:n.jsx("img",{src:Vt,className:_e.deleteImg,alt:"Delete"})})})})]},T._id))})]})})]}),s&&n.jsx("div",{className:_e.modalOverlay,children:n.jsxs("div",{className:_e.modal,children:[n.jsx("h2",{children:"Add Student"}),n.jsxs("form",{onSubmit:w,children:[n.jsxs("div",{className:_e.addInput,children:[n.jsx("label",{children:"Student ID:"}),n.jsx("input",{type:"text",className:_e.editField,name:"schoolID",value:m.schoolID,onChange:y,required:!0})]}),n.jsxs("div",{className:_e.addInput,children:[n.jsx("label",{children:"Last Name:"}),n.jsx("input",{type:"text",className:_e.editField,name:"last_name",value:m.last_name,onChange:y,required:!0})]}),n.jsxs("div",{className:_e.addInput,children:[n.jsx("label",{children:"First Name:"}),n.jsx("input",{type:"text",className:_e.editField,name:"first_name",value:m.first_name,onChange:y,required:!0})]}),n.jsxs("div",{className:_e.addInput,children:[n.jsx("label",{children:"Middle Initial:"}),n.jsx("input",{type:"text",className:_e.editField,name:"middle_initial",value:m.middle_initial,onChange:y,required:!0})]}),n.jsxs("div",{className:_e.addInput,children:[n.jsx("label",{children:"Email:"}),n.jsx("input",{type:"email",className:_e.editField,name:"email",value:m.email,onChange:y,required:!0})]}),n.jsxs("div",{className:_e.addInput,children:[n.jsx("label",{children:"College:"}),n.jsxs("select",{type:"text",className:_e.selectInput,name:"college",value:m.college,onChange:y,required:!0,children:[n.jsx("option",{}),fe.map(T=>n.jsx("option",{value:T.college,children:T.college},T._id))]})]}),n.jsxs("div",{className:_e.addInput,children:[n.jsx("label",{children:"Course:"}),n.jsxs("select",{className:_e.selectInput,name:"course",value:m.course,onChange:y,required:!0,children:[n.jsx("option",{}),Q.map(T=>n.jsx("option",{value:T.department,children:T.department},T._id))]})]}),n.jsxs("div",{className:_e.addInput,children:[n.jsx("label",{children:"Year:"}),n.jsxs("select",{className:_e.selectInput,name:"year",value:m.year,onChange:y,required:!0,children:[n.jsx("option",{}),Fe.map(T=>n.jsx("option",{value:T.yearLevel,children:T.yearLevel},T._id))]})]}),n.jsxs("div",{className:_e.addInput,children:[n.jsx("label",{children:"Section:"}),n.jsxs("select",{className:_e.selectInput,name:"section",value:m.section,onChange:y,required:!0,children:[n.jsx("option",{}),ie.map(T=>n.jsx("option",{value:T.section,children:T.section},T._id))]})]}),n.jsxs("div",{className:_e.addInput,children:[n.jsx("label",{children:"Curriculum Effective Year:"}),n.jsxs("select",{className:_e.selectInput,name:"curriculum_effective_year",value:m.curriculum_effective_year,onChange:y,required:!0,children:[n.jsx("option",{}),ne.map(T=>n.jsx("option",{value:T.curriculum_effective_year,children:T.curriculum_effective_year},T._id))]})]}),n.jsxs("div",{className:_e.btnRow,children:[n.jsx("button",{type:"button",className:_e.cancelBtn,onClick:$,children:"Close"}),n.jsx("button",{type:"submit",className:_e.saveBtn,disabled:x,children:x?n.jsx("div",{className:_e.loader}):"Save"})]})]})]})}),a&&n.jsx("div",{className:_e.modalOverlay,children:n.jsxs("div",{className:_e.modal,children:[n.jsx("h2",{children:"Upload CSV File"}),n.jsxs("form",{onSubmit:z,children:[n.jsxs("div",{className:_e.uploadInput,children:[n.jsx("label",{children:"Select File:"}),n.jsx("input",{type:"file",accept:".csv",className:_e.uploadField,onChange:H}),G&&n.jsx("p",{className:_e.error,children:G})]}),n.jsxs("div",{className:_e.btnRow,children:[n.jsx("button",{type:"button",className:_e.cancelBtn,onClick:$,children:"Close"}),n.jsx("button",{type:"submit",className:_e.uploadBtn,disabled:q,children:q?n.jsx("div",{className:_e.loader}):"Upload"})]})]})]})}),_&&n.jsx("div",{className:_e.modalOverlay,children:n.jsxs("div",{className:_e.modal,children:[n.jsx("h2",{children:"Confirm Deletion"}),n.jsx("h4",{children:"Are you sure you want to delete this student?"}),n.jsxs("div",{className:_e.buttonRow,children:[n.jsx("button",{onClick:ue,disabled:g,className:_e.confirmDeleteBtn,children:g?n.jsx("div",{className:_e.loader}):"Yes, Delete"}),n.jsx("button",{onClick:()=>$(),className:_e.cancelBtn,children:"Cancel"})]})]})})]})}const SI="_mainContainer_dudr7_7",NI="_dashboardContent_dudr7_27",II="_searchBar_dudr7_43",$I="_searchInput_dudr7_61",kI="_filterDropdown_dudr7_77",EI="_uploadGradeBtn_dudr7_103",BI="_downloadBtn_dudr7_105",RI="_uploadGradeImg_dudr7_139",LI="_downloadImg_dudr7_141",FI="_tableContainer_dudr7_155",PI="_classInfoTable_dudr7_165",AI="_view_dudr7_205",DI="_calculateBtn_dudr7_223",TI="_calculateImg_dudr7_251",OI="_actionRow_dudr7_263",MI="_lowGrade_dudr7_275",UI="_modalOverlay_dudr7_297",zI="_modal_dudr7_297",qI="_slideRight_dudr7_1",VI="_addInput_dudr7_387",HI="_addInputRow_dudr7_411",GI="_removeComplete_dudr7_437",WI="_btnRow_dudr7_475",YI="_selectInput_dudr7_489",QI="_editInput_dudr7_507",KI="_editField_dudr7_531",JI="_uploadField_dudr7_549",XI="_cancelBtn_dudr7_561",ZI="_saveBtn_dudr7_579",e2="_confirmDeleteBtn_dudr7_581",t2="_uploadBtn_dudr7_583",n2="_buttonRow_dudr7_657",s2="_imageContainer_dudr7_673",r2="_imagePreview_dudr7_681",a2="_removeImageBtn_dudr7_707",o2="_loader_dudr7_751",i2="_buttonContainer_dudr7_855",l2="_searchBtn_dudr7_865",c2="_addBtn_dudr7_867",d2="_addFile_dudr7_869",u2="_csvFormat_dudr7_871",m2="_editBtn_dudr7_929",f2="_deleteBtn_dudr7_931",h2="_listBtn_dudr7_933",p2="_editImg_dudr7_941",g2="_deleteImg_dudr7_943",_2="_listImg_dudr7_945",oe={mainContainer:SI,dashboardContent:NI,searchBar:II,searchInput:$I,filterDropdown:kI,uploadGradeBtn:EI,downloadBtn:BI,uploadGradeImg:RI,downloadImg:LI,tableContainer:FI,classInfoTable:PI,view:AI,calculateBtn:DI,calculateImg:TI,actionRow:OI,lowGrade:MI,modalOverlay:UI,modal:zI,slideRight:qI,addInput:VI,addInputRow:HI,removeComplete:GI,btnRow:WI,selectInput:YI,editInput:QI,editField:KI,uploadField:JI,cancelBtn:XI,saveBtn:ZI,confirmDeleteBtn:e2,uploadBtn:t2,buttonRow:n2,imageContainer:s2,imagePreview:r2,removeImageBtn:a2,loader:o2,"l20-1":"_l20-1_dudr7_1","l20-2":"_l20-2_dudr7_1",buttonContainer:i2,searchBtn:l2,addBtn:c2,addFile:d2,csvFormat:u2,editBtn:m2,deleteBtn:f2,listBtn:h2,editImg:p2,deleteImg:g2,listImg:_2},v2="/assets/calculate-CXesYzKI.png",y2=e=>{const[t,s]=j.useState(!1),[r,a]=j.useState("");return{uploadGradeSheet:async(l,o,d)=>{s(!0),a("");const g=new FormData;g.append("file",l),g.append("instructorId",e),g.append("last_name",o);try{const v=await U.post("/api/post_upload_gradeSheet",g,{headers:{"Content-Type":"multipart/form-data"}});v.status===200&&d(v.data)}catch(v){throw console.error("Error uploading grade sheet:",v.response?v.response.data:v.message),v}finally{s(!1)}},loading:t,error:r}},x2=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),[a,i]=j.useState(null);return{loading:e,error:s,success:a,uploadRemovalCompletionForm:async o=>{var d,g;t(!0),r(null),i(null);try{const v=await U.post("/api/post-upload-removal-completion-form",o,{headers:{"Content-Type":"multipart/form-data"}});i(v.data.message),E.success("Successful")}catch(v){E.error(v),r(((g=(d=v.response)==null?void 0:d.data)==null?void 0:g.message)||"Failed to upload form")}finally{t(!1)}}}},Kd=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[a,i]=j.useState("");return j.useEffect(()=>{(async()=>{try{r(!0);const o=await U.get("/api/removal-completion");t(o.data)}catch(o){i("Failed to fetch removal completion data."),console.error(o)}finally{r(!1)}})()},[]),{removalCompleteData:e,loading:s,error:a}};function b2(){const{id:e}=ps(),{updatePath:t}=Rt(),[s,r]=j.useState(""),[a,i]=j.useState(null),l=mt();j.useEffect(()=>{t("Students",e?`Student ${e}`:"")},[e,t]);const o=(ae,le,ke,lt,yt)=>{t("Student Subjects","Student"),l(`/facultyStaff/students/student_grades/${ae}/${le}/${ke}`,{state:{subjectTitle:lt,subjectCode:yt}})},[d,g]=j.useState(""),v=j.useCallback(gs(ae=>{g(ae)},100),[]),c=ae=>{ae.preventDefault(),v(ae.target.value)},h=localStorage.getItem("token");let _="";if(h)try{_=vt(h).id}catch(ae){console.error("Failed to decode token:",ae)}const{uploadGradeSheet:f,loading:m,error:y}=y2(_),{uploadRemovalCompletionForm:u,loading:p,error:x}=x2(),{userDetails:w,loading:I,refetch:$}=Nr(_),[N,b]=j.useState(""),C=w?w.load.map(ae=>ae.subject_code):[],[S,k]=j.useState(!1),[B,R]=j.useState(!1),L=()=>{k(!1),z(!1),R(!1),Q(null)},A=()=>{k(!0)},q=()=>{R(!0)},G=ae=>{const le=ae.target.files[0];le&&i(le)},D=async ae=>{if(ae.preventDefault(),!a){E.error("Please select a file.");return}const le=w.last_name||"Unknown";try{await f(a,le,ke=>{E.success("Grade sheet uploaded successfully!"),k(!1)})}catch(ke){ke.response&&ke.response.data&&ke.response.data.error?E.error(`Failed to upload the grade sheet: ${ke.response.data.error}`):E.error("Failed to upload the grade sheet. Please try again.")}finally{$()}},[V,z]=j.useState(!1),M=()=>{const ae=document.createElement("a");ae.href="/assets/files/Grade-Sheet-Format.xlsx",ae.download="Grade-Sheet-Format.xlsx",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)},[H,me]=j.useState({date:"",last_name:"",first_name:"",middle_initial:"",status:"",subject:"",semester:"",academic_year:"",rating_obtained:"",instructor_professor:""}),K=ae=>{const{name:le,value:ke}=ae.target;me(lt=>({...lt,[le]:ke}))},[ue,Q]=j.useState(null),fe=ae=>{const le=ae.target.files[0];if(le){const ke=new FileReader;ke.onloadend=()=>{Q(ke.result)},ke.readAsDataURL(le)}},Fe=async ae=>{if(ae.preventDefault(),!ue){r("Please upload an image.");return}try{const le=new FormData;Object.keys(H).forEach(ke=>{le.append(ke,H[ke])}),le.append("formImage",ue),await u(le,ke=>{E.success("Removal / Completion form uploaded successfully!"),R(!1),me({date:"",last_name:"",first_name:"",middle_initial:"",status:"",subject:"",semester:"",academic_year:"",rating_obtained:"",instructor_professor:""}),Q(null)})}catch{r("Failed to upload the removal / completion form. Please try again."),E.error("Failed to upload the removal / completion form. Please try again.")}},{removalCompleteData:ie,error:ne}=Kd(),{uploadFile:T,uploadingStudent:ye,errorLoad:F}=tg(),ge=async ae=>{if(ae.preventDefault(),!a){E.warn("Please select a file to upload.");return}try{const le=await T(a);$(),console.log("Upload successful:",le),i(null),L()}catch(le){console.error("Upload failed:",le),le.response&&console.error("Error response data:",le.response.data),E.error("File upload failed. Please try again.")}},de=()=>{z(!0)},Y=ae=>{const le=ae.target.files[0];le&&le.type!=="text/csv"?(E.error("Only .csv files are allowed."),i(null)):i(le)},ze=()=>{const ae=`schoolID,last_name,first_name,middle_initial,course,email,college,year,section,curriculum_effective_year
`,le=new Blob([ae],{type:"text/csv;charset=utf-8;"}),ke=URL.createObjectURL(le),lt=document.createElement("a");lt.href=ke,lt.setAttribute("download","student_format.csv"),document.body.appendChild(lt),lt.click(),document.body.removeChild(lt),URL.revokeObjectURL(ke)};return n.jsxs("div",{className:oe.mainContainer,children:[n.jsxs("div",{className:oe.dashboardContent,children:[n.jsxs("div",{className:oe.searchBar,children:[n.jsx("input",{type:"text",placeholder:"Search Student...",className:oe.searchInput,value:d,onChange:c}),n.jsxs("select",{className:oe.filterDropdown,value:N,onChange:ae=>b(ae.target.value),children:[n.jsx("option",{value:"",children:"All Subjects"}),C.map((ae,le)=>n.jsx("option",{value:ae,children:ae},le))]}),n.jsxs("button",{className:oe.uploadGradeBtn,onClick:A,children:[n.jsx("img",{src:Dn,className:oe.uploadGradeImg}),"Upload Grades"]}),n.jsxs("button",{className:oe.downloadBtn,onClick:M,children:[n.jsx("img",{src:An,className:oe.downloadImg}),"Grade Sheet Format"]}),n.jsx("button",{className:oe.downloadBtn,onClick:q,children:"Removal / Completion Form"}),n.jsxs("button",{className:oe.uploadGradeBtn,onClick:de,children:[n.jsx("img",{src:Dn,className:oe.uploadGradeImg}),"Upload Student Account"]}),n.jsxs("button",{className:oe.downloadBtn,onClick:ze,children:[n.jsx("img",{src:An,className:oe.downloadImg}),"CSV Format Student Account"]})]}),n.jsx("div",{className:oe.tableContainer,children:n.jsxs("table",{className:oe.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"#"}),n.jsx("th",{children:"Last Name"}),n.jsx("th",{children:"First Name"}),n.jsx("th",{children:"Middle Name"}),n.jsx("th",{children:"Midterm"}),n.jsx("th",{children:"Final"}),n.jsx("th",{children:"Final Rating"}),n.jsx("th",{children:"Compute"})]})}),n.jsx("tbody",{children:w&&w.load.map(ae=>(!N||ae.subject_code===N)&&ae.students.map((le,ke)=>{const lt=ie.find(rt=>rt.last_name===le.last_name&&rt.subject===ae.subject_code&&rt.semester===ae.semester&&rt.academic_year===ae.academic_year),yt=lt?lt.rating_obtained:"",ee=parseFloat(le.FINAL_GRADE)>3||parseFloat(yt)>3;return n.jsxs("tr",{children:[n.jsx("td",{children:ke+1}),n.jsx("td",{children:le.last_name}),n.jsx("td",{children:le.first_name}),n.jsx("td",{children:le.middle_initial}),n.jsx("td",{className:parseFloat(le.midterm_grade)>3?oe.lowGrade:"",children:le.midterm_grade}),n.jsx("td",{className:parseFloat(le.finalterm_grade)>3?oe.lowGrade:"",children:le.finalterm_grade}),n.jsx("td",{className:ee?oe.lowGrade:"",children:lt?n.jsxs(n.Fragment,{children:[le.FINAL_GRADE," / ",yt]}):le.FINAL_GRADE}),n.jsx("td",{children:n.jsx("div",{className:oe.actionRow,children:n.jsx("button",{onClick:()=>o(_,le._id,ae._id,ae.subject_title,ae.subject_code),className:oe.calculateBtn,title:"Compute Grades",children:n.jsx("img",{src:v2,className:oe.calculateImg,alt:"Calculate"})})})})]},le._id)}))})]})})]}),S&&n.jsx("div",{className:oe.modalOverlay,children:n.jsxs("div",{className:oe.modal,children:[n.jsx("h2",{children:"Upload Grade Sheet"}),n.jsxs("form",{onSubmit:D,children:[n.jsxs("div",{className:oe.uploadInput,children:[n.jsx("label",{children:"Select File:"}),n.jsx("input",{type:"file",accept:".csv, .xlsx, .xls",className:oe.uploadField,onChange:G})]}),n.jsxs("div",{className:oe.btnRow,children:[n.jsx("button",{type:"button",className:oe.cancelBtn,onClick:L,children:"Close"}),n.jsx("button",{type:"submit",className:oe.uploadBtn,disabled:m,children:m?n.jsx("div",{className:oe.loader}):"Upload"})]})]})]})}),B&&n.jsx("div",{className:oe.modalOverlay,children:n.jsxs("div",{className:oe.modal,children:[n.jsx("h2",{children:"Removal / Completion Form"}),n.jsxs("form",{onSubmit:Fe,children:[n.jsxs("div",{className:oe.addInput,children:[n.jsx("label",{children:"Date:"}),n.jsx("input",{type:"date",className:oe.editField,name:"date",value:H.date,onChange:K,required:!0})]}),n.jsxs("div",{className:oe.addInputRow,children:[n.jsxs("div",{className:oe.addInput,children:[n.jsx("label",{children:"Last Name:"}),n.jsx("input",{type:"text",className:oe.editField,name:"last_name",value:H.last_name,onChange:K,required:!0})]}),n.jsxs("div",{className:oe.addInput,children:[n.jsx("label",{children:"First Name:"}),n.jsx("input",{type:"text",className:oe.editField,name:"first_name",value:H.first_name,onChange:K,required:!0})]}),n.jsxs("div",{className:oe.addInput,children:[n.jsx("label",{children:"Middle Initial:"}),n.jsx("input",{type:"text",className:oe.editField,name:"middle_initial",value:H.middle_initial,onChange:K,required:!0})]})]}),n.jsx("div",{className:oe.addInput,children:n.jsxs("div",{className:oe.removeComplete,children:[n.jsx("p",{children:"Has:"}),n.jsxs("label",{htmlFor:"removed",children:[n.jsx("input",{type:"radio",name:"status",id:"removed",value:"Removed",checked:H.status==="Removed",onChange:K}),"Removed"]}),n.jsxs("label",{htmlFor:"completed",children:[n.jsx("input",{type:"radio",name:"status",id:"completed",value:"Completed",checked:H.status==="Completed",onChange:K}),"Completed"]})]})}),n.jsxs("div",{className:oe.addInput,children:[n.jsx("label",{children:"Subject:"}),n.jsx("input",{type:"text",className:oe.editField,name:"subject",value:H.subject,onChange:K,required:!0})]}),n.jsxs("div",{className:oe.addInputRow,children:[n.jsxs("div",{className:oe.addInput,children:[n.jsx("label",{children:"Semester:"}),n.jsxs("select",{className:oe.selectInput,name:"semester",value:H.semester,onChange:K,required:!0,children:[n.jsx("option",{}),n.jsx("option",{value:"1st",children:"1st"}),n.jsx("option",{value:"2nd",children:"2nd"}),n.jsx("option",{value:"Summer",children:"Summer"})]})]}),n.jsxs("div",{className:oe.addInput,children:[n.jsx("label",{children:"School Year:"}),n.jsxs("select",{className:oe.selectInput,name:"academic_year",value:H.school_year,onChange:K,required:!0,children:[n.jsx("option",{}),n.jsx("option",{value:"2024-2025",children:"2024-2025"}),n.jsx("option",{value:"2025-2026",children:"2025-2026"})]})]})]}),n.jsxs("div",{className:oe.addInput,children:[n.jsx("label",{children:"RATING OBTAINED:"}),n.jsx("input",{type:"text",className:oe.editField,name:"rating_obtained",value:H.rating_obtained,onChange:K,required:!0})]}),n.jsxs("div",{className:oe.addInput,children:[n.jsx("label",{children:"Instructor/Professor:"}),n.jsx("input",{type:"text",className:oe.editField,name:"instructor_professor",value:H.instructor_professor,onChange:K,required:!0})]}),n.jsxs("div",{className:oe.addInput,children:[n.jsx("label",{children:"Removal / Completion Form Image:"}),n.jsx("input",{type:"file",accept:"image/*",className:oe.editField,name:"formImage",onChange:fe,required:!0}),ue&&n.jsxs("div",{className:oe.imageContainer,children:[n.jsx("button",{type:"button",className:oe.removeImageBtn,onClick:()=>Q(null),children:"X"}),n.jsx("img",{src:ue,alt:"Uploaded Preview",className:oe.imagePreview})]})]}),n.jsxs("div",{className:oe.btnRow,children:[n.jsx("button",{type:"button",className:oe.cancelBtn,onClick:L,children:"Close"}),n.jsx("button",{type:"submit",className:oe.saveBtn,disabled:p,children:p?n.jsx("div",{className:oe.loader}):"Save"})]})]})]})}),V&&n.jsx("div",{className:oe.modalOverlay,children:n.jsxs("div",{className:oe.modal,children:[n.jsx("h2",{children:"Upload CSV File"}),n.jsxs("form",{onSubmit:ge,children:[n.jsxs("div",{className:oe.uploadInput,children:[n.jsx("label",{children:"Select File:"}),n.jsx("input",{type:"file",accept:".csv",className:oe.uploadField,onChange:Y})]}),n.jsxs("div",{className:oe.btnRow,children:[n.jsx("button",{type:"button",className:oe.cancelBtn,onClick:L,children:"Close"}),n.jsx("button",{type:"submit",className:oe.uploadBtn,disabled:ye,children:ye?n.jsx("div",{className:oe.loader}):"Upload"})]})]})]})})]})}function j2(){return n.jsx(n.Fragment,{children:n.jsx(wn,{})})}const w2="_mainContainer_1efv3_7",C2="_dashboardContent_1efv3_27",S2="_dashboardHeader_1efv3_39",N2="_studentLabel_1efv3_61",I2="_searchBar_1efv3_81",$2="_backArrow_1efv3_99",k2="_backBtn_1efv3_107",E2="_subjectInfo_1efv3_121",B2="_infoH2_1efv3_129",R2="_infoSpan_1efv3_143",L2="_instructorInfo_1efv3_209",F2="_searchInput_1efv3_253",P2="_buttonContainer_1efv3_267",A2="_searchBtn_1efv3_279",D2="_addBtn_1efv3_281",T2="_addFile_1efv3_283",O2="_csvFormat_1efv3_285",M2="_tableContainer_1efv3_335",U2="_classInfoTable_1efv3_345",z2="_gradeCard_1efv3_385",q2="_gradeInputs_1efv3_401",V2="_submitBtn_1efv3_435",H2="_lowGrade_1efv3_461",G2="_modalOverlay_1efv3_477",W2="_modal_1efv3_477",Y2="_addInput_1efv3_561",Q2="_btnRow_1efv3_583",K2="_selectInput_1efv3_597",J2="_editInput_1efv3_615",X2="_editField_1efv3_639",Z2="_uploadField_1efv3_657",e$="_cancelBtn_1efv3_669",t$="_saveBtn_1efv3_687",n$="_confirmDeleteBtn_1efv3_689",s$="_uploadBtn_1efv3_691",r$="_buttonRow_1efv3_763",a$="_loader_1efv3_785",o$="_slideRight_1efv3_1",Nt={mainContainer:w2,dashboardContent:C2,dashboardHeader:S2,studentLabel:N2,searchBar:I2,backArrow:$2,backBtn:k2,subjectInfo:E2,infoH2:B2,infoSpan:R2,instructorInfo:L2,searchInput:F2,buttonContainer:P2,searchBtn:A2,addBtn:D2,addFile:T2,csvFormat:O2,tableContainer:M2,classInfoTable:U2,gradeCard:z2,gradeInputs:q2,submitBtn:V2,lowGrade:H2,modalOverlay:G2,modal:W2,addInput:Y2,btnRow:Q2,selectInput:K2,editInput:J2,editField:X2,uploadField:Z2,cancelBtn:e$,saveBtn:t$,confirmDeleteBtn:n$,uploadBtn:s$,buttonRow:r$,loader:a$,"l20-1":"_l20-1_1efv3_1","l20-2":"_l20-2_1efv3_1",slideRight:o$},Ir="/assets/back-CFENiYxB.png",i$=(e,t,s,r,a)=>{const[i,l]=j.useState(!1),[o,d]=j.useState(null),[g,v]=j.useState(!1);return{loading:i,error:o,success:g,updateGrades:async()=>{l(!0),d(null),v(!1);try{(await U.post("/api/post_update_final_grade",{instructorId:e,studentId:t,midtermGrade:s,finalGrade:r})).status===200&&(v(!0),E.success("Grades updated successfully!"),a&&await a())}catch(h){d(h.message),E.error(h.message)}finally{l(!1)}}}};function l$(){const e=br(),t=mt(),{instructorId:s,studentId:r,subjectId:a}=ps(),[i,l]=j.useState(""),[o,d]=j.useState(""),[g,v]=j.useState(""),{subjectTitle:c,subjectCode:h}=e.state||{},_=()=>{t("/facultyStaff/students")},f=localStorage.getItem("token");let m="";if(f)try{m=vt(f).id}catch(A){console.error("Failed to decode token:",A)}const{userDetails:y,refetch:u}=Nr(m),p=y==null?void 0:y.load.find(A=>A._id===a),x=p==null?void 0:p.students.find(A=>A._id===r),{removalCompleteData:w,error:I}=Kd(),[$,N]=j.useState(""),[b,C]=j.useState(!1);j.useEffect(()=>{x&&(l(x.midterm_grade||""),d(x.finalterm_grade||""),v(x.FINAL_GRADE||""),N(x.FINAL_GRADE||""))},[x]),j.useEffect(()=>{if(w){const A=w.find(q=>q.last_name===(x==null?void 0:x.last_name));C(!!A),A&&N(A.rating_obtained)}},[w,x]);const S=async()=>{await u()},{loading:k,error:B,updateGrades:R}=i$(s,r,i,o,S),L=()=>{R()};return n.jsx("div",{className:Nt.mainContainer,children:n.jsxs("div",{className:Nt.dashboardContent,children:[n.jsx("div",{className:Nt.searchBarContainer,children:n.jsx("div",{className:Nt.searchBar,children:n.jsx("button",{onClick:_,className:Nt.backBtn,children:n.jsx("img",{src:Ir,className:Nt.backArrow,alt:"Back"})})})}),n.jsxs("div",{className:Nt.studentLabel,children:["Grades for Subject: ",h," ",c]}),n.jsx("div",{className:Nt.tableContainer,children:x?n.jsxs("div",{children:[n.jsxs("table",{className:Nt.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Last Name"}),n.jsx("th",{children:"First Name"}),n.jsx("th",{children:"Middle Initial"}),n.jsx("th",{children:"Midterm"}),n.jsx("th",{children:"Final"}),n.jsx("th",{children:"FINAL GRADE"})]})}),n.jsx("tbody",{children:n.jsxs("tr",{children:[n.jsx("td",{children:x.last_name}),n.jsx("td",{children:x.first_name}),n.jsx("td",{children:x.middle_initial}),n.jsx("td",{className:parseFloat(i)>3?Nt.lowGrade:"",children:i}),n.jsx("td",{className:parseFloat(o)>3?Nt.lowGrade:"",children:o}),n.jsx("td",{className:parseFloat(g)>3||parseFloat($)>3?Nt.lowGrade:"",children:b?n.jsxs(n.Fragment,{children:[g," / ",$]}):g})]},x._id)})]}),n.jsxs("div",{className:Nt.gradeCard,children:[n.jsx("h3",{children:"Update Grades"}),n.jsxs("div",{className:Nt.gradeInputs,children:[n.jsxs("label",{children:["Midterm Grade:",n.jsx("input",{type:"number",step:"0.01",value:i,onChange:A=>l(A.target.value)})]}),n.jsxs("label",{children:["Final Grade:",n.jsx("input",{type:"number",step:"0.01",value:o,onChange:A=>d(A.target.value)})]})]}),n.jsx("button",{onClick:L,className:Nt.submitBtn,disabled:k,children:"Submit Changes"}),B&&n.jsxs("p",{children:["Error: ",B]}),I&&n.jsxs("p",{children:["Error fetching removal complete status: ",I]})]})]}):n.jsx("p",{children:"No student found with the provided ID."})})]})})}const c$="_mainContainer_4l7gb_5",d$="_dashboardContent_4l7gb_25",u$="_searchBar_4l7gb_41",m$="_searchInput_4l7gb_55",f$="_filterDropdown_4l7gb_81",h$="_tableContainer_4l7gb_115",p$="_classInfoTable_4l7gb_125",g$="_first_4l7gb_169",_$="_second_4l7gb_175",v$="_third_4l7gb_181",y$="_regular_4l7gb_187",x$="_searchBtn_4l7gb_231",b$="_slideRight_4l7gb_1",Ft={mainContainer:c$,dashboardContent:d$,searchBar:u$,searchInput:m$,filterDropdown:f$,tableContainer:h$,classInfoTable:p$,first:g$,second:_$,third:v$,regular:y$,searchBtn:x$,slideRight:b$};function j$(e,t,s,r){const[a,i]=j.useState([]),[l,o]=j.useState(!0),[d,g]=j.useState(null),[v,c]=j.useState(!1);return j.useEffect(()=>{(async()=>{o(!0);try{const _=await U.get("/api/get_leaderboard",{params:{search:e,academicYear:t,semester:s,course:r}});i(_.data),_.data.length>0?E.info("🏆 Leaderboard data loaded successfully! 🎉"):E.info("📄 No data found for the leaderboard."),c(!0)}catch(_){g(_.message),E.error(`🚨 Error fetching leaderboard: ${_.message}`)}finally{o(!1)}})()},[e,t,s,r]),{leaderboard:a,loading:l,error:d}}function Vr(){const[e,t]=j.useState(""),[s,r]=j.useState(""),[a,i]=j.useState(""),[l,o]=j.useState(""),{departments:d}=_s(),{academicYears:g}=Ts(),{semesters:v}=vs(),{leaderboard:c,loading:h,error:_}=j$(e,s,a,l);return n.jsx("div",{className:Ft.mainContainer,children:n.jsxs("div",{className:Ft.dashboardContent,children:[n.jsx("div",{className:Ft.searchBar,children:n.jsx("input",{type:"text",placeholder:"Search Subject, Academic Year...",className:Ft.searchInput,value:e,onChange:f=>t(f.target.value)})}),n.jsxs("div",{className:Ft.filters,children:[n.jsxs("select",{className:Ft.filterDropdown,value:l,onChange:f=>o(f.target.value),children:[n.jsx("option",{value:"",children:"All Courses"}),d.map(f=>n.jsx("option",{value:f.department,children:f.department},f._id))]}),n.jsxs("select",{className:Ft.filterDropdown,value:s,onChange:f=>r(f.target.value),children:[n.jsx("option",{value:"",children:"All Academic Years"}),g.map(f=>n.jsx("option",{value:f.ay,children:f.ay},f._id))]}),n.jsxs("select",{className:Ft.filterDropdown,value:a,onChange:f=>i(f.target.value),children:[n.jsx("option",{value:"",children:"All Semesters"}),v.map(f=>n.jsx("option",{value:f.semester,children:f.semester},f._id))]})]}),n.jsx("div",{className:Ft.tableContainer,children:n.jsxs("table",{className:Ft.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"#"}),n.jsx("th",{children:"Student ID"}),n.jsx("th",{children:"Last Name"}),n.jsx("th",{children:"First Name"}),n.jsx("th",{children:"Middle Initial"}),n.jsx("th",{children:"Course"}),n.jsx("th",{children:"AY"}),n.jsx("th",{children:"Semester"}),n.jsx("th",{children:"GWA"})]})}),n.jsx("tbody",{children:h?n.jsx("tr",{children:n.jsx("td",{colSpan:"9",style:{textAlign:"center"},children:"Loading..."})}):_?n.jsx("tr",{children:n.jsxs("td",{colSpan:"9",style:{textAlign:"center"},children:["Error: ",_]})}):c.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"9",style:{textAlign:"center"},children:"No students found."})}):c.map((f,m)=>{const{_id:y,last_name:u,first_name:p,middle_initial:x,schoolID:w,course:I,grades:$}=f;return $.filter(b=>a?b.semester===a:!0).map((b,C)=>{const{GWA:S="",academic_year:k="",semester:B=""}=b;let R="";return m===0?R=Ft.first:m===1?R=Ft.second:m===2?R=Ft.third:R=Ft.regular,n.jsxs("tr",{className:R,children:[n.jsx("td",{children:m+1})," ",n.jsx("td",{children:w}),n.jsx("td",{children:u}),n.jsx("td",{children:p}),n.jsx("td",{children:x}),n.jsx("td",{children:I}),n.jsx("td",{children:k}),n.jsx("td",{children:B}),n.jsx("td",{children:S})]},`${y}-${C}`)})})})]})})]})})}function w$(){const[e,t]=j.useState([]),[s,r]=j.useState(!0),[a,i]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const o=await U.get("/api/activity-logs");t(o.data),E.info("📜 Activity logs loaded successfully! 🎉")}catch(o){E.error("🚨 Error fetching activity logs: "+o.message),i(o)}finally{r(!1)}})()},[]),{logs:e,loading:s,error:a}}const C$="_mainContainer_1q6px_7",S$="_dashboardContent_1q6px_27",N$="_dashboardHeader_1q6px_39",I$="_dashboardEntrance_1q6px_57",$$="_dashboardWelcome_1q6px_83",k$="_wrapper_1q6px_95",E$="_bellIcon_1q6px_105",B$="_shake_1q6px_1",R$="_dashboardIconB_1q6px_191",L$="_dashboardSpan_1q6px_205",F$="_hr1_1q6px_233",P$="_tableContainer_1q6px_257",A$="_classInfoTable_1q6px_267",D$="_slider_1q6px_331",T$="_timestamp_1q6px_343",O$="_slideRight_1q6px_1",qs={mainContainer:C$,dashboardContent:S$,dashboardHeader:N$,dashboardEntrance:I$,dashboardWelcome:$$,wrapper:k$,bellIcon:E$,shake:B$,dashboardIconB:R$,dashboardSpan:L$,hr1:F$,tableContainer:P$,classInfoTable:A$,slider:D$,timestamp:T$,slideRight:O$},M$="/assets/slider-DDt065LY.png";function U$(){const{logs:e,loading:t,error:s}=w$();return t?n.jsx("p",{children:"Loading..."}):s?n.jsx("p",{children:"Error fetching logs"}):n.jsx("div",{className:qs.mainContainer,children:n.jsx("div",{className:qs.dashboardContent,children:n.jsx("div",{className:qs.tableContainer,children:n.jsx("table",{className:qs.classInfoTable,children:n.jsx("tbody",{children:e.map(r=>n.jsxs("tr",{children:[n.jsxs("td",{children:[n.jsx("img",{src:M$,className:qs.slider}),r.userId," - ",r.activity]}),n.jsx("td",{children:n.jsx("span",{className:qs.timestamp,children:new Date(r.timestamp).toLocaleString()})})]},r._id))})})})})})}const z$="_mainContainer_1f3w7_7",q$="_addBtn_1f3w7_23",V$="_dashboardContent_1f3w7_57",H$="_verifiedMessage_1f3w7_73",G$="_verifiedIcon_1f3w7_105",W$="_accountVerificationContainer_1f3w7_121",Y$="_verificationForm_1f3w7_133",Q$="_verifyButton_1f3w7_143",K$="_sendCodeButton_1f3w7_177",J$="_userConfig_1f3w7_195",X$="_columnContainer_1f3w7_205",Z$="_column_1f3w7_205",ek="_userConfigInputField_1f3w7_223",tk="_submitButton_1f3w7_239",nk="_togglePasswordButton_1f3w7_257",sk="_passwordContainer_1f3w7_293",rk="_formContainer_1f3w7_345",ak="_showPass_1f3w7_381",ok="_buttonContainer_1f3w7_393",ik="_saveButton_1f3w7_401",lk="_showPasswordButton_1f3w7_429",ck="_userConfigContainer_1f3w7_445",dk="_imageContainer_1f3w7_515",uk="_profileImg_1f3w7_539",mk="_removeImageButton_1f3w7_555",fk="_editButton_1f3w7_601",hk="_cancel_1f3w7_657",pk="_modalOverlay_1f3w7_687",gk="_modal_1f3w7_687",_k="_loader_1f3w7_813",vk="_spin_1f3w7_1",yk="_addInput_1f3w7_843",xk="_btnRow_1f3w7_867",bk="_btnRows_1f3w7_881",jk="_selectInput_1f3w7_897",wk="_editInput_1f3w7_915",Ck="_editField_1f3w7_939",Sk="_uploadField_1f3w7_957",Nk="_cancelBtn_1f3w7_969",Ik="_saveBtn_1f3w7_989",$k="_confirmDeleteBtn_1f3w7_991",kk="_uploadBtn_1f3w7_993",Ek="_buttonRow_1f3w7_1071",Bk="_filterDropdown_1f3w7_1089",Rk="_slideRight_1f3w7_1",he={mainContainer:z$,addBtn:q$,dashboardContent:V$,verifiedMessage:H$,verifiedIcon:G$,accountVerificationContainer:W$,verificationForm:Y$,verifyButton:Q$,sendCodeButton:K$,userConfig:J$,columnContainer:X$,column:Z$,userConfigInputField:ek,submitButton:tk,togglePasswordButton:nk,passwordContainer:sk,formContainer:rk,showPass:ak,buttonContainer:ok,saveButton:ik,showPasswordButton:lk,userConfigContainer:ck,imageContainer:dk,profileImg:uk,removeImageButton:mk,editButton:fk,cancel:hk,modalOverlay:pk,modal:gk,loader:_k,spin:vk,addInput:yk,btnRow:xk,btnRows:bk,selectInput:jk,editInput:wk,editField:Ck,uploadField:Sk,cancelBtn:Nk,saveBtn:Ik,confirmDeleteBtn:$k,uploadBtn:kk,buttonRow:Ek,filterDropdown:Bk,"l20-1":"_l20-1_1f3w7_1","l20-2":"_l20-2_1f3w7_1",slideRight:Rk},Bn="/assets/user_icon-cwaBj3h3.png",$r="/assets/verified-DQFa-v6S.png",Lk=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{updateAdminDetails:async(l,o)=>{try{t(!0),r(null),await a(100);const d=await U.put(`/api/admin-details/${l}`,o,{headers:{"Content-Type":"multipart/form-data"}});return t(!1),d.data}catch(d){throw r(d),t(!1),d}},loading:e,error:s}},Jd=e=>{const[t,s]=j.useState(null),[r,a]=j.useState(!0),[i,l]=j.useState(null),o=j.useCallback(async()=>{if(e)try{a(!0);const d=await U.get(`/api/get-college-staff-details/${e}`);s(d.data),l(null)}catch(d){l(d.message||"Failed to fetch user details")}finally{a(!1)}},[e]);return j.useEffect(()=>{o()},[o]),{collegeStaffUserDetails:t,loading:r,error:i,refetch:o}},Fk=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{updateCollegeStaffDetails:async(l,o)=>{try{t(!0),await a(100),r(null);const d=await U.put(`/api/college-staff-details/${l}`,o,{headers:{"Content-Type":"multipart/form-data"}});return t(!1),d.data}catch(d){throw r(d),t(!1),d}},loading:e,error:s}},Pk=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[a,i]=j.useState(null),l=async()=>{try{const d=await U.get("/api/departments");t(d.data)}catch(d){i(d)}finally{r(!1)}},o=async d=>{if(d){r(!0);try{const g=await U.post("/api/departments",{department:d});t(v=>[...v,g.data])}catch(g){i(g)}finally{r(!1)}}};return j.useEffect(()=>{l()},[]),{addDepartments:e,isLoading:s,error:a,addDepartment:o}},Ak=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[a,i]=j.useState(null),l=async()=>{r(!0);try{const d=await U.get("/api/academic-years");t(d.data)}catch(d){i(d)}finally{r(!1)}},o=async d=>{if(d){r(!0);try{const g=await U.post("/api/academic-years",{ay:d});t(v=>[...v,g.data])}catch(g){i(g)}finally{r(!1)}}};return j.useEffect(()=>{l()},[]),{academicYear:e,isLoadingAY:s,error:a,addAcademicYear:o}},Dk=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[a,i]=j.useState(null),l=async()=>{r(!0);try{const d=await U.get("/api/year-levels");t(d.data)}catch(d){i(d)}finally{r(!1)}},o=async d=>{if(d){r(!0);try{const g=await U.post("/api/year-levels",{yearLevel:d});t(v=>[...v,g.data])}catch(g){i(g)}finally{r(!1)}}};return j.useEffect(()=>{l()},[]),{yearLevel:e,isLoadingYL:s,error:a,addYearLevel:o}},Tk=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[a,i]=j.useState(null),l=async()=>{r(!0);try{const d=await U.get("/api/sections");t(d.data)}catch(d){i(d)}finally{r(!1)}},o=async d=>{if(d){r(!0);try{const g=await U.post("/api/sections",{section:d});t(v=>[...v,g.data])}catch(g){i(g)}finally{r(!1)}}};return j.useEffect(()=>{l()},[]),{section:e,isLoadingSections:s,error:a,addSection:o}},Ok=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[a,i]=j.useState(null),l=async()=>{r(!0);try{const d=await U.get("/api/semesters");t(d.data)}catch(d){i(d)}finally{r(!1)}},o=async d=>{if(d){r(!0);try{const g=await U.post("/api/semesters",{semester:d});t(v=>[...v,g.data])}catch(g){i(g)}finally{r(!1)}}};return j.useEffect(()=>{l()},[]),{semester:e,isLoadingSem:s,error:a,addSemester:o}},Mk=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[a,i]=j.useState(null),l=async()=>{r(!0);try{const d=await U.get("/api/curriculum_effective_year");t(d.data)}catch(d){i(d)}finally{r(!1)}},o=async d=>{if(d){r(!0);try{const g=await U.post("/api/curriculum_effective_year",{curriculum_effective_year:d});t(v=>[...v,g.data])}catch(g){i(g),console.error("Error adding curriculum:",g.response?g.response.data:g)}finally{r(!1)}}};return j.useEffect(()=>{l()},[]),{curriculum_effective_year:e,isLoadingCurriculum:s,error:a,addCurriculum:o}};function El(){const[e,t]=j.useState(!1),[s,r]=j.useState(null),[a,i]=j.useState(!1),[l,o]=j.useState({ID:"",last_name:"",first_name:"",middle_initial:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""}),d=j.useRef(null),g=()=>{t(!e)},v=async()=>{i(!a)},c=pe=>{const Lt=pe.target.files[0];if(Lt){const bt=new FileReader;bt.onloadend=()=>{r(bt.result)},bt.readAsDataURL(Lt)}},h=()=>{r(null),d.current&&(d.current.value="")},_=pe=>{const{name:Lt,value:bt}=pe.target;o(tu=>({...tu,[Lt]:bt}))},f=localStorage.getItem("token");let m="",y="";if(f)try{const pe=vt(f);m=pe.id,y=pe.title}catch(pe){console.error("Failed to decode token:",pe)}const{userDetails:u,loading:p,refetch:x}=Wd(m),{collegeStaffUserDetails:w}=Jd(m),{updateAdminDetails:I,loading:$,error:N}=Lk(),{updateCollegeStaffDetails:b}=Fk();let C=null;y==="admin"&&u?C=u:y==="college_staff"&&w&&(C=w),j.useEffect(()=>{if(C&&Object.keys(C).length>0){const Lt=C.user_profile?`http://localhost:5000${C.user_profile.startsWith("/uploads")?"":"/uploads/user-profiles/"}${C.user_profile}`:Bn;r(Lt),o({ID:C.ID||"",last_name:C.last_name||"",first_name:C.first_name||"",middle_initial:C.middle_initial||"",email:C.email||"",currentPassword:"",newPassword:"",confirmPassword:""})}},[C]);const S=()=>l.newPassword!==l.confirmPassword?(E.error("New password and confirm password do not match"),!1):!0,k=async()=>{let pe="";y==="admin"?pe="/api/validate-current-password-admin":y==="college_staff"&&(pe="/api/validate-current-password-college-staff");try{return(await U.post(pe,{userId:m,currentPassword:l.currentPassword})).data.valid}catch(Lt){return console.error("Error validating current password:",Lt),E.error("Error validating current password"),!1}},B=pe=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(pe),R=async pe=>{if(pe.preventDefault(),!B(l.newPassword)){E.error("New password must be at least 8 characters long and include an uppercase letter, lowercase letter, number, and special character.");return}if(!S()||!await k())return;const bt=new FormData;bt.append("ID",l.ID),bt.append("last_name",l.last_name),bt.append("first_name",l.first_name),bt.append("middle_initial",l.middle_initial),bt.append("email",l.email),l.currentPassword&&bt.append("currentPassword",l.currentPassword),l.newPassword&&bt.append("newPassword",l.newPassword),d.current.files[0]&&bt.append("user_profile",d.current.files[0]);try{if(y==="admin")await I(m,bt);else if(y==="college_staff")await b(m,bt);else{E.error("Invalid user title. Unable to update details.");return}E.success("User details updated successfully"),x(),i(!1),window.location.reload()}catch{E.error("Failed to update user details")}},{dataEmail:L,handleChangeEmail:A,handleSubmitEmail:q,enteredCode:G,handleChangeCode:D,isCodeValid:V,isCooldownActive:z,cooldownTime:M,isLoading:H,resetCode:me}=Oa(),[K,ue]=j.useState(!1),Q=()=>{if(!C||!C.email){E.error("User details not loaded. Please try again.");return}if(L.email!==C.email){E.error("Entered email does not match your registered email.");return}q({preventDefault:()=>{}}),ue(!0)},[fe,Fe]=j.useState(!1),ie=pe=>new Promise(Lt=>setTimeout(Lt,pe)),ne=async()=>{Fe(!0),await ie(200);try{await U.post("/api/update-verification-status",{userId:m}),E.success("Email verified and status updated successfully"),me(),ue(!1),Fe(!1),window.location.reload()}catch{E.error("Error updating verification status")}},[T,ye]=j.useState(null),[F,ge]=j.useState(!1),{addDepartments:de,isLoading:Y,addDepartment:ze}=Pk(),[ae,le]=j.useState(""),{academicYear:ke,isLoadingAY:lt,addAcademicYear:yt}=Ak(),[ee,rt]=j.useState(""),{yearLevel:xt,isLoadingYL:Kt,addYearLevel:pn}=Dk(),[Xe,Jt]=j.useState(""),{section:ys,isLoadingSections:Mn,addSection:Wa}=Tk(),[Os,kr]=j.useState(""),{semester:Ya,isLoadingSem:qi,addSemester:Er}=Ok(),[Qa,P]=j.useState(""),{isLoadingCurriculum:Ie,addCurriculum:Ze}=Mk(),[Un,Ka]=j.useState(""),{departments:Br}=_s(),{academicYears:Rr}=Ts(),{yearLevels:Lr}=zi(),{sections:Vi}=Qd(),{semesters:Hi}=vs(),{curriculumEffectiveYear:Gi}=ng(),Ms=pe=>{ye(pe),ge(!0)},eu=()=>{ge(!1),le(""),rt(""),Jt(""),kr(""),P(""),Ka("")},_g=async pe=>{pe.preventDefault();try{T==="department"?(await ze({departmentName:ae}),E.success("Department added successfully")):T==="academicYear"?(await yt({academicYear:ee}),E.success("Academic Year added successfully")):T==="yearLevel"?(await pn({yearLevel:Xe}),E.success("Year Level added successfully")):T==="section"?(await Wa({section:Os}),E.success("Section added successfully")):T==="semester"?(await Er({semester:Qa}),E.success("Semester added successfully")):T==="curriculum"&&(console.log(Un),await Ze(Un),E.success("Curriculum added successfully")),eu()}catch{E.error("Failed to save data")}};return n.jsxs("div",{className:F?`${he.mainContainer} ${he.blurred}`:he.mainContainer,children:[$&&n.jsx("p",{children:"Updating user details..."}),N&&n.jsxs("p",{className:he.errorMessage,children:["Error: ",N.message]}),C?C!=null&&C.isVerified?n.jsx("div",{className:he.verifiedMessage,children:n.jsxs("p",{children:[n.jsx("img",{src:$r,alt:"Verified",className:he.verifiedIcon}),"Your account is verified."]})}):n.jsxs("div",{className:he.accountVerificationContainer,children:[n.jsx("h2",{children:"Account Verification"}),n.jsxs("form",{className:he.verificationForm,onSubmit:pe=>pe.preventDefault(),children:[n.jsx("label",{htmlFor:"email",children:"Email:"}),n.jsx("input",{type:"email",name:"email",id:"email",className:he.userConfigInputField,value:L.email,onChange:A}),n.jsx("button",{type:"button",onClick:Q,className:he.sendCodeButton,disabled:K||H,children:H?n.jsx("div",{className:he.loader}):z?`Please wait ${Math.floor(M/60)}:${(M%60).toString().padStart(2,"0")}`:"Send Code"}),K&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:he.labelRow,children:[n.jsx("label",{htmlFor:"code",children:"Verification Code:"}),V===!0&&n.jsx("p",{className:he.success,style:{color:"green"},children:"Code is correct"}),V===!1&&n.jsx("p",{className:he.error,style:{color:"red"},children:"Code is incorrect"})]}),n.jsx("input",{type:"number",name:"code",id:"code",className:he.userConfigInputField,value:G,onChange:D}),n.jsx("button",{type:"button",onClick:ne,className:he.verifyButton,disabled:fe||!G,children:fe?n.jsx("div",{className:he.loader}):"Verify Code"})]})]})]}):n.jsx("p",{children:"Loading user details..."}),n.jsxs("div",{className:he.btnRows,children:[n.jsx("button",{className:he.addBtn,onClick:()=>Ms("department"),children:"Add Department"}),n.jsx("button",{className:he.addBtn,onClick:()=>Ms("academicYear"),children:"Add Academic Year"}),n.jsx("button",{className:he.addBtn,onClick:()=>Ms("yearLevel"),children:"Add Year Level"}),n.jsx("button",{className:he.addBtn,onClick:()=>Ms("section"),children:"Add Section"}),n.jsx("button",{className:he.addBtn,onClick:()=>Ms("semester"),children:"Add Semester"}),n.jsx("button",{className:he.addBtn,onClick:()=>Ms("curriculum"),children:"Add Curriculum Effective Year"})]}),n.jsx("hr",{}),n.jsx("div",{children:n.jsx("h2",{children:"User Configuration"})}),n.jsx("div",{className:he.dashboardContent,children:n.jsxs("div",{className:he.userConfigContainer,children:[n.jsxs("form",{className:he.userConfig,onSubmit:R,children:[n.jsxs("div",{className:he.columnContainer,children:[n.jsxs("div",{className:he.column,children:[n.jsxs("div",{className:he.imageContainer,children:[n.jsx("img",{src:s||Bn,alt:"Profile",className:he.profileImg,onError:pe=>pe.target.src=Bn}),s&&n.jsx("button",{type:"button",onClick:h,className:he.removeImageButton,children:"×"})]}),n.jsx("label",{htmlFor:"profileImage",children:"Profile Image:"}),n.jsx("input",{type:"file",id:"profileImage",name:"profileImage",className:he.userConfigInputField,accept:"image/png, image/jpeg",onChange:c,disabled:!a,ref:d})]}),n.jsxs("div",{className:he.column,children:[n.jsx("label",{htmlFor:"ID",children:"ID:"}),n.jsx("input",{type:"text",name:"ID",id:"ID",className:he.userConfigInputField,placeholder:"ID:",value:l.ID,onChange:_,disabled:!a}),n.jsx("label",{htmlFor:"last_name",children:"Last Name:"}),n.jsx("input",{type:"text",name:"last_name",id:"last_name",className:he.userConfigInputField,placeholder:"Last Name",value:l.last_name,onChange:_,disabled:!a}),n.jsx("label",{htmlFor:"first_name",children:"First Name:"}),n.jsx("input",{type:"text",name:"first_name",id:"first_name",className:he.userConfigInputField,placeholder:"First Name:",value:l.first_name,onChange:_,disabled:!a}),n.jsx("label",{htmlFor:"middle_initial",children:"Middle Initial:"}),n.jsx("input",{type:"text",name:"middle_initial",id:"middle_initial",className:he.userConfigInputField,placeholder:"Middle Initial:",value:l.middle_initial,onChange:_,disabled:!a}),n.jsx("label",{htmlFor:"email",children:"Email:"}),n.jsx("input",{type:"email",name:"email",id:"email",className:he.userConfigInputField,placeholder:"Email:",value:l.email,onChange:_,disabled:!a})]}),n.jsxs("div",{className:he.column,children:[n.jsx("label",{htmlFor:"currentPassword",children:"Current Password:"}),n.jsx("input",{type:e?"text":"password",id:"currentPassword",name:"currentPassword",className:he.userConfigInputField,value:l.currentPassword,onChange:_,disabled:!a}),n.jsx("label",{htmlFor:"newPassword",children:"New Password:"}),n.jsx("input",{type:e?"text":"password",id:"newPassword",name:"newPassword",className:he.userConfigInputField,value:l.newPassword,onChange:_,disabled:!a}),n.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),n.jsx("input",{type:e?"text":"password",id:"confirmPassword",name:"confirmPassword",className:he.userConfigInputField,value:l.confirmPassword,onChange:_,disabled:!a}),n.jsx("button",{type:"button",onClick:g,className:he.showPasswordButton,disabled:!a,children:e?"Hide Password":"Show Password"})]})]}),n.jsx("div",{className:he.buttonContainer,children:n.jsx("button",{type:"submit",className:he.saveButton,disabled:!a||$,children:$?n.jsx("div",{className:he.loader}):"Save Changes"})})]}),n.jsx("button",{onClick:v,className:`${he.editButton} ${a?he.cancel:""}`,disabled:$,children:a?"Cancel":"Edit"})]})}),F&&n.jsx("div",{className:he.modalOverlay,children:n.jsxs("div",{className:he.modal,children:[T==="department"&&n.jsxs("div",{children:[n.jsx("h3",{children:"Current Departments"}),n.jsxs("table",{children:[n.jsx("thead",{children:n.jsx("tr",{children:n.jsx("th",{children:"Department"})})}),n.jsx("tbody",{children:Br==null?void 0:Br.map(pe=>n.jsx("tr",{children:n.jsx("td",{children:pe.department})},pe._id))})]}),n.jsx("label",{children:"Add Department:"}),n.jsx("input",{className:he.editField,value:ae,onChange:pe=>le(pe.target.value),required:!0})]}),T==="academicYear"&&n.jsxs("div",{children:[n.jsx("h3",{children:"Current Academic Years"}),n.jsxs("table",{children:[n.jsx("thead",{children:n.jsx("tr",{children:n.jsx("th",{children:"Academic Year"})})}),n.jsx("tbody",{children:Rr==null?void 0:Rr.map(pe=>n.jsx("tr",{children:n.jsx("td",{children:pe.ay})},pe._id))})]}),n.jsx("label",{children:"New Academic Year:"}),n.jsx("input",{className:he.editField,value:ee,onChange:pe=>rt(pe.target.value),required:!0})]}),T==="yearLevel"&&n.jsxs("div",{children:[n.jsx("h3",{children:"Current Year Levels"}),n.jsxs("table",{children:[n.jsx("thead",{children:n.jsx("tr",{children:n.jsx("th",{children:"Year Level"})})}),n.jsx("tbody",{children:Lr==null?void 0:Lr.map(pe=>n.jsx("tr",{children:n.jsx("td",{children:pe.yearLevel})},pe._id))})]}),n.jsx("label",{children:"New Year Level:"}),n.jsx("input",{className:he.editField,value:Xe,onChange:pe=>Jt(pe.target.value),required:!0})]}),T==="section"&&n.jsxs("div",{children:[n.jsx("h3",{children:"Current Sections"}),n.jsxs("table",{children:[n.jsx("thead",{children:n.jsx("tr",{children:n.jsx("th",{children:"Section"})})}),n.jsx("tbody",{children:Vi==null?void 0:Vi.map(pe=>n.jsx("tr",{children:n.jsx("td",{children:pe.section})},pe._id))})]}),n.jsx("label",{children:"New Section:"}),n.jsx("input",{className:he.editField,value:Os,onChange:pe=>kr(pe.target.value),required:!0})]}),T==="semester"&&n.jsxs("div",{children:[n.jsx("h3",{children:"Current Semesters"}),n.jsxs("table",{children:[n.jsx("thead",{children:n.jsx("tr",{children:n.jsx("th",{children:"Semester"})})}),n.jsx("tbody",{children:Hi==null?void 0:Hi.map(pe=>n.jsx("tr",{children:n.jsx("td",{children:pe.semester})},pe._id))})]}),n.jsx("label",{children:"New Semester:"}),n.jsx("input",{className:he.editField,value:Qa,onChange:pe=>P(pe.target.value),required:!0})]}),T==="curriculum"&&n.jsxs("div",{children:[n.jsx("h3",{children:"Curriculums"}),n.jsxs("table",{children:[n.jsx("thead",{children:n.jsx("tr",{children:n.jsx("th",{children:"Curriculums"})})}),n.jsx("tbody",{children:Gi==null?void 0:Gi.map(pe=>n.jsx("tr",{children:n.jsx("td",{children:pe.curriculum_effective_year})},pe._id))})]}),n.jsx("label",{children:"New Curriculum Effective Year:"}),n.jsx("input",{className:he.editField,value:Un,onChange:pe=>Ka(pe.target.value),required:!0})]}),n.jsxs("div",{className:he.btnRow,children:[n.jsx("button",{type:"button",className:he.cancelBtn,onClick:eu,children:"Close"}),n.jsx("button",{type:"submit",className:he.saveBtn,onClick:_g,children:"Save"})]})]})})]})}const Uk="_mainContainer_1nf1n_7",zk="_dashboardContent_1nf1n_27",qk="_verifiedMessage_1nf1n_45",Vk="_verifiedIcon_1nf1n_77",Hk="_accountVerificationContainer_1nf1n_95",Gk="_verificationForm_1nf1n_107",Wk="_verifyButton_1nf1n_117",Yk="_sendCodeButton_1nf1n_151",Qk="_userConfig_1nf1n_169",Kk="_columnContainer_1nf1n_179",Jk="_column_1nf1n_179",Xk="_userConfigInputField_1nf1n_197",Zk="_submitButton_1nf1n_213",e3="_togglePasswordButton_1nf1n_231",t3="_passwordContainer_1nf1n_269",n3="_formContainer_1nf1n_321",s3="_showPass_1nf1n_357",r3="_buttonContainer_1nf1n_369",a3="_saveButton_1nf1n_377",o3="_showPasswordButton_1nf1n_405",i3="_userConfigContainer_1nf1n_421",l3="_imageContainer_1nf1n_491",c3="_profileImg_1nf1n_515",d3="_removeImageButton_1nf1n_531",u3="_editButton_1nf1n_579",m3="_cancel_1nf1n_635",f3="_labelRow_1nf1n_659",h3="_success_1nf1n_667",p3="_error_1nf1n_669",g3="_loader_1nf1n_679",_3="_slideRight_1nf1n_1",Se={mainContainer:Uk,dashboardContent:zk,verifiedMessage:qk,verifiedIcon:Vk,accountVerificationContainer:Hk,verificationForm:Gk,verifyButton:Wk,sendCodeButton:Yk,userConfig:Qk,columnContainer:Kk,column:Jk,userConfigInputField:Xk,submitButton:Zk,togglePasswordButton:e3,passwordContainer:t3,formContainer:n3,showPass:s3,buttonContainer:r3,saveButton:a3,showPasswordButton:o3,userConfigContainer:i3,imageContainer:l3,profileImg:c3,removeImageButton:d3,editButton:u3,cancel:m3,labelRow:f3,success:h3,error:p3,loader:g3,"l20-1":"_l20-1_1nf1n_1","l20-2":"_l20-2_1nf1n_1",slideRight:_3},v3=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{updateFacultyDetails:async(l,o)=>{try{t(!0),await a(500),r(null);const d=await U.put(`/api/faculty-details/${l}`,o,{headers:{"Content-Type":"multipart/form-data"}});return t(!1),d.data}catch(d){throw r(d),t(!1),d}},loading:e,error:s}};function y3(){const[e,t]=j.useState(!1),[s,r]=j.useState(null),[a,i]=j.useState(!1),[l,o]=j.useState({facultyID:"",last_name:"",first_name:"",middle_initial:"",email:"",department:"",contact_number:"",currentPassword:"",newPassword:"",confirmPassword:""}),{departments:d}=_s(),{dataEmail:g,handleChangeEmail:v,handleSubmitEmail:c,enteredCode:h,handleChangeCode:_,isCodeValid:f,isCooldownActive:m,cooldownTime:y,isLoading:u,resetCode:p}=Oa(),[x,w]=j.useState(!1),I=()=>{if(!D||!D.email){E.error("User details not loaded. Please try again.");return}if(g.email!==D.email){E.error("Entered email does not match your registered email.");return}c({preventDefault:()=>{}}),w(!0)},[$,N]=j.useState(!1),b=ie=>new Promise(ne=>setTimeout(ne,ie)),C=async()=>{N(!0),await b(200);try{await U.post("/api/update-verification-status",{userId:G}),E.success("Email verified and status updated successfully"),p(),w(!1),N(!1),window.location.reload()}catch{E.error("Error updating verification status")}},S=j.useRef(null),k=()=>{t(!e)},B=async()=>{i(!a)},R=ie=>{const ne=ie.target.files[0];if(ne){const T=new FileReader;T.onloadend=()=>{r(T.result)},T.readAsDataURL(ne)}},L=()=>{r(null),S.current&&(S.current.value="")},A=ie=>{const{name:ne,value:T}=ie.target;if(ne==="facultyID"&&T.length>6){E.warn("Faculty ID must not exceed 5 characters.");return}o(ye=>({...ye,[ne]:T}))},q=localStorage.getItem("token");let G="";if(q)try{G=vt(q).id}catch(ie){console.error("Failed to decode token:",ie)}const{userDetails:D,loading:V,refetch:z}=Nr(G),{updateFacultyDetails:M,loading:H,error:me}=v3();j.useEffect(()=>{if(D){const ne=D.user_profile?`http://localhost:5000${D.user_profile.startsWith("/uploads")?"":"/uploads/user-profiles/"}${D.user_profile}`:Bn;r(ne),o({facultyID:D.facultyID||"",last_name:D.last_name||"",first_name:D.first_name||"",middle_initial:D.middle_initial||"",email:D.email||"",department:D.department||"",contact_number:D.contact_number||"",currentPassword:"",newPassword:"",confirmPassword:""})}},[D]);const K=()=>l.newPassword!==l.confirmPassword?(E.error("New password and confirm password do not match"),!1):!0,ue=async()=>{try{return(await U.post("/api/validate-current-password-facultyStaff",{userId:G,currentPassword:l.currentPassword})).data.valid}catch(ie){return console.error("Error validating current password:",ie),E.error("Error validating current password"),!1}},Q=ie=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(ie),fe=ie=>{if(/^[A-Z]{2}-\d{3}$/.test(ie))return ie;const T=ie.split("-"),ye=(T[0]||"").toUpperCase().substring(0,2),F=T[1]?T[1].padStart(3,"0"):"001";return`${ye}-${F}`},Fe=async ie=>{if(ie.preventDefault(),!K())return;if(!Q(l.newPassword)){E.error("New password must be at least 8 characters long, include an uppercase letter, a lowercase letter, a number, and a special character.");return}if(l.facultyID=fe(l.facultyID),!await ue())return;const T=new FormData;T.append("facultyID",l.facultyID),T.append("last_name",l.last_name),T.append("first_name",l.first_name),T.append("middle_initial",l.middle_initial),T.append("email",l.email),T.append("department",l.department),T.append("contact_number",l.contact_number),l.currentPassword&&T.append("currentPassword",l.currentPassword),l.newPassword&&T.append("newPassword",l.newPassword),S.current.files[0]&&T.append("user_profile",S.current.files[0]);try{await M(G,T),E.success("User details updated successfully"),z(),i(!1)}catch{E.error("Failed to update user details")}};return n.jsxs("div",{className:Se.mainContainer,children:[H&&n.jsx("p",{children:"Updating user details..."}),me&&n.jsxs("p",{className:Se.errorMessage,children:["Error: ",me.message]}),D?D!=null&&D.isVerified?n.jsx("div",{className:Se.verifiedMessage,children:n.jsxs("p",{children:[n.jsx("img",{src:$r,alt:"Verified",className:Se.verifiedIcon}),"Your account is verified."]})}):n.jsxs("div",{className:Se.accountVerificationContainer,children:[n.jsx("h2",{children:"Account Verification"}),n.jsxs("form",{className:Se.verificationForm,onSubmit:ie=>ie.preventDefault(),children:[n.jsx("label",{htmlFor:"email",children:"Email:"}),n.jsx("input",{type:"email",name:"email",id:"email",className:Se.userConfigInputField,value:g.email,onChange:v}),n.jsx("button",{type:"button",onClick:I,className:Se.sendCodeButton,disabled:x||u,children:u?n.jsx("div",{className:Se.loader}):m?`Please wait ${Math.floor(y/60)}:${(y%60).toString().padStart(2,"0")}`:"Send Code"}),x&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:Se.labelRow,children:[n.jsx("label",{htmlFor:"code",children:"Verification Code:"}),f===!0&&n.jsx("p",{className:Se.success,style:{color:"green"},children:"Code is correct"}),f===!1&&n.jsx("p",{className:Se.error,style:{color:"red"},children:"Code is incorrect"})]}),n.jsx("input",{type:"number",name:"code",id:"code",className:Se.userConfigInputField,value:h,onChange:_}),n.jsx("button",{type:"button",onClick:C,className:Se.verifyButton,disabled:$||!h,children:$?n.jsx("div",{className:Se.loader}):"Verify Code"})]})]})]}):n.jsx("p",{children:"Loading user details..."}),n.jsx("hr",{}),n.jsx("div",{children:n.jsx("h2",{children:"User Configuration"})}),n.jsx("div",{className:Se.dashboardContent,children:n.jsxs("div",{className:Se.userConfigContainer,children:[n.jsxs("form",{className:Se.userConfig,onSubmit:Fe,children:[n.jsxs("div",{className:Se.columnContainer,children:[n.jsxs("div",{className:Se.column,children:[n.jsxs("div",{className:Se.imageContainer,children:[n.jsx("img",{src:s||Bn,alt:"Profile",className:Se.profileImg,onError:ie=>ie.target.src=Bn}),s&&n.jsx("button",{type:"button",onClick:L,className:Se.removeImageButton,children:"×"})]}),n.jsx("label",{htmlFor:"profileImage",children:"Profile Image:"}),n.jsx("input",{type:"file",id:"profileImage",name:"profileImage",className:Se.userConfigInputField,accept:"image/png, image/jpeg",onChange:R,disabled:!a,ref:S})]}),n.jsxs("div",{className:Se.column,children:[n.jsx("label",{htmlFor:"facultyID",children:"Faculty ID:"}),n.jsx("input",{type:"text",name:"facultyID",id:"facultyID",className:Se.userConfigInputField,placeholder:"Faculty ID:",value:l.facultyID,onChange:A,disabled:!a}),n.jsx("label",{htmlFor:"last_name",children:"Last Name:"}),n.jsx("input",{type:"text",name:"last_name",id:"last_name",className:Se.userConfigInputField,placeholder:"Last Name",value:l.last_name,onChange:A,disabled:!a}),n.jsx("label",{htmlFor:"first_name",children:"First Name:"}),n.jsx("input",{type:"text",name:"first_name",id:"first_name",className:Se.userConfigInputField,placeholder:"First Name:",value:l.first_name,onChange:A,disabled:!a}),n.jsx("label",{htmlFor:"middle_initial",children:"Middle Name:"}),n.jsx("input",{type:"text",name:"middle_initial",id:"middle_initial",className:Se.userConfigInputField,placeholder:"Middle Name:",value:l.middle_initial,onChange:A,disabled:!a}),n.jsx("label",{htmlFor:"email",children:"Email:"}),n.jsx("input",{type:"email",name:"email",id:"email",className:Se.userConfigInputField,placeholder:"Email:",value:l.email,onChange:A,disabled:!a}),n.jsx("label",{htmlFor:"department",children:"Department:"}),n.jsxs("select",{name:"department",id:"department",className:Se.userConfigInputField,value:l.department,onChange:A,disabled:!a,children:[n.jsx("option",{value:"",children:"Department"}),d.map(ie=>n.jsx("option",{value:ie.department,children:ie.department},ie._id))]}),n.jsx("label",{htmlFor:"contact_number",children:"Contact Number:"}),n.jsx("input",{type:"number",name:"contact_number",id:"contact_number",className:Se.userConfigInputField,placeholder:"Contact Number:",value:l.contact_number,onChange:A,disabled:!a})]}),n.jsxs("div",{className:Se.column,children:[n.jsx("label",{htmlFor:"currentPassword",children:"Current Password:"}),n.jsx("input",{type:e?"text":"password",id:"currentPassword",name:"currentPassword",className:Se.userConfigInputField,value:l.currentPassword,onChange:A,disabled:!a}),n.jsx("label",{htmlFor:"newPassword",children:"New Password:"}),n.jsx("input",{type:e?"text":"password",id:"newPassword",name:"newPassword",className:Se.userConfigInputField,value:l.newPassword,onChange:A,disabled:!a}),n.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),n.jsx("input",{type:e?"text":"password",id:"confirmPassword",name:"confirmPassword",className:Se.userConfigInputField,value:l.confirmPassword,onChange:A,disabled:!a}),n.jsx("button",{type:"button",onClick:k,className:Se.showPasswordButton,disabled:!a,children:e?"Hide Password":"Show Password"})]})]}),n.jsx("div",{className:Se.buttonContainer,children:n.jsx("button",{type:"submit",className:Se.saveButton,disabled:!a||H,children:H?n.jsx("div",{className:Se.loader}):"Save Changes"})})]}),n.jsx("button",{onClick:B,className:`${Se.editButton} ${a?Se.cancel:""}`,disabled:H,children:a?"Cancel":"Edit"})]})})]})}const x3="_mainContainer_1acwr_9",b3="_greetingCard_1acwr_19",j3="_mainContent_1acwr_71",w3="_sidebar_1acwr_105",C3="_active_1acwr_105",S3="_announcementCard_1acwr_119",N3="_announcementBullet_1acwr_171",I3="_announcementMessage_1acwr_181",$3="_announcementCardContent_1acwr_191",k3="_addAnnouncementBtn_1acwr_203",E3="_verificationMessage_1acwr_237",B3="_verifiedMessage_1acwr_259",R3="_verifiedIcon_1acwr_289",L3="_dashboardContent_1acwr_303",F3="_dashboardContainers_1acwr_321",P3="_dashboardContainerSubjects_1acwr_331",A3="_dashboardContainerStudents_1acwr_333",D3="_dashboardContainerInstructors_1acwr_335",T3="_dashboardContainerActiveUsers_1acwr_337",O3="_dashboardTop_1acwr_391",M3="_dashboardIcons_1acwr_401",U3="_dashboardDescription_1acwr_411",z3="_spanNum_1acwr_423",q3="_spanLabel_1acwr_433",V3="_dashboardButtons_1acwr_443",H3="_buttonIcons_1acwr_483",G3="_dashboardButtonSubjects_1acwr_1",W3="_dashboardButtonStudents_1acwr_1",Y3="_dashboardButtonInstructors_1acwr_1",Q3="_dashboardButtonActiveUsers_1acwr_1",K3="_progressBarContainer_1acwr_525",J3="_filters_1acwr_537",X3="_filtersRow_1acwr_557",Z3="_progressContainer_1acwr_569",eE="_progressLabel_1acwr_579",tE="_viewFacultyBtn_1acwr_587",nE="_modalOverlay_1acwr_641",sE="_modal_1acwr_641",rE="_tableContainer_1acwr_725",aE="_messageInput_1acwr_787",oE="_selectField_1acwr_813",iE="_radioType_1acwr_839",lE="_radioGroup_1acwr_847",cE="_cancelBtn_1acwr_877",dE="_saveBtn_1acwr_897",uE="_confirmDeleteBtn_1acwr_899",mE="_btnRow_1acwr_939",fE="_loader_1acwr_961",hE="_slideRight_1acwr_1",se={mainContainer:x3,greetingCard:b3,mainContent:j3,sidebar:w3,active:C3,announcementCard:S3,announcementBullet:N3,announcementMessage:I3,announcementCardContent:$3,addAnnouncementBtn:k3,verificationMessage:E3,verifiedMessage:B3,verifiedIcon:R3,dashboardContent:L3,dashboardContainers:F3,dashboardContainerSubjects:P3,dashboardContainerStudents:A3,dashboardContainerInstructors:D3,dashboardContainerActiveUsers:T3,dashboardTop:O3,dashboardIcons:M3,dashboardDescription:U3,spanNum:z3,spanLabel:q3,dashboardButtons:V3,buttonIcons:H3,dashboardButtonSubjects:G3,dashboardButtonStudents:W3,dashboardButtonInstructors:Y3,dashboardButtonActiveUsers:Q3,progressBarContainer:K3,filters:J3,filtersRow:X3,progressContainer:Z3,progressLabel:eE,viewFacultyBtn:tE,modalOverlay:nE,modal:sE,tableContainer:rE,messageInput:aE,selectField:oE,radioType:iE,radioGroup:lE,cancelBtn:cE,saveBtn:dE,confirmDeleteBtn:uE,btnRow:mE,loader:fE,"l20-1":"_l20-1_1acwr_1","l20-2":"_l20-2_1acwr_1",slideRight:hE},sg="/assets/chart-By5K8aMt.png",rg="/assets/arrowB-bFPhNP_L.png",ag="/assets/arrowG-WBEkHuAq.png",pE="/assets/arrowO-CnEC3dYb.png",gE="/assets/arrowR-CIA4cyKz.png",_E=()=>{const[e,t]=j.useState({subjects:0,students:0,instructors:0}),[s,r]=j.useState(!0),[a,i]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const o=await U.get("/api/dashboard-counts");t(o.data)}catch(o){i(o)}finally{r(!1)}})()},[]),{counts:e,loading:s,error:a}};function og(){const[e,t]=j.useState({students:[],facultyStaff:[],collegeStaff:[],admins:[]}),[s,r]=j.useState(!0),[a,i]=j.useState(null);return j.useEffect(()=>{(async()=>{r(!0);try{const o=await U.get("/api/all-users");t(o.data),E.info("👥 Active users loaded successfully! 🎉")}catch(o){E.error("🚨 Error fetching active users: "+o.message),i(o)}finally{r(!1)}})()},[]),{activeUsers:e,loading:s,error:a}}function ig(){const[e,t]=j.useState([]),[s,r]=j.useState(!0),a=j.useCallback(async()=>{r(!0);try{const i=await U.get("/api/announcements");t(i.data)}catch{E.error("Failed to fetch announcements")}finally{r(!1)}},[]);return j.useEffect(()=>{a()},[a]),{announcements:e,loading:s,refetch:a}}const lg=e=>{const[t,s]=j.useState([]),[r,a]=j.useState([]),[i,l]=j.useState("");return j.useEffect(()=>{(async()=>{try{const d=await U.get("/api/get_faculty_to_class_prog",{params:{search:e}});s(d.data),e===""&&a(d.data)}catch(d){E.error("Error fetching Faculty Staffs",d.message),l(d)}})()},[e]),{faculty:t,originalFaculty:r,errorFaculty:i}};function vE(){const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{submitAnnouncement:async(l,o,d,g)=>{r(null);try{t(!0),await a(500);const v=await U.post("/api/announcements",{announcementType:l,message:o,dueDate:d,instructorID:g});return E.success("Announcement is Successfully Sent"),t(!1),v.data}catch(v){throw t(!1),r(v.response?v.response.data.message:"Error submitting announcement"),E.error(v),v}},loading:e,error:s}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Oc=function(e,t){return Oc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var a in r)r.hasOwnProperty(a)&&(s[a]=r[a])},Oc(e,t)};function yE(e,t){Oc(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}var xE=100,bE=100,zm=50,Mc=50,Uc=50;function qm(e){var t=e.className,s=e.counterClockwise,r=e.dashRatio,a=e.pathRadius,i=e.strokeWidth,l=e.style;return j.createElement("path",{className:t,style:Object.assign({},l,wE({pathRadius:a,dashRatio:r,counterClockwise:s})),d:jE({pathRadius:a,counterClockwise:s}),strokeWidth:i,fillOpacity:0})}function jE(e){var t=e.pathRadius,s=e.counterClockwise,r=t,a=s?1:0;return`
      M `+Mc+","+Uc+`
      m 0,-`+r+`
      a `+r+","+r+" "+a+" 1 1 0,"+2*r+`
      a `+r+","+r+" "+a+" 1 1 0,-"+2*r+`
    `}function wE(e){var t=e.counterClockwise,s=e.dashRatio,r=e.pathRadius,a=Math.PI*2*r,i=(1-s)*a;return{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(t?-i:i)+"px"}}var CE=function(e){yE(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return zm-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var s=this.props,r=s.value,a=s.minValue,i=s.maxValue,l=Math.min(Math.max(r,a),i);return(l-a)/(i-a)},t.prototype.render=function(){var s=this.props,r=s.circleRatio,a=s.className,i=s.classes,l=s.counterClockwise,o=s.styles,d=s.strokeWidth,g=s.text,v=this.getPathRadius(),c=this.getPathRatio();return j.createElement("svg",{className:i.root+" "+a,style:o.root,viewBox:"0 0 "+xE+" "+bE,"data-test-id":"CircularProgressbar"},this.props.background?j.createElement("circle",{className:i.background,style:o.background,cx:Mc,cy:Uc,r:zm}):null,j.createElement(qm,{className:i.trail,counterClockwise:l,dashRatio:r,pathRadius:v,strokeWidth:d,style:o.trail}),j.createElement(qm,{className:i.path,counterClockwise:l,dashRatio:c*r,pathRadius:v,strokeWidth:d,style:o.path}),g?j.createElement("text",{className:i.text,style:o.text,x:Mc,y:Uc},g):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(j.Component);function SE(e){var t=e.rotation,s=e.strokeLinecap,r=e.textColor,a=e.textSize,i=e.pathColor,l=e.pathTransition,o=e.pathTransitionDuration,d=e.trailColor,g=e.backgroundColor,v=t==null?void 0:"rotate("+t+"turn)",c=t==null?void 0:"center center";return{root:{},path:xo({stroke:i,strokeLinecap:s,transform:v,transformOrigin:c,transition:l,transitionDuration:o==null?void 0:o+"s"}),trail:xo({stroke:d,strokeLinecap:s,transform:v,transformOrigin:c}),text:xo({fill:r,fontSize:a}),background:xo({fill:g})}}function xo(e){return Object.keys(e).forEach(function(t){e[t]==null&&delete e[t]}),e}const NE=e=>{const[t,s]=j.useState(null),[r,a]=j.useState(!0),[i,l]=j.useState(null);return j.useEffect(()=>{(async()=>{try{a(!0);const d=await U.get("/api/get-grade-sheet");s(d.data)}catch(d){l(d.message||"Something went wrong")}finally{a(!1)}})()},[e]),{gradeSheetData:t,loading:r,error:i}};function Bl(){const e=mt(),{updateActiveButton:t}=j.useContext(Cn),{activeUsers:s}=og(),[r,a]=j.useState(!1),{announcements:i,refetch:l}=ig(),o=(ee,rt)=>{t(rt),e(ee)},{counts:d,loading:g,error:v}=_E(),c=localStorage.getItem("token");let h="",_="";if(c)try{const ee=vt(c);h=ee.id,_=ee.title}catch(ee){console.error("Failed to decode token:",ee)}const{userDetails:f}=Wd(h),{collegeStaffUserDetails:m}=Jd(h);let y=null;_==="admin"&&f?y=f:_==="college_staff"&&m&&(y=m);const[u,p]=j.useState("");j.useEffect(()=>{const ee=new Date().getHours();ee<12?p("Good morning"):ee<18?p("Good afternoon"):p("Good evening")},[]);const x=[...s.students,...s.facultyStaff,...s.collegeStaff,...s.admins].filter(ee=>ee.isActive).length,[w,I]=j.useState("general"),[$,N]=j.useState(""),[b,C]=j.useState(""),[S,k]=j.useState(""),B=ee=>{I(ee.target.value)},R=ee=>{N(ee.target.value)},L=ee=>{C(ee.target.value)},{faculty:A,errorFaculty:q,loadingFaculty:G}=lg(),D=()=>{a(!0)},V=()=>{a(!1)},z=ee=>{k(ee)},{submitAnnouncement:M,loading:H}=vE(),me=async()=>{if(!$.trim()||!b){alert("Please fill in all fields.");return}try{await M(w,$,b,S),l(),V()}catch(ee){console.error("Failed to save announcement:",ee)}},K=_==="admin"?(f==null?void 0:f.first_name)||"User":_==="college_staff"&&(m==null?void 0:m.first_name)||"User",{departments:ue}=_s(),{academicYears:Q}=Ts(),{semesters:fe}=vs(),{gradeSheetData:Fe}=NE(),[ie,ne]=j.useState(""),[T,ye]=j.useState(""),[F,ge]=j.useState(""),[de,Y]=j.useState(0);j.useEffect(()=>{ue.length>0&&ne(ue[0].department),Q.length>0&&ye(Q[0].ay),fe.length>0&&ge(fe[0].semester)},[ue,Q,fe]);const ze=()=>{if(Y(0),!Fe||A.length===0)return;const ee=Fe.filter(Xe=>(ie?Xe.course===ie:!0)&&(T?Xe.academic_year===T:!0)&&(F?Xe.semester===F:!0));if(ee.length===0)return Y(0);ee.filter(Xe=>Xe.isSubmitted).length;const rt=A.map(Xe=>`${Xe.first_name} ${Xe.middle_initial?Xe.middle_initial+" ":""}${Xe.last_name}`.trim()),xt=ee.filter(Xe=>{const Jt=Xe.instructor_name;return Xe.isSubmitted&&rt.includes(Jt)}).length,Kt=A.length,pn=Kt>0?xt/Kt*100:0;Y(pn)};j.useEffect(()=>{ze()},[ie,T,F,Fe,A]);const[ae,le]=j.useState(!1),[ke,lt]=j.useState([]),yt=()=>{const rt=A.filter(xt=>ie?xt.department===ie:!0).map(xt=>{const Kt=`${xt.first_name} ${xt.middle_initial?xt.middle_initial+" ":""}${xt.last_name}`.trim(),pn=Fe.filter(Mn=>Mn.instructor_name===Kt),Xe=pn.length,Jt=pn.filter(Mn=>Mn.isSubmitted).length;let ys="Not Submitted";return Jt===Xe&&Xe>0?ys="Fully Completed":Jt>0&&(ys="Partially Completed"),{...xt,totalSubjects:Xe,submittedSubjects:Jt,status:ys}});lt(rt),le(!0)};return g?n.jsx("p",{children:"Loading..."}):v?n.jsx("p",{children:"Error loading dashboard data"}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:se.mainContainer,children:[n.jsxs("div",{className:se.greetingCard,children:[n.jsxs("h2",{children:[u,", ",K,"!"]}),n.jsx("p",{children:"Welcome to your dashboard."})]}),y!=null&&y.isVerified?n.jsx("div",{className:se.verifiedMessage,children:n.jsxs("p",{children:[n.jsx("img",{src:$r,alt:"Verified",className:se.verifiedIcon}),"Your account is verified."]})}):n.jsx("div",{className:se.verificationMessage,children:n.jsx("p",{children:"Please verify your account in settings to access all features."})}),n.jsxs("div",{className:se.announcementCard,children:[n.jsxs("div",{className:se.announcementCardContent,children:[n.jsx("h3",{children:"Announcement"}),i.length>0?n.jsx("ul",{children:i.map((ee,rt)=>n.jsxs("li",{className:se.announcementBullet,children:[n.jsx("p",{className:se.announcementMessage,children:ee.message}),ee.dueDate&&n.jsxs("p",{className:se.announcementDueDate,children:["Due Date: ",new Date(ee.dueDate).toLocaleDateString()]})]},rt))}):n.jsx("p",{children:"No announcements at the moment."})]}),n.jsx("div",{children:n.jsx("button",{className:se.addAnnouncementBtn,onClick:D,children:"Add Announcement"})})]}),n.jsxs("div",{className:se.progressBarContainer,children:[n.jsxs("div",{className:se.filtersRow,children:[n.jsx("select",{onChange:ee=>ne(ee.target.value),value:ie,className:se.filters,children:ue.map(ee=>n.jsx("option",{value:ee.department,children:ee.department},ee._id))}),n.jsx("select",{onChange:ee=>ye(ee.target.value),value:T,className:se.filters,children:Q.map(ee=>n.jsx("option",{value:ee.ay,children:ee.ay},ee._id))}),n.jsx("select",{onChange:ee=>ge(ee.target.value),value:F,className:se.filters,children:fe.map(ee=>n.jsx("option",{value:ee.semester,children:ee.semester},ee._id))})]}),n.jsxs("div",{className:se.progressContainer,children:[n.jsx(CE,{value:de,text:`${de.toFixed(2)}%`,styles:SE({textSize:"24px",pathColor:`rgba(62, 152, 199, ${de/100})`,textColor:"#3e98c7",trailColor:"#d6d6d6"})}),n.jsx("p",{className:se.progressLabel,children:"Grade Submission Progress"})]}),n.jsx("button",{className:se.viewFacultyBtn,onClick:yt,children:"View Faculty Submission Status"})]}),n.jsxs("div",{className:se.dashboardContent,children:[n.jsxs("div",{className:se.dashboardContainerSubjects,children:[n.jsxs("div",{className:se.dashboardTop,children:[n.jsx("div",{children:n.jsx("img",{src:sg,alt:"",className:se.dashboardIcons})}),n.jsxs("div",{className:se.dashboardDescription,children:[n.jsx("span",{className:se.spanNum,children:d.subjects})," ",n.jsx("br",{}),n.jsx("span",{className:se.spanLabel,children:"SUBJECTS"})]})]}),n.jsxs("button",{className:se.dashboardButtons,id:se.dashboardButtonSubjects,onClick:()=>o("/admin/subjects","subjects"),children:[n.jsx("span",{children:"View Details"}),n.jsx("img",{src:rg,alt:"",className:se.buttonIcons})]})]}),n.jsxs("div",{className:se.dashboardContainerStudents,children:[n.jsxs("div",{className:se.dashboardTop,children:[n.jsx("div",{children:n.jsx("img",{src:Sr,alt:"",className:se.dashboardIcons})}),n.jsxs("div",{className:se.dashboardDescription,children:[n.jsx("span",{className:se.spanNum,children:d.students}),n.jsx("br",{}),n.jsx("span",{className:se.spanLabel,children:"STUDENTS"})]})]}),n.jsxs("button",{className:se.dashboardButtons,id:se.dashboardButtonStudents,onClick:()=>o("/admin/students","students"),children:[n.jsx("span",{children:"View Details"}),n.jsx("img",{src:ag,alt:"",className:se.buttonIcons})]})]}),n.jsxs("div",{className:se.dashboardContainerInstructors,children:[n.jsxs("div",{className:se.dashboardTop,children:[n.jsx("div",{children:n.jsx("img",{src:Ui,alt:"",className:se.dashboardIcons})}),n.jsxs("div",{className:se.dashboardDescription,children:[n.jsx("span",{className:se.spanNum,children:d.instructors}),n.jsx("br",{}),n.jsx("span",{className:se.spanLabel,children:"INSTRUCTORS"})]})]}),n.jsxs("button",{className:se.dashboardButtons,id:se.dashboardButtonInstructors,onClick:()=>o("/admin/instructors","instructors"),children:[n.jsx("span",{children:"View Details"}),n.jsx("img",{src:pE,alt:"",className:se.buttonIcons})]})]}),n.jsxs("div",{className:se.dashboardContainerActiveUsers,children:[n.jsxs("div",{className:se.dashboardTop,children:[n.jsx("div",{children:n.jsx("img",{src:Hp,alt:"",className:se.dashboardIcons})}),n.jsxs("div",{className:se.dashboardDescription,children:[n.jsx("span",{className:se.spanNum,children:x}),n.jsx("br",{}),n.jsx("span",{className:se.spanLabel,children:"ACTIVE USERS"})]})]}),n.jsxs("button",{className:se.dashboardButtons,id:se.dashboardButtonActiveUsers,onClick:()=>o("/admin/activeUsers","activeUsers"),children:[n.jsx("span",{children:"View Details"}),n.jsx("img",{src:gE,alt:"",className:se.buttonIcons})]})]})]})]}),r&&n.jsx("div",{className:se.modalOverlay,children:n.jsxs("div",{className:se.modal,children:[n.jsx("h2",{children:"Add Announcement"}),n.jsxs("div",{className:se.radioGroup,children:[n.jsxs("label",{children:[n.jsx("input",{type:"radio",name:"announcementType",value:"general",className:se.radioType,checked:w==="general",onChange:B}),"General"]}),n.jsxs("label",{children:[n.jsx("input",{type:"radio",name:"announcementType",value:"specific",className:se.radioType,checked:w==="specific",onChange:B}),"Specific to Instructor"]})]}),w==="specific"&&n.jsx(n.Fragment,{children:G?n.jsx("p",{children:"Loading..."}):n.jsx(n.Fragment,{children:A.length>0?n.jsxs("select",{className:se.selectField,onChange:ee=>z(ee.target.value),defaultValue:"",children:[n.jsx("option",{value:"",disabled:!0,children:"Select an Instructor"}),A.map(ee=>n.jsxs("option",{value:ee._id,children:[ee.facultyID," - ",ee.last_name,", ",ee.first_name," ",ee.middle_initial]},ee._id))]}):n.jsx("p",{children:"No instructors found"})})}),n.jsx("textarea",{placeholder:"Enter your announcement message here...",className:se.messageInput,value:$,onChange:R}),n.jsxs("label",{className:se.dueDateLabel,children:["Due Date:",n.jsx("input",{type:"date",value:b,onChange:L,className:se.dueDateInput})]}),n.jsxs("div",{className:se.btnRow,children:[n.jsx("button",{type:"button",className:se.cancelBtn,onClick:V,children:"Close"}),n.jsx("button",{type:"submit",className:se.saveBtn,onClick:me,disabled:H,children:H?n.jsx("div",{className:se.loader}):"Save"})]})]})}),ae&&n.jsx("div",{className:se.modalOverlay,children:n.jsxs("div",{className:se.modal,children:[n.jsx("h2",{children:"Faculty Submission Status"}),n.jsx("div",{className:se.tableContainer,children:n.jsxs("table",{children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Faculty Name"}),n.jsx("th",{children:"Department"}),n.jsx("th",{children:"Subjects"}),n.jsx("th",{children:"Status"})]})}),n.jsx("tbody",{children:ke.length>0?ke.map(ee=>n.jsxs("tr",{children:[n.jsx("td",{children:`${ee.first_name} ${ee.middle_initial||""} ${ee.last_name}`}),n.jsx("td",{children:ee.department}),n.jsx("td",{children:`${ee.submittedSubjects}/${ee.totalSubjects}`}),n.jsx("td",{children:ee.status})]},ee._id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",children:"No faculty found for the selected department"})})})]})}),n.jsx("div",{className:se.btnRow,children:n.jsx("button",{type:"button",className:se.cancelBtn,onClick:()=>le(!1),children:"Close"})})]})})]})}const IE="_mainContainer_1it7m_9",$E="_greetingCard_1it7m_19",kE="_mainContent_1it7m_67",EE="_sidebar_1it7m_101",BE="_active_1it7m_101",RE="_announcementCard_1it7m_115",LE="_announcementBullet_1it7m_157",FE="_announcementMessage_1it7m_167",PE="_announcementCardContent_1it7m_177",AE="_verificationMessage_1it7m_189",DE="_verifiedMessage_1it7m_211",TE="_verifiedIcon_1it7m_241",OE="_dashboardContent_1it7m_259",ME="_filters_1it7m_275",UE="_filterDropdown_1it7m_281",zE="_submittedGrades_1it7m_307",qE="_dashboardContainers_1it7m_323",VE="_dashboardContainerSubjects_1it7m_333",HE="_dashboardContainerStudents_1it7m_335",GE="_dashboardContainerInstructors_1it7m_337",WE="_dashboardContainerActiveUsers_1it7m_339",YE="_dashboardTop_1it7m_393",QE="_dashboardIcons_1it7m_403",KE="_dashboardDescription_1it7m_413",JE="_spanNum_1it7m_425",XE="_spanLabel_1it7m_435",ZE="_dashboardButtons_1it7m_445",eB="_buttonIcons_1it7m_485",tB="_dashboardButtonSubjects_1it7m_1",nB="_dashboardButtonStudents_1it7m_1",sB="_dashboardButtonInstructors_1it7m_1",rB="_dashboardButtonActiveUsers_1it7m_1",aB="_slideRight_1it7m_1",Ae={mainContainer:IE,greetingCard:$E,mainContent:kE,sidebar:EE,active:BE,announcementCard:RE,announcementBullet:LE,announcementMessage:FE,announcementCardContent:PE,verificationMessage:AE,verifiedMessage:DE,verifiedIcon:TE,dashboardContent:OE,filters:ME,filterDropdown:UE,submittedGrades:zE,dashboardContainers:qE,dashboardContainerSubjects:VE,dashboardContainerStudents:HE,dashboardContainerInstructors:GE,dashboardContainerActiveUsers:WE,dashboardTop:YE,dashboardIcons:QE,dashboardDescription:KE,spanNum:JE,spanLabel:XE,dashboardButtons:ZE,buttonIcons:eB,dashboardButtonSubjects:tB,dashboardButtonStudents:nB,dashboardButtonInstructors:sB,dashboardButtonActiveUsers:rB,slideRight:aB};function oB(){const e=mt(),{updateActiveButton:t}=j.useContext(Cn),{announcements:s}=ig(),r=(S,k)=>{t(k),e(S)},a=localStorage.getItem("token");let i="",l="";if(a)try{const S=vt(a);i=S.id,l=S.first_name||"User"}catch(S){console.error("Failed to decode token:",S)}const{userDetails:o,loading:d,error:g}=Nr(i),{semesters:v}=vs(),{academicYears:c}=Ts(),[h,_]=j.useState(""),[f,m]=j.useState([]),[y,u]=j.useState(""),[p,x]=j.useState(""),[w,I]=j.useState(0),[$,N]=j.useState(0);j.useEffect(()=>{if(o!=null&&o.load){const S=new Date().getHours();_(S<12?"Good morning":S<18?"Good afternoon":"Good evening"),m(o.load),N(o.load.length);const k=o.load.reduce((B,R)=>{var L;return B+(((L=R.grades)==null?void 0:L.filter(A=>A.isSubmitted).length)||0)},0);I(k)}},[o]),j.useEffect(()=>{var S,k,B;if(y||p){const R=((S=o==null?void 0:o.load)==null?void 0:S.filter(A=>{const q=y?A.semester===y:!0,G=p?A.academic_year===p:!0;return q&&G}))||[];m(R),N(R.length);const L=R.reduce((A,q)=>q.grades?A+q.grades.filter(G=>G.isSubmitted).length:A,0);I(L)}else{m((o==null?void 0:o.load)||[]),N(((k=o==null?void 0:o.load)==null?void 0:k.length)||0);const R=(B=o==null?void 0:o.load)==null?void 0:B.reduce((L,A)=>A.grades?L+A.grades.filter(q=>q.isSubmitted).length:L,0);I(R)}},[y,p,o]);const b=()=>{u(""),x(""),m((o==null?void 0:o.load)||[])},C=s.filter(S=>S.instructorID===i);return d?n.jsx("p",{children:"Loading..."}):g?n.jsx("p",{children:"Error loading dashboard data"}):n.jsxs("div",{className:Ae.mainContainer,children:[n.jsxs("div",{className:Ae.greetingCard,children:[n.jsxs("h2",{children:[h,", ",(o==null?void 0:o.first_name)||l,"!"]}),n.jsx("p",{children:"Welcome to your dashboard."})]}),o!=null&&o.isVerified?n.jsx("div",{className:Ae.verifiedMessage,children:n.jsxs("p",{children:[n.jsx("img",{src:$r,alt:"Verified",className:Ae.verifiedIcon}),"Your account is verified."]})}):n.jsx("div",{className:Ae.verificationMessage,children:n.jsx("p",{children:"Please verify your account in settings to access all features."})}),n.jsxs("div",{className:Ae.announcementCard,children:[n.jsx("h3",{children:"Announcement"}),C.length>0?n.jsx("ul",{children:C.map((S,k)=>n.jsxs("li",{className:Ae.announcementBullet,children:[n.jsx("p",{className:Ae.announcementMessage,children:S.message}),S.dueDate&&n.jsxs("p",{className:Ae.announcementDueDate,children:["Due Date: ",new Date(S.dueDate).toLocaleDateString()]})]},k))}):n.jsx("p",{children:"No announcements at the moment."})]}),n.jsxs("div",{className:Ae.filters,children:[n.jsxs("select",{className:Ae.filterDropdown,value:p,onChange:S=>x(S.target.value),children:[n.jsx("option",{value:"",children:"All Academic Years"}),c.map(S=>n.jsx("option",{value:S.ay,children:S.ay},S._id))]}),n.jsxs("select",{className:Ae.filterDropdown,value:y,onChange:S=>u(S.target.value),children:[n.jsx("option",{value:"",children:"All Semesters"}),v.map(S=>n.jsx("option",{value:S.semester,children:S.semester},S._id))]}),n.jsx("button",{className:Ae.filterDropdown,onClick:b,children:"Reset"})]}),n.jsx("div",{className:Ae.submittedGrades,children:n.jsxs("p",{children:["Total Submitted Grades: ",w," / ",$]})}),n.jsxs("div",{className:Ae.dashboardContent,children:[n.jsxs("div",{className:Ae.dashboardContainerSubjects,children:[n.jsxs("div",{className:Ae.dashboardTop,children:[n.jsx("div",{children:n.jsx("img",{src:sg,alt:"",className:Ae.dashboardIcons})}),n.jsxs("div",{className:Ae.dashboardDescription,children:[n.jsx("span",{className:Ae.spanNum,children:$}),n.jsx("br",{}),n.jsx("span",{className:Ae.spanLabel,children:"SUBJECTS"})]})]}),n.jsxs("button",{className:Ae.dashboardButtons,id:Ae.dashboardButtonSubjects,onClick:()=>r("/facultyStaff/subjects","subjects"),children:[n.jsx("span",{children:"View Details"}),n.jsx("img",{src:rg,alt:"",className:Ae.buttonIcons})]})]}),n.jsxs("div",{className:Ae.dashboardContainerStudents,children:[n.jsxs("div",{className:Ae.dashboardTop,children:[n.jsx("div",{children:n.jsx("img",{src:Sr,alt:"",className:Ae.dashboardIcons})}),n.jsxs("div",{className:Ae.dashboardDescription,children:[n.jsx("span",{className:Ae.spanNum,children:f.reduce((S,k)=>S+k.students.length,0)}),n.jsx("br",{}),n.jsx("span",{className:Ae.spanLabel,children:"STUDENTS"})]})]}),n.jsxs("button",{className:Ae.dashboardButtons,id:Ae.dashboardButtonStudents,onClick:()=>r("/facultyStaff/students","students"),children:[n.jsx("span",{children:"View Details"}),n.jsx("img",{src:ag,alt:"",className:Ae.buttonIcons})]})]})]})]})}const iB="_mainContainer_11gyd_7",lB="_dashboardContent_11gyd_27",cB="_dashboardHeader_11gyd_39",dB="_searchBar_11gyd_63",uB="_backArrow_11gyd_81",mB="_backBtn_11gyd_89",fB="_subjectInfo_11gyd_103",hB="_infoH2_11gyd_111",pB="_infoSpan_11gyd_125",gB="_instructorInfo_11gyd_191",_B="_searchInput_11gyd_235",vB="_buttonContainer_11gyd_249",yB="_searchBtn_11gyd_261",xB="_addBtn_11gyd_263",bB="_addFile_11gyd_265",jB="_csvFormat_11gyd_267",wB="_tableContainer_11gyd_317",CB="_classInfoTable_11gyd_327",SB="_view_11gyd_367",NB="_editBtn_11gyd_385",IB="_deleteBtn_11gyd_387",$B="_editImg_11gyd_401",kB="_deleteImg_11gyd_403",EB="_modalOverlay_11gyd_437",BB="_modal_11gyd_437",RB="_addInput_11gyd_521",LB="_btnRow_11gyd_543",FB="_selectInput_11gyd_557",PB="_editInput_11gyd_575",AB="_editField_11gyd_599",DB="_uploadField_11gyd_617",TB="_cancelBtn_11gyd_629",OB="_saveBtn_11gyd_647",MB="_confirmDeleteBtn_11gyd_649",UB="_uploadBtn_11gyd_651",zB="_buttonRow_11gyd_723",qB="_loader_11gyd_745",VB="_slideRight_11gyd_1",Le={mainContainer:iB,dashboardContent:lB,dashboardHeader:cB,searchBar:dB,backArrow:uB,backBtn:mB,subjectInfo:fB,infoH2:hB,infoSpan:pB,instructorInfo:gB,searchInput:_B,buttonContainer:vB,searchBtn:yB,addBtn:xB,addFile:bB,csvFormat:jB,tableContainer:wB,classInfoTable:CB,view:SB,editBtn:NB,deleteBtn:IB,editImg:$B,deleteImg:kB,modalOverlay:EB,modal:BB,addInput:RB,btnRow:LB,selectInput:FB,editInput:PB,editField:AB,uploadField:DB,cancelBtn:TB,saveBtn:OB,confirmDeleteBtn:MB,uploadBtn:UB,buttonRow:zB,loader:qB,"l20-1":"_l20-1_11gyd_1","l20-2":"_l20-2_11gyd_1",slideRight:VB},HB=e=>{const[t,s]=j.useState(null),[r,a]=j.useState(null),[i,l]=j.useState(!1),o=j.useCallback(async()=>{if(e!==null){l(!0);try{const g=await U.get(`/api/get_students/${e}`);s(g.data),a(null)}catch(g){a(g)}finally{l(!1)}}},[e]);return j.useEffect(()=>{o()},[o]),{studentById:t,loading:i,errorStudentById:r,refetch:()=>{o()}}},GB=e=>{const[t,s]=j.useState({subject_code:"",subject_title:"",instructor:"",semester:"",academic_year:""}),r=()=>{s({subject_code:"",subject_title:"",instructor:"",semester:"",academic_year:""})},[a,i]=j.useState(!1);return{dataStudentSubject:t,handleChangeStudentSubject:d=>{s({...t,[d.target.name]:d.target.value})},handleSubmitStudentSubject:async()=>{var d,g;i(!0);try{const v=await U.post("/api/post_student_subject",{...t,_id:e},{headers:{"Content-Type":"application/json"}});v.status===200?(E.success("New Student's Subject added successfully"),s({subject_code:"",subject_title:"",instructor:"",semester:"",academic_year:""})):E.error("Unexpected response status: "+v.status)}catch(v){console.error("Error response:",v.response),E.error(((g=(d=v.response)==null?void 0:d.data)==null?void 0:g.message)||"Saving failed. Please try again.")}finally{i(!1)}},resetStudentSubjectForm:r,isStudentSubjectLoading:a}},WB=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{deleteStudentSubject:j.useCallback(async l=>{t(!0),console.log(`Attempting to delete Student's Subject with ID: ${l}`);try{await a(500);const o=await U.delete(`/api/del_student_subject/${l}`);console.log(`Response: ${o.status}`),E.success("Student's Subject deleted successfully")}catch(o){console.error("Error deleting Student's Subject:",o),E.error("Failed to delete Student's Subject"),r(o)}finally{t(!1)}},[]),loadingDelete:e,errorDelete:s}};function Rl(){var C,S;const e=mt(),{id:t}=ps(),s=()=>{e("/admin/students")},{studentById:r,loading:a,errorStudentById:i,refetch:l}=HB(t),{dataStudentSubject:o,handleChangeStudentSubject:d,handleSubmitStudentSubject:g,resetStudentSubjectForm:v,isStudentSubjectLoading:c}=GB(t),[h,_]=j.useState(!1),f=()=>{_(!1)},m=()=>{_(!0)},y=async k=>{k.preventDefault(),await g({...o,_id:t}),v(),l()},{deleteStudentSubject:u,loadingDelete:p}=WB(),[x,w]=j.useState(null),[I,$]=j.useState(!1),N=async()=>{try{await u(x),$(!1),w(null),l()}catch(k){console.error("Failed to delete student subject:",k),E.error("Failed to delete student subject. Please try again.")}},b=k=>{w(k),$(!0)};return n.jsx("div",{className:Le.mainContainer,children:n.jsxs("div",{className:Le.dashboardContent,children:[n.jsxs("div",{className:Le.searchBarContainer,children:[n.jsxs("div",{className:Le.searchBar,children:[n.jsx("button",{onClick:s,className:Le.backBtn,children:n.jsx("img",{src:Ir,className:Le.backArrow,alt:"Back"})}),n.jsxs("button",{className:Le.addBtn,onClick:k=>{k.preventDefault(),m()},children:[n.jsx("img",{src:On,alt:"Add"})," Add"]})]}),n.jsxs("div",{className:Le.subjectInfo,children:[n.jsxs("div",{className:Le.infoH2,children:[n.jsx("h2",{children:"Student ID:"}),n.jsx("h2",{children:"Complete Name:"})]}),n.jsxs("div",{className:Le.infoSpan,children:[n.jsx("span",{children:(r==null?void 0:r.schoolID)||"Loading..."}),n.jsx("span",{children:`${(r==null?void 0:r.first_name)||""} ${(r==null?void 0:r.middle_name)||""} ${(r==null?void 0:r.last_name)||""}`})]})]})]}),n.jsx("div",{className:Le.tableContainer,children:n.jsxs("table",{className:Le.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Subject Code"}),n.jsx("th",{children:"Subject Title"}),n.jsx("th",{children:"Semester"}),n.jsx("th",{children:"AY"}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:(S=(C=r==null?void 0:r.grades)==null?void 0:C.flatMap(k=>k.subjects))==null?void 0:S.map(k=>{var B;return n.jsxs("tr",{children:[n.jsx("td",{children:k.subject_code}),n.jsx("td",{children:k.subject_title||"N/A"}),n.jsx("td",{children:grade.semester})," ",n.jsx("td",{children:grade.academic_year})," ",n.jsx("td",{children:n.jsx("button",{onClick:()=>{var R;return b((R=k._id)==null?void 0:R.$oid)},className:Le.deleteBtn,children:n.jsx("img",{src:Vt,className:Le.deleteImg,alt:"Delete"})})})]},(B=k._id)==null?void 0:B.$oid)})})]})}),h&&n.jsx("div",{className:Le.modalOverlay,children:n.jsxs("div",{className:Le.modal,children:[n.jsx("h2",{children:"Add Student's Subject"}),n.jsxs("form",{onSubmit:y,children:[n.jsxs("div",{className:Le.editInput,children:[n.jsx("label",{children:"Subject Code:"}),n.jsx("input",{className:Le.editField,name:"subject_code",value:o.subject_code,onChange:d,required:!0})]}),n.jsxs("div",{className:Le.editInput,children:[n.jsx("label",{children:"Subject Title:"}),n.jsx("input",{type:"text",className:Le.editField,name:"subject_title",value:o.subject_title,onChange:d,required:!0})]}),n.jsxs("div",{className:Le.editInput,children:[n.jsx("label",{children:"Instructor:"}),n.jsx("input",{type:"text",className:Le.editField,name:"instructor",value:o.instructor,onChange:d,required:!0})]}),n.jsxs("div",{className:Le.editInput,children:[n.jsx("label",{children:"Semester:"}),n.jsxs("select",{className:Le.editField,name:"semester",value:o.semester,onChange:d,required:!0,children:[n.jsx("option",{}),n.jsx("option",{value:"1st",children:"1st"}),n.jsx("option",{value:"2nd",children:"2nd"}),n.jsx("option",{value:"Summer",children:"Summer"})]})]}),n.jsxs("div",{className:Le.editInput,children:[n.jsx("label",{children:"Academic Year:"}),n.jsxs("select",{className:Le.editField,name:"academic_year",value:o.academic_year,onChange:d,required:!0,children:[n.jsx("option",{}),n.jsx("option",{value:"2024-2025",children:"2024-2025"}),n.jsx("option",{value:"2025-2026",children:"2025-2026"})]})]}),n.jsxs("div",{className:Le.btnRow,children:[n.jsx("button",{type:"button",className:Le.cancelBtn,onClick:f,children:"Close"}),n.jsx("button",{type:"submit",className:Le.saveBtn,disabled:c,children:c?n.jsx("div",{className:Le.loader}):"Save"})]})]})]})}),I&&n.jsx("div",{className:Le.modalOverlay,children:n.jsxs("div",{className:Le.modal,children:[n.jsx("h2",{children:"Confirm Deletion"}),n.jsx("h4",{children:"Are you sure you want to delete this Student's Subject?"}),n.jsxs("div",{className:Le.buttonRow,children:[n.jsx("button",{onClick:N,disabled:p,className:Le.confirmDeleteBtn,children:p?n.jsx("div",{className:Le.loader}):"Yes, Delete"}),n.jsx("button",{onClick:()=>$(!1),className:Le.cancelBtn,children:"Cancel"})]})]})})]})})}const YB="_mainContainer_12xgo_7",QB="_dashboardContent_12xgo_27",KB="_dashboardHeader_12xgo_39",JB="_dashboardEntrance_12xgo_57",XB="_dashboardWelcome_12xgo_83",ZB="_wrapper_12xgo_95",eR="_bellIcon_12xgo_105",tR="_shake_12xgo_1",nR="_dashboardIconB_12xgo_191",sR="_dashboardSpan_12xgo_205",rR="_hr1_12xgo_233",aR="_tableContainer_12xgo_257",oR="_classInfoTable_12xgo_267",iR="_slider_12xgo_329",lR="_onlineText_12xgo_345",cR="_slideRight_12xgo_1",Xt={mainContainer:YB,dashboardContent:QB,dashboardHeader:KB,dashboardEntrance:JB,dashboardWelcome:XB,wrapper:ZB,bellIcon:eR,shake:tR,dashboardIconB:nR,dashboardSpan:sR,hr1:rR,tableContainer:aR,classInfoTable:oR,slider:iR,onlineText:lR,slideRight:cR},bo="/assets/userActive-B8p_QZpv.png";function dR(){const{activeUsers:e,loading:t,error:s}=og();return t?n.jsx("p",{children:"Loading..."}):s?n.jsxs("p",{children:["Error loading users: ",s.message]}):n.jsx("div",{className:Xt.mainContainer,children:n.jsx("div",{className:Xt.dashboardContent,children:n.jsx("div",{className:Xt.tableContainer,children:n.jsx("table",{className:Xt.classInfoTable,children:n.jsxs("tbody",{children:[e.students.filter(r=>r.isActive).map(r=>n.jsxs("tr",{children:[n.jsxs("td",{children:[n.jsx("img",{src:bo,className:Xt.slider,alt:"Active"}),r.schoolID]}),n.jsx("td",{className:Xt.onlineText,children:"Online"})]},r._id)),e.facultyStaff.filter(r=>r.isActive).map(r=>n.jsxs("tr",{children:[n.jsxs("td",{children:[n.jsx("img",{src:bo,className:Xt.slider,alt:"Active"}),r.facultyID]}),n.jsx("td",{className:Xt.onlineText,children:"Online"})]},r._id)),e.collegeStaff.filter(r=>r.isActive).map(r=>n.jsxs("tr",{children:[n.jsxs("td",{children:[n.jsx("img",{src:bo,className:Xt.slider,alt:"Active"}),r.ID]}),n.jsx("td",{className:Xt.onlineText,children:"Online"})]},r._id)),e.admins.filter(r=>r.isActive).map(r=>n.jsxs("tr",{children:[n.jsxs("td",{children:[n.jsx("img",{src:bo,className:Xt.slider,alt:"Active"}),r.ID]}),n.jsx("td",{className:Xt.onlineText,children:"Online"})]},r._id))]})})})})})}const uR="_mainContainer_19n93_7",mR="_dashboardContent_19n93_27",fR="_searchBar_19n93_43",hR="_searchInput_19n93_61",pR="_buttonContainer_19n93_77",gR="_searchBtn_19n93_89",_R="_addBtn_19n93_91",vR="_addFile_19n93_93",yR="_csvFormat_19n93_95",xR="_tableContainer_19n93_145",bR="_classInfoTable_19n93_155",jR="_view_19n93_195",wR="_actionRow_19n93_213",CR="_editBtn_19n93_227",SR="_deleteBtn_19n93_229",NR="_listBtn_19n93_231",IR="_editImg_19n93_247",$R="_deleteImg_19n93_249",kR="_listImg_19n93_251",ER="_modalOverlay_19n93_289",BR="_modal_19n93_289",RR="_addInput_19n93_363",LR="_btnRow_19n93_385",FR="_selectInput_19n93_399",PR="_inputWithButton_19n93_417",AR="_editInput_19n93_475",DR="_editField_19n93_499",TR="_uploadField_19n93_519",OR="_cancelBtn_19n93_537",MR="_sendCode_19n93_557",UR="_saveBtn_19n93_557",zR="_confirmDeleteBtn_19n93_569",qR="_uploadBtn_19n93_571",VR="_ripple_19n93_615",HR="_codeRow_19n93_645",GR="_success_19n93_657",WR="_error_19n93_657",YR="_buttonRow_19n93_1035",QR="_loader_19n93_1057",KR="_slideRight_19n93_1",je={mainContainer:uR,dashboardContent:mR,searchBar:fR,searchInput:hR,buttonContainer:pR,searchBtn:gR,addBtn:_R,addFile:vR,csvFormat:yR,tableContainer:xR,classInfoTable:bR,view:jR,actionRow:wR,editBtn:CR,deleteBtn:SR,listBtn:NR,editImg:IR,deleteImg:$R,listImg:kR,modalOverlay:ER,modal:BR,addInput:RR,btnRow:LR,selectInput:FR,inputWithButton:PR,editInput:AR,editField:DR,uploadField:TR,cancelBtn:OR,sendCode:MR,saveBtn:UR,confirmDeleteBtn:zR,uploadBtn:qR,ripple:VR,codeRow:HR,success:GR,error:WR,buttonRow:YR,loader:QR,"l20-1":"_l20-1_19n93_1","l20-2":"_l20-2_19n93_1",slideRight:KR},JR="/assets/list-Dxw5MAbA.png",XR=e=>{const[t,s]=j.useState([]),[r,a]=j.useState([]),[i,l]=j.useState(""),[o,d]=j.useState(!1),[g,v]=j.useState(!1),c=j.useCallback(async()=>{d(!0);try{const _=await U.get("/api/get_faculty_staff",{params:{search:e}});s(_.data),e===""&&a(_.data),g||(E.info("👨‍🏫 Faculty Staff data loaded successfully! 🎉"),v(!0))}catch(_){E.error("🚨 Error fetching Faculty Staffs: "+_.message),l(_)}finally{d(!1)}},[e,g]);return j.useEffect(()=>{c()},[c]),{faculty:t,originalFaculty:r,errorFaculty:i,facultyLoading:o,refetch:()=>{v(!1),c()}}},cg=()=>{const e=g=>new Promise(v=>setTimeout(v,g)),[t,s]=j.useState({email:"",facultyID:"",last_name:"",first_name:"",middle_initial:"",department:"",contact_number:""}),r=()=>{s({email:"",facultyID:"",last_name:"",first_name:"",middle_initial:"",department:"",contact_number:""})},[a,i]=j.useState(!1),l=g=>{const c=g.replace(/[^A-Za-z0-9]/g,"").match(/^([A-Za-z]{2})(\d{0,3})$/);return c?`${c[1]}-${c[2]}`:g};return{dataFaculty:t,handleChangeFaculty:g=>{const{name:v,value:c}=g.target;if(v==="facultyID"){const h=l(c);if(h.replace(/-/g,"").length>5){E.warn("Faculty ID cannot exceed the format AB-123.");return}s(_=>({..._,[v]:h}))}else s(h=>({...h,[v]:c}))},handleSubmitFaculty:async()=>{const g=te.object({ID:te.string(),facultyID:te.string().required(),last_name:te.string().required(),first_name:te.string().required(),middle_initial:te.string().required(),department:te.string().required(),contact_number:te.string().required(),email:te.string().email({tlds:{allow:!1}}).required(),subjects:te.array().items(te.any()).default([]),isActive:te.boolean().default(!0),createdAt:te.date().default(Date.now)}),{errorFaculty:v}=g.validate(t,{abortEarly:!1});if(v){E.error("Validation Error:",v.details);return}i(!0);try{await e(100);const c=await U.post("/api/post_faculty_staff",t,{headers:{"Content-Type":"application/json"}});c.status===201?(E.success("Successfully Added New Faculty Staff"),s({email:"",facultyID:"",last_name:"",first_name:"",middle_initial:"",department:"",contact_number:""})):E.error("Unexpected response status: "+c.status)}catch(c){E.error(`Registration failed. Please try again. ${c.response.data.message}`)}finally{i(!1)}},resetFacultyForm:r,isFacultyStaffLoading:a}},ZR=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{deleteFacultyStaff:j.useCallback(async l=>{t(!0);try{await a(500),await U.delete(`/api/del_faculty_staff/${l}`),E.success("Faculty Staff deleted successfully")}catch(o){console.error("Error deleting Faculty Staff:",o),E.error("Failed to delete Faculty Staff"),r(o)}finally{t(!1)}},[]),loadingDelete:e,errorDelete:s}},eL=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{uploadFile:async l=>{const o=new FormData;o.append("file",l),t(!0);try{await a(100),r(null);const d=await U.post("/api/post_faculty_staff_upload",o,{headers:{"Content-Type":"multipart/form-data"}});return E.success("File uploaded successfully!"),t(!1),d.data}catch(d){throw console.error("Upload error:",d),E.error("Failed to upload file. Please try again."),r(d),t(!1),d}},loading:e,error:s}};function jo(){const[e,t]=j.useState(!1),s=mt(),{updatePath:r}=Rt(),[a,i]=j.useState(""),{faculty:l,errorFaculty:o,facultyLoading:d,refetch:g}=XR(a),{dataFaculty:v,handleChangeFaculty:c,handleSubmitFaculty:h,resetFacultyForm:_,isFacultyStaffLoading:f}=cg(),[m,y]=j.useState(null),{deleteFacultyStaff:u,loadingDelete:p,errorDelete:x}=ZR(),[w,I]=j.useState(null),[$,N]=j.useState(!1),b=j.useCallback(gs(ne=>{i(ne)},100),[]),C=ne=>{ne.preventDefault(),b(ne.target.value)},S=async ne=>{ne.preventDefault();try{switch(m){case"faculty":await h(),_();break;default:E.warn("Unknown submission type");return}}catch(T){console.error("Error during save process:",T),E.error("Error during save process:",T)}},k=ne=>{if(ne.target.name==="contact_number"&&ne.target.value.length>11){E.warn("Contact number must be exactly 11 digits.");return}c(ne)},B=ne=>{ne?(s(`/admin/instructors/instructors_load/${ne}`),r("Instructor's List","Instructor's Load")):console.error("Instructor ID is undefined")},R=()=>{s("/admin/instructors/instructors_load")},L=ne=>{I(ne),N(!0)},A=async()=>{try{await u(w),N(!1),I(null),g()}catch(ne){console.error("Failed to delete faculty staff:",ne),E.error("Failed to delete faculty staff. Please try again.")}},q=()=>{y("faculty"),t(!0)},G=()=>{t(!1),z(!1)},D=()=>{let ne=`facultyID,last_name,first_name,middle_initial,department,contact_number,email
`;const T=new Blob([ne],{type:"text/csv;charset=utf-8;"}),ye=URL.createObjectURL(T),F=document.createElement("a");F.href=ye,F.download="faculty_staffs_format.csv",document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(ye)},[V,z]=j.useState(!1),[M,H]=j.useState(null),{uploadFile:me,loading:K,error:ue}=eL(),Q=async ne=>{if(ne.preventDefault(),M)try{const T=await me(M);g(),console.log("Upload successful:",T),H(null),G()}catch(T){console.error("Upload failed:",T)}else E.warn("Please select a file to upload.")},fe=()=>{z(!0)},Fe=ne=>{const T=ne.target.files[0];T&&T.type!=="text/csv"?(E.warn("Only .csv files are allowed."),H(null)):H(T)},{departments:ie}=_s();return o?n.jsxs("p",{children:["Error fetching subjects: ",o.message]}):n.jsxs("div",{className:e||V?`${je.mainContainer} ${je.blurred}`:je.mainContainer,children:[n.jsxs("div",{className:je.dashboardContent,children:[n.jsxs("div",{className:je.searchBar,children:[n.jsx("input",{type:"text",placeholder:"Search Instructor...",className:je.searchInput,value:a,onChange:C}),n.jsx("div",{className:je.buttonContainer,children:n.jsxs("button",{className:je.addBtn,onClick:q,children:[n.jsx("img",{src:On,alt:""}),"Add"]})}),n.jsxs("button",{className:je.addFile,onClick:fe,children:[n.jsx("img",{src:Dn,alt:""}),"Upload File"]}),n.jsxs("button",{className:je.csvFormat,onClick:D,children:[n.jsx("img",{src:An,alt:""})," CSV Format"]})]}),n.jsx("div",{className:je.tableContainer,children:n.jsxs("table",{className:je.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"#"}),n.jsx("th",{children:"Department"}),n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Last Name"}),n.jsx("th",{children:"First Name"}),n.jsx("th",{children:"Middle Initial"}),n.jsx("th",{children:"Contact Number"}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:d?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center"},children:"Loading..."})}):Array.isArray(l)&&l.length>0?l.map(ne=>n.jsxs("tr",{children:[n.jsx("td",{children:ne.originalFacultyStaff}),n.jsx("td",{children:ne.department}),n.jsx("td",{children:ne.facultyID}),n.jsx("td",{children:ne.last_name}),n.jsx("td",{children:ne.first_name}),n.jsx("td",{children:ne.middle_initial}),n.jsx("td",{children:ne.contact_number}),n.jsx("td",{children:n.jsxs("div",{className:je.actionRow,children:[n.jsx("button",{onClick:()=>{R(),B(ne._id)},className:je.listBtn,children:n.jsx("img",{src:JR,alt:"",className:je.listImg,title:"Instructor's Load"})}),n.jsx("button",{onClick:()=>L(ne._id),className:je.deleteBtn,children:n.jsx("img",{src:Vt,className:je.deleteImg})})]})})]},ne._id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center"},children:"No data available"})})})]})})]}),e&&n.jsx("div",{className:je.modalOverlay,children:n.jsxs("div",{className:je.modal,children:[n.jsx("h2",{children:"Add New Faculty Staff"}),n.jsxs("form",{onSubmit:S,children:[n.jsxs("div",{className:je.editInput,children:[n.jsx("label",{children:"Email:"}),n.jsx("div",{className:je.inputWithButton,children:n.jsx("input",{id:"email",name:"email",type:"email",className:je.editField,value:v.email,onChange:ne=>{c(ne)},required:!0})})]}),n.jsxs("div",{className:je.editInput,children:[n.jsx("label",{children:"Faculty ID:"}),n.jsx("input",{type:"text",className:je.editField,id:"facultyID",name:"facultyID",value:v.facultyID,onChange:c,required:!0})]}),n.jsxs("div",{className:je.editInput,children:[n.jsx("label",{children:"Last Name:"}),n.jsx("input",{type:"text",className:je.editField,id:"last_name",name:"last_name",value:v.last_name,onChange:c,required:!0})]}),n.jsxs("div",{className:je.editInput,children:[n.jsx("label",{children:"First Name:"}),n.jsx("input",{type:"text",className:je.editField,id:"first_name",name:"first_name",value:v.first_name,onChange:c,required:!0})]}),n.jsxs("div",{className:je.editInput,children:[n.jsx("label",{children:"Middle Initial:"}),n.jsx("input",{type:"text",className:je.editField,id:"middle_initial",name:"middle_initial",value:v.middle_initial,onChange:c,required:!0})]}),n.jsxs("div",{className:je.editInput,children:[n.jsx("label",{children:"Department:"}),n.jsxs("select",{type:"text",className:je.editField,id:"department",name:"department",value:v.department,onChange:c,required:!0,children:[n.jsx("option",{value:""}),ie.map(ne=>n.jsx("option",{value:ne.department,children:ne.department},ne._id))]})]}),n.jsxs("div",{className:je.editInput,children:[n.jsx("label",{children:"Contact Number:"}),n.jsx("input",{type:"number",className:je.editField,id:"contact_number",name:"contact_number",value:v.contact_number,onChange:k,pattern:"\\d{11}",required:!0})]}),n.jsxs("div",{className:je.btnRow,children:[n.jsx("button",{type:"button",className:je.cancelBtn,onClick:G,children:"Close"}),n.jsx("button",{type:"submit",className:je.saveBtn,disabled:f,children:f?n.jsx("div",{className:je.loader}):"Save"})]})]})]})}),$&&n.jsx("div",{className:je.modalOverlay,children:n.jsxs("div",{className:je.modal,children:[n.jsx("h2",{children:"Confirm Deletion"}),n.jsx("h4",{children:"Are you sure you want to delete this faculty staff?"}),n.jsxs("div",{className:je.buttonRow,children:[n.jsx("button",{onClick:A,disabled:p,className:je.confirmDeleteBtn,children:p?n.jsx("div",{className:je.loader}):"Yes, Delete"}),n.jsx("button",{onClick:()=>N(!1),className:je.cancelBtn,children:"Cancel"})]})]})}),V&&n.jsx("div",{className:je.modalOverlay,children:n.jsxs("div",{className:je.modal,children:[n.jsx("h2",{children:"Upload CSV File"}),n.jsxs("form",{onSubmit:Q,children:[n.jsxs("div",{className:je.uploadInput,children:[n.jsx("label",{children:"Select File:"}),n.jsx("input",{type:"file",accept:".csv",className:je.uploadField,onChange:Fe})]}),n.jsxs("div",{className:je.btnRow,children:[n.jsx("button",{type:"button",className:je.cancelBtn,onClick:G,children:"Close"}),n.jsx("button",{type:"submit",className:je.uploadBtn,disabled:K,children:K?n.jsx("div",{className:je.loader}):"Upload"})]})]})]})})]})}const tL="_mainContainer_1fjgy_7",nL="_searchBar_1fjgy_23",sL="_searchInput_1fjgy_39",rL="_buttonContainer_1fjgy_53",aL="_searchBtn_1fjgy_65",oL="_addBtn_1fjgy_67",iL="_addFile_1fjgy_69",lL="_csvFormat_1fjgy_71",cL="_dashboardContent_1fjgy_119",dL="_dashboardHeader_1fjgy_131",uL="_dashboardEntrance_1fjgy_149",mL="_dashboardWelcome_1fjgy_175",fL="_wrapper_1fjgy_187",hL="_bellIcon_1fjgy_197",pL="_shake_1fjgy_1",gL="_dashboardIconB_1fjgy_283",_L="_dashboardSpan_1fjgy_297",vL="_hr1_1fjgy_325",yL="_backArrow_1fjgy_363",xL="_backBtn_1fjgy_371",bL="_instructorInfo_1fjgy_383",jL="_infoH2_1fjgy_393",wL="_infoSpan_1fjgy_407",CL="_tableContainer_1fjgy_433",SL="_classInfoTable_1fjgy_443",NL="_view_1fjgy_483",IL="_viewBtn_1fjgy_501",$L="_editBtn_1fjgy_519",kL="_deleteBtn_1fjgy_521",EL="_editImg_1fjgy_535",BL="_deleteImg_1fjgy_537",RL="_modalOverlay_1fjgy_569",LL="_modal_1fjgy_569",FL="_addInput_1fjgy_653",PL="_btnRow_1fjgy_675",AL="_selectInput_1fjgy_689",DL="_editInput_1fjgy_707",TL="_editField_1fjgy_731",OL="_uploadField_1fjgy_749",ML="_cancelBtn_1fjgy_761",UL="_saveBtn_1fjgy_779",zL="_confirmDeleteBtn_1fjgy_781",qL="_uploadBtn_1fjgy_783",VL="_buttonRow_1fjgy_855",HL="_loader_1fjgy_877",GL="_slideRight_1fjgy_1",be={mainContainer:tL,searchBar:nL,searchInput:sL,buttonContainer:rL,searchBtn:aL,addBtn:oL,addFile:iL,csvFormat:lL,dashboardContent:cL,dashboardHeader:dL,dashboardEntrance:uL,dashboardWelcome:mL,wrapper:fL,bellIcon:hL,shake:pL,dashboardIconB:gL,dashboardSpan:_L,hr1:vL,backArrow:yL,backBtn:xL,instructorInfo:bL,infoH2:jL,infoSpan:wL,tableContainer:CL,classInfoTable:SL,view:NL,viewBtn:IL,editBtn:$L,deleteBtn:kL,editImg:EL,deleteImg:BL,modalOverlay:RL,modal:LL,addInput:FL,btnRow:PL,selectInput:AL,editInput:DL,editField:TL,uploadField:OL,cancelBtn:ML,saveBtn:UL,confirmDeleteBtn:zL,uploadBtn:qL,buttonRow:VL,loader:HL,"l20-1":"_l20-1_1fjgy_1","l20-2":"_l20-2_1fjgy_1",slideRight:GL},dg=j.createContext(),ug=()=>{const e=j.useContext(dg);if(e===void 0)throw new Error("useInstructorId must be used within an InstructorIdProvider");return e},WL=({children:e})=>{const[t,s]=j.useState(null),[r,a]=j.useState(null),i=l=>{a(t),s(l)};return n.jsx(dg.Provider,{value:{selectedInstructorId:t,previousInstructorId:r,updateInstructorIds:i},children:e})},mg=e=>{const[t,s]=j.useState(null),[r,a]=j.useState(null),[i,l]=j.useState(!1),o=j.useCallback(async()=>{if(e!==null){l(!0);try{const g=await U.get(`/api/get_faculty_staff/${e}`);s(g.data),a(null)}catch(g){a(g)}finally{l(!1)}}},[e]);return j.useEffect(()=>{o()},[o]),{instructor:t,loading:i,errorInstructor:r,refetchInstructor:()=>{o()}}},YL=e=>{const t=g=>new Promise(v=>setTimeout(v,g)),[s,r]=j.useState({subject_code:"",subject_title:"",course:"",year:"",section:"",semester:"",academic_year:""}),a=()=>{r({subject_code:"",subject_title:"",course:"",year:"",section:"",semester:"",academic_year:""})},[i,l]=j.useState(!1);return{dataInstructorsLoad:s,handleChangeInstructorsLoad:g=>{r({...s,[g.target.name]:g.target.value})},handleSubmitInstructorsLoad:async()=>{var c,h;const g=te.object({subject_code:te.string().required(),subject_title:te.string().required(),course:te.string().required(),year:te.string().required(),section:te.string().required(),semester:te.string().required(),academic_year:te.string().required(),_id:te.string().required()}),{error:v}=g.validate({...s,_id:e},{abortEarly:!1});if(v){const _=v.details.map(f=>f.message).join(", ");E.error(_);return}console.log("Data being submitted:",{...s,_id:e}),l(!0);try{await t(500);const _=await U.post("/api/post_instructors_load",{...s,_id:e},{headers:{"Content-Type":"application/json"}});if(_.status===200)a(),E.success("New Instructor's Load added successfully");else{const f="Unexpected response status: "+_.status;E.error(f)}}catch(_){console.error("Error response:",_.response);const f=((h=(c=_.response)==null?void 0:c.data)==null?void 0:h.message)||"Saving failed. Please try again.";E.error(f)}finally{l(!1)}},resetInstructorsLoadForm:a,isInstructorsLoadLoading:i}},QL=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{deleteInstructorsLoad:j.useCallback(async l=>{t(!0),console.log(`Attempting to delete Instructor's Load with ID: ${l}`);try{await a(500),console.log(`Deleting from URL: /api/del_instructors_load/${l}`);const o=await U.delete(`/api/del_instructors_load/${l}`);console.log(`Response: ${o.status}`),E.success("Instructor's Load deleted successfully")}catch(o){console.error("Error deleting Instructor's Load:",o),E.error("Failed to delete Instructor's Load"),r(o)}finally{t(!1)}},[]),loadingDelete:e,errorDelete:s}},KL=e=>{const[t,s]=j.useState(!1),[r,a]=j.useState(null),i=o=>new Promise(d=>setTimeout(d,o));return{uploadFile:async o=>{const d=new FormData;d.append("file",o),d.append("instructorId",e),console.log("formData: ",d),s(!0);try{await i(500),a(null);const g=await U.post("/api/post_instructors_load_upload",d,{headers:{"Content-Type":"multipart/form-data"}});return E.success("File uploaded successfully!"),s(!1),g.data}catch(g){throw console.error("Upload error:",g),E.error("Failed to upload file. Please try again."),a(g),s(!1),g}},loading:t,error:r}};function wo(){const[e,t]=j.useState(!1),s=mt(),{updatePath:r}=Rt(),{id:a}=ps(),{selectedInstructorId:i,setSelectedInstructorId:l,updateInstructorIds:o}=ug();j.useEffect(()=>{o(a||null)},[a,o]);const{instructor:d,errorInstructor:g,refetchInstructor:v}=mg(i),c=()=>{t(!0)},{dataInstructorsLoad:h,handleChangeInstructorsLoad:_,handleSubmitInstructorsLoad:f,resetInstructorsLoadForm:m,isInstructorsLoadLoading:y}=YL(i),u=async Q=>{Q.preventDefault(),await f({...h,_id:i}),m(),v()},{uploadFile:p,loading:x,error:w}=KL(i),[I,$]=j.useState(null),[N,b]=j.useState(!1),C=async Q=>{if(Q.preventDefault(),I){console.log("Selected file:",I);try{const fe=await p(I);v(),console.log("Upload successful:",fe),$(null),ue()}catch(fe){console.error("Upload failed:",fe)}}else E.warn("Please select a file to upload.")},S=()=>{b(!0)},k=Q=>{const fe=Q.target.files[0];fe&&fe.type!=="text/csv"?(E.error("Only .csv files are allowed."),$(null)):$(fe)},B=()=>{let Q=`subject_code,subject_title,course,year,section,semester,academic_year
`;const fe=new Blob([Q],{type:"text/csv;charset=utf-8;"}),Fe=URL.createObjectURL(fe),ie=document.createElement("a");ie.href=Fe,ie.download="Instructor's_Load_format.csv",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),URL.revokeObjectURL(Fe)},R=()=>{r("Instructor's List","Instructor's Load / Subject Students")},L=()=>{r("Instructor's List")},{deleteInstructorsLoad:A,loadingDelete:q}=QL(),[G,D]=j.useState(null),[V,z]=j.useState(!1),M=async()=>{try{await A(G),z(!1),D(null),v()}catch(Q){console.error("Failed to delete class program:",Q),E.error("Failed to delete class program. Please try again.")}},H=Q=>{D(Q),z(!0)},me=()=>{s("/admin/instructors"),o(null)},K=Q=>{s(`/admin/instructors/instructors_load/${i}/instructors_student/${Q}`)},ue=()=>{t(!1),b(!1)};return n.jsx("div",{className:e?`${be.mainContainer} ${be.blurred}`:be.mainContainer,children:n.jsxs("div",{className:be.dashboardContent,children:[n.jsxs("div",{className:be.searchBarContainer,children:[n.jsxs("div",{className:be.searchBar,children:[n.jsx("button",{onClick:()=>{me(),L()},className:be.backBtn,children:n.jsx("img",{src:Ir,className:be.backArrow,alt:"Back"})}),n.jsxs("button",{className:be.addBtn,onClick:Q=>{Q.preventDefault(),c()},children:[n.jsx("img",{src:On,alt:"Add"})," Add"]}),n.jsxs("button",{className:be.addFile,onClick:S,children:[n.jsx("img",{src:Dn,alt:""}),"Upload File"]}),n.jsxs("button",{className:be.csvFormat,onClick:B,children:[n.jsx("img",{src:An,alt:""})," CSV Format"]})]}),n.jsxs("div",{className:be.instructorInfo,children:[n.jsxs("div",{className:be.infoH2,children:[n.jsx("h2",{children:"Instructor's ID:"}),n.jsx("h2",{children:"Complete Name:"})]}),n.jsxs("div",{className:be.infoSpan,children:[n.jsx("span",{children:(d==null?void 0:d.facultyID)||"N/A"}),n.jsx("span",{children:d?`${d.first_name} ${d.middle_initial} ${d.last_name}`:"N/A"})]})]})]}),n.jsx("div",{className:be.tableContainer,children:n.jsxs("table",{className:be.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Subject Code"}),n.jsx("th",{children:"Subject Title"}),n.jsx("th",{children:"Students"}),n.jsx("th",{children:"Course"}),n.jsx("th",{children:"Year"}),n.jsx("th",{children:"Section"}),n.jsx("th",{children:"Semester"}),n.jsxs("th",{children:["Academic ",n.jsx("br",{})," Year"]}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:Array.isArray(d==null?void 0:d.load)&&d.load.map(Q=>n.jsxs("tr",{children:[n.jsx("td",{children:Q.subject_code}),n.jsx("td",{children:Q.subject_title}),n.jsx("td",{children:n.jsx("button",{className:be.viewBtn,onClick:()=>{K(Q._id),R()},children:"View"})}),n.jsx("td",{children:Q.course}),n.jsx("td",{children:Q.year}),n.jsx("td",{children:Q.section}),n.jsx("td",{children:Q.semester}),n.jsx("td",{children:Q.academic_year}),n.jsx("td",{children:n.jsx("button",{className:be.deleteBtn,onClick:()=>H(Q._id),children:n.jsx("img",{src:Vt,className:be.deleteImg,alt:"Delete"})})})]},Q._id))})]})}),e&&n.jsx("div",{className:be.modalOverlay,children:n.jsxs("div",{className:be.modal,children:[n.jsx("h2",{children:"Add Class Program"}),n.jsxs("form",{onSubmit:u,children:[n.jsxs("div",{className:be.editInput,children:[n.jsx("label",{children:"Subject Code:"}),n.jsx("input",{className:be.editField,name:"subject_code",value:h.subject_code,onChange:_,required:!0})]}),n.jsxs("div",{className:be.editInput,children:[n.jsx("label",{children:"Subject Title:"}),n.jsx("input",{type:"text",className:be.editField,name:"subject_title",value:h.subject_title,onChange:_,required:!0})]}),n.jsxs("div",{className:be.editInput,children:[n.jsx("label",{children:"Course:"}),n.jsxs("select",{type:"text",className:be.editField,name:"course",value:h.course,onChange:_,required:!0,children:[n.jsx("option",{}),n.jsx("option",{value:"BSCS",children:"BSCS"}),n.jsx("option",{value:"BSIS",children:"BSIS"})]})]}),n.jsxs("div",{className:be.editInput,children:[n.jsx("label",{children:"Year:"}),n.jsxs("select",{type:"text",className:be.editField,name:"year",value:h.year,onChange:_,required:!0,children:[n.jsx("option",{}),n.jsx("option",{value:"1",children:"1"}),n.jsx("option",{value:"2",children:"2"}),n.jsx("option",{value:"3",children:"3"}),n.jsx("option",{value:"4",children:"4"})]})]}),n.jsxs("div",{className:be.editInput,children:[n.jsx("label",{children:"Section:"}),n.jsxs("select",{type:"text",className:be.editField,name:"section",value:h.section,onChange:_,required:!0,children:[n.jsx("option",{}),n.jsx("option",{value:"A",children:"A"}),n.jsx("option",{value:"B",children:"B"}),n.jsx("option",{value:"C",children:"C"}),n.jsx("option",{value:"D",children:"D"})]})]}),n.jsxs("div",{className:be.editInput,children:[n.jsx("label",{children:"Semester:"}),n.jsxs("select",{className:be.editField,name:"semester",value:h.semester,onChange:_,required:!0,children:[n.jsx("option",{}),n.jsx("option",{value:"1st",children:"1st"}),n.jsx("option",{value:"2nd",children:"2nd"}),n.jsx("option",{value:"Summer",children:"Summer"})]})]}),n.jsxs("div",{className:be.editInput,children:[n.jsx("label",{children:"Academic Year:"}),n.jsxs("select",{className:be.editField,name:"academic_year",value:h.academic_year,onChange:_,required:!0,children:[n.jsx("option",{}),n.jsx("option",{value:"2024-2025",children:"2024-2025"}),n.jsx("option",{value:"2025-2026",children:"2025-2026"})]})]}),n.jsxs("div",{className:be.btnRow,children:[n.jsx("button",{type:"button",className:be.cancelBtn,onClick:ue,children:"Close"}),n.jsx("button",{type:"submit",className:be.saveBtn,disabled:y,children:y?n.jsx("div",{className:be.loader}):"Save"})]})]})]})}),N&&n.jsx("div",{className:be.modalOverlay,children:n.jsxs("div",{className:be.modal,children:[n.jsx("h2",{children:"Upload CSV File"}),n.jsxs("form",{onSubmit:C,children:[n.jsxs("div",{className:be.uploadInput,children:[n.jsx("label",{children:"Select File:"}),n.jsx("input",{type:"file",accept:".csv",className:be.uploadField,onChange:k}),w&&n.jsx("p",{className:be.error,children:w})]}),n.jsxs("div",{className:be.btnRow,children:[n.jsx("button",{type:"button",className:be.cancelBtn,onClick:ue,children:"Close"}),n.jsx("button",{type:"submit",className:be.uploadBtn,disabled:x,children:x?n.jsx("div",{className:be.loader}):"Upload"})]})]})]})}),V&&n.jsx("div",{className:be.modalOverlay,children:n.jsxs("div",{className:be.modal,children:[n.jsx("h2",{children:"Confirm Deletion"}),n.jsx("h4",{children:"Are you sure you want to delete this Instructor's Load?"}),n.jsxs("div",{className:be.buttonRow,children:[n.jsx("button",{onClick:M,disabled:q,className:be.confirmDeleteBtn,children:q?n.jsx("div",{className:be.loader}):"Yes, Delete"}),n.jsx("button",{onClick:()=>z(!1),className:be.cancelBtn,children:"Cancel"})]})]})}),n.jsx(wn,{})]})})}const JL="_mainContainer_yawrg_7",XL="_dashboardContent_yawrg_29",ZL="_searchBar_yawrg_47",eF="_searchInput_yawrg_65",tF="_searchInputAdd_yawrg_67",nF="_searchBtn_yawrg_83",sF="_addBtn_yawrg_85",rF="_addFile_yawrg_87",aF="_csvFormat_yawrg_89",oF="_ripple_yawrg_137",iF="_backArrow_yawrg_157",lF="_backBtn_yawrg_165",cF="_instructorInfo_yawrg_177",dF="_infoH2_yawrg_185",uF="_infoSpan_yawrg_199",mF="_tableContainer_yawrg_225",fF="_classInfoTable_yawrg_235",hF="_view_yawrg_275",pF="_viewBtn_yawrg_293",gF="_editBtn_yawrg_311",_F="_deleteBtn_yawrg_313",vF="_editImg_yawrg_325",yF="_deleteImg_yawrg_327",xF="_actionRow_yawrg_341",bF="_addStudentImg_yawrg_355",jF="_addStudentBtn_yawrg_365",wF="_modalOverlay_yawrg_397",CF="_modal_yawrg_397",SF="_btnRow_yawrg_471",NF="_addInput_yawrg_485",IF="_selectInput_yawrg_509",$F="_editInput_yawrg_527",kF="_editField_yawrg_551",EF="_uploadField_yawrg_571",BF="_cancelBtn_yawrg_591",RF="_saveBtn_yawrg_609",LF="_confirmDeleteBtn_yawrg_611",FF="_uploadBtn_yawrg_613",PF="_buttonRow_yawrg_707",AF="_loader_yawrg_725",DF="_slideRight_yawrg_1",ve={mainContainer:JL,dashboardContent:XL,searchBar:ZL,searchInput:eF,searchInputAdd:tF,searchBtn:nF,addBtn:sF,addFile:rF,csvFormat:aF,ripple:oF,backArrow:iF,backBtn:lF,instructorInfo:cF,infoH2:dF,infoSpan:uF,tableContainer:mF,classInfoTable:fF,view:hF,viewBtn:pF,editBtn:gF,deleteBtn:_F,editImg:vF,deleteImg:yF,actionRow:xF,addStudentImg:bF,addStudentBtn:jF,modalOverlay:wF,modal:CF,btnRow:SF,addInput:NF,selectInput:IF,editInput:$F,editField:kF,uploadField:EF,cancelBtn:BF,saveBtn:RF,confirmDeleteBtn:LF,uploadBtn:FF,buttonRow:PF,loader:AF,"l20-1":"_l20-1_yawrg_1","l20-2":"_l20-2_yawrg_1",slideRight:DF},Xd="/assets/addB-CFEqUoso.png",fg=e=>{const[t,s]=j.useState([]),[r,a]=j.useState([]),[i,l]=j.useState("");return j.useEffect(()=>{(async()=>{try{const d=await U.get("/api/get_student_to_class_prog",{params:{search:e}});s(d.data),e===""&&a(d.data)}catch(d){E.error("Error fetching Student Staffs",d.message),l(d)}})()},[e]),{students:t,originalStudent:r,errorStudent:i}},TF=(e,t)=>{const[s,r]=j.useState(!1),[a,i]=j.useState(null),l=d=>new Promise(g=>setTimeout(g,d));return{addStudent:async d=>{if(!e||!t)return console.error("Faculty ID or Load ID is not defined."),null;r(!0),i(null);try{await l(500);const g=await U.post(`/api/post_instructors_load_student/${e}/load/${t}/add_student`,d);return r(!1),g.data}catch(g){r(!1);const v=g.response?g.response.data:"Error adding student";return console.error("Error adding student:",v),i(v),null}},isLoadingAddStudent:s,errorAddStudent:a}},OF=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{deleteStudent:async(l,o,d)=>{t(!0),r(null);try{await a(500);const g=await U.delete(`/api/post_instructors_load_student/${l}/load/${o}/student/${d}`);return t(!1),g.data}catch(g){t(!1);const v=g.response?g.response.data.message:"Error deleting student";return r(v),null}},isLoadingDeleteStudent:e,errorDeleteStudent:s}},MF=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null);return{uploadCSV:async(i,l,o)=>{var g,v;if(!i||!l||!o){r("File, Instructor ID, and Load ID are required."),console.warn("Missing file, instructorId, or loadId");return}const d=new FormData;d.append("file",i);try{t(!0),r(null),console.log("Uploading CSV with instructorId:",l,"and loadId:",o);const c=await U.post(`/api/post_instructors_load_upload_students/${l}/load/${o}`,d,{headers:{"Content-Type":"multipart/form-data"}});return t(!1),console.log("Upload successful:",c.data),c.data}catch(c){throw console.error("Upload failed:",c),r(((v=(g=c.response)==null?void 0:g.data)==null?void 0:v.message)||"Upload failed. Please try again."),t(!1),c}},uploading:e,error:s}};function Co(){var de;const{loadId:e}=ps(),t=mt(),[s,r]=j.useState(!1),[a,i]=j.useState(!1),{updatePath:l}=Rt(),{previousInstructorId:o}=ug(),{instructor:d,loading:g,errorInstructor:v,refetchInstructor:c}=mg(o),h=(de=d==null?void 0:d.load)==null?void 0:de.find(Y=>typeof Y._id=="object"&&Y._id.$oid?Y._id.$oid===e:Y._id===e),_=()=>{t(`/admin/instructors/instructors_load/${o}`),l("Instructor's List","Instructor's Load")},{addStudent:f,isLoadingAddStudent:m,errorAddStudent:y}=TF(o,e),[u,p]=j.useState(""),{students:x,errorStudent:w,loadingStudent:I}=fg(u),[$,N]=j.useState(new Set),b=Y=>{Y.preventDefault(),r(!0)},C=j.useCallback(gs(Y=>{p(Y)},100),[]),S=Y=>{Y.preventDefault(),C(Y.target.value)},k=async Y=>{N(ae=>{const le=new Set(ae);return le.add(Y._id),le});const ze={schoolID:Y.schoolID,last_name:Y.last_name,first_name:Y.first_name,middle_initial:Y.middle_initial};try{const ae=await f(ze);N(le=>{const ke=new Set(le);return ke.delete(Y._id),ke}),ae?(E.success("Student added successfully"),c(),r(!1)):E.error("Failed to add student")}catch(ae){console.error("Error adding student:",ae),E.error("Failed to add student"),N(le=>{const ke=new Set(le);return ke.delete(Y._id),ke})}},[B,R]=j.useState(!1),[L,A]=j.useState(null),{deleteStudent:q,isLoadingDeleteStudent:G,errorDeleteStudent:D}=OF(),V=async()=>{if(!L||!e||!o)return;await q(o,e,L)?(E.success("Student deleted successfully"),c(),R(!1)):E.error("Failed to delete student")},z=Y=>{A(Y),R(!0)},M=()=>{i(!1),r(!1),R(!1),me(!1)},[H,me]=j.useState(!1),[K,ue]=j.useState(null),[Q,fe]=j.useState(""),{uploadCSV:Fe,uploading:ie}=MF(),ne=async Y=>{if(Y.preventDefault(),K){console.log("Selected file:",K);try{const ze=await Fe(K,o,e);c(),E.success("Upload successful"),ue(null),M()}catch(ze){console.error("Upload failed:",ze),E.error("Upload failed")}}else E.warn("Please select a file to upload.")},T=()=>{me(!0)},ye=Y=>{const ze=Y.target.files[0];ze&&ze.type!=="text/csv"?(fe("Only .csv files are allowed."),ue(null)):(ue(ze),fe(""))},F=()=>{let Y=`schoolID,last_name,first_name,middle_initial
`;const ze=new Blob([Y],{type:"text/csv;charset=utf-8;"}),ae=URL.createObjectURL(ze),le=document.createElement("a");le.href=ae,le.download="student_format_instructor's_load.csv",document.body.appendChild(le),le.click(),document.body.removeChild(le),URL.revokeObjectURL(ae)},ge=h&&h.students?h.students.filter(Y=>`${Y.schoolID} ${Y.last_name} ${Y.first_name} ${Y.middle_initial}`.toLowerCase().includes(u.toLowerCase().trim())):[];return n.jsx("div",{className:a||s||B||H?`${ve.mainContainer} ${ve.blurred}`:ve.mainContainer,children:n.jsxs("div",{className:ve.dashboardContent,children:[n.jsxs("div",{className:ve.searchBar,children:[n.jsx("button",{onClick:_,className:ve.backBtn,children:n.jsx("img",{src:Ir,className:ve.backArrow,alt:"Back"})}),n.jsx("input",{type:"text",placeholder:"Search Student...",className:ve.searchInput,value:u,onChange:S}),n.jsxs("button",{className:ve.addBtn,onClick:Y=>{b(Y)},children:[n.jsx("img",{src:On,alt:""}),"Add"]}),n.jsxs("button",{className:ve.addFile,onClick:T,children:[n.jsx("img",{src:Dn,alt:""}),"Upload File"]}),n.jsxs("button",{className:ve.csvFormat,onClick:F,children:[n.jsx("img",{src:An,alt:""})," CSV Format"]})]}),n.jsx("div",{className:ve.infoBar,children:n.jsxs("div",{className:ve.instructorInfo,children:[n.jsxs("div",{className:ve.infoH2,children:[n.jsx("h2",{children:"Subject: "}),n.jsx("h2",{children:"Section: "}),n.jsx("h2",{children:"Semester: "}),n.jsx("h2",{children:"AY: "})]}),h?n.jsxs("div",{className:ve.infoSpan,children:[n.jsxs("span",{children:[h.subject_code," ",h.subject_title]}),n.jsx("span",{children:h.section}),n.jsx("span",{children:h.semester}),n.jsx("span",{children:h.academic_year})]}):n.jsxs("div",{className:ve.infoSpan,children:[n.jsx("span",{children:"N/A"}),n.jsx("span",{children:"N/A"}),n.jsx("span",{children:"N/A"}),n.jsx("span",{children:"N/A"})]})]})}),n.jsx("div",{className:ve.tableContainer,children:n.jsxs("table",{className:ve.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"#"}),n.jsx("th",{children:"Student ID"}),n.jsx("th",{children:"Last Name"}),n.jsx("th",{children:"First Name"}),n.jsx("th",{children:"Middle Initial"}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:g?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",children:"Loading..."})}):v?n.jsx("tr",{children:n.jsxs("td",{colSpan:"6",children:["Error: ",v]})}):ge.length>0?ge.map((Y,ze)=>n.jsxs("tr",{children:[n.jsx("td",{children:ze+1}),n.jsx("td",{children:Y.schoolID}),n.jsx("td",{children:Y.last_name}),n.jsx("td",{children:Y.first_name}),n.jsx("td",{children:Y.middle_initial}),n.jsx("td",{children:n.jsx("button",{className:ve.deleteBtn,onClick:()=>z(Y._id),disabled:G&&L===Y._id,children:G&&L===Y._id?"Deleting...":n.jsx("img",{className:ve.deleteImg,src:Vt,alt:"Delete"})})})]},ze)):n.jsx("tr",{children:n.jsx("td",{colSpan:"6",children:"No students found."})})})]})}),H&&n.jsx("div",{className:ve.modalOverlay,children:n.jsxs("div",{className:ve.modal,children:[n.jsx("h2",{children:"Upload CSV File"}),n.jsxs("form",{onSubmit:ne,children:[n.jsxs("div",{className:ve.uploadInput,children:[n.jsx("label",{children:"Select File:"}),n.jsx("input",{type:"file",accept:".csv",className:ve.uploadField,onChange:ye}),Q&&n.jsx("p",{className:ve.error,children:Q})]}),n.jsxs("div",{className:ve.btnRow,children:[n.jsx("button",{type:"button",className:ve.cancelBtn,onClick:M,children:"Close"}),n.jsx("button",{type:"submit",className:ve.uploadBtn,disabled:ie,children:ie?n.jsx("div",{className:ve.loader}):"Upload"})]})]})]})}),s&&n.jsx("div",{className:ve.modalOverlay,children:n.jsxs("div",{className:ve.modal,children:[n.jsx("h2",{children:"Select Student"}),n.jsx("input",{type:"text",placeholder:"Search Student...",className:ve.searchInputAdd,value:u,onChange:S}),I?n.jsx("p",{children:"Loading..."}):n.jsx("div",{className:ve.tableContainerModal,children:n.jsxs("table",{className:ve.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Student ID"}),n.jsx("th",{children:"Student"}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:Array.isArray(x)&&x.length>0?x.map(Y=>n.jsxs("tr",{children:[n.jsx("td",{children:Y.schoolID}),n.jsxs("td",{children:[n.jsx("span",{children:Y.last_name}),",",n.jsxs("span",{children:[" ",Y.first_name]}),",",n.jsxs("span",{children:[" ",Y.middle_initial]})]}),n.jsx("td",{children:n.jsx("button",{className:ve.addStudentBtn,onClick:()=>k(Y),disabled:$.has(Y._id),children:$.has(Y._id)?n.jsx("div",{className:ve.loader}):n.jsx("img",{src:Xd,className:ve.addStudentImg,alt:"Add"})})})]},Y._id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"3",children:"No students found"})})})]})}),n.jsx("div",{className:ve.btnRow,children:n.jsx("button",{type:"button",className:ve.cancelBtn,onClick:M,children:"Close"})})]})}),a&&n.jsx("div",{className:ve.modalOverlay,children:n.jsxs("div",{className:ve.modal,children:[n.jsx("h2",{children:"Edit Student"}),n.jsxs("form",{onSubmit:Y=>{Y.preventDefault()},children:[n.jsxs("div",{className:ve.editInput,children:[n.jsx("label",{children:"Last Name:"}),n.jsx("input",{type:"text",className:ve.editField})]}),n.jsxs("div",{className:ve.editInput,children:[n.jsx("label",{children:"First Name:"}),n.jsx("input",{type:"text",className:ve.editField})]}),n.jsxs("div",{className:ve.editInput,children:[n.jsx("label",{children:"Middle Name:"}),n.jsx("input",{type:"text",className:ve.editField})]}),n.jsxs("div",{className:ve.btnRow,children:[n.jsx("button",{type:"button",className:ve.cancelBtn,onClick:M,children:"Close"}),n.jsx("button",{type:"submit",className:ve.saveBtn,children:"Save"})]})]})]})}),B&&n.jsx("div",{className:ve.modalOverlay,children:n.jsxs("div",{className:ve.modal,children:[n.jsx("h2",{children:"Confirm Deletion"}),n.jsx("h4",{children:"Are you sure you want to delete this student?"}),n.jsxs("div",{className:ve.buttonRow,children:[n.jsx("button",{onClick:V,disabled:G,className:ve.confirmDeleteBtn,children:G?n.jsx("div",{className:ve.loader}):"Yes, Delete"}),n.jsx("button",{onClick:M,className:ve.cancelBtn,children:"Cancel"})]})]})})]})})}const UF="_backBtnContainer_14cfi_5",zF="_backArrow_14cfi_15",qF="_backBtn_14cfi_5",VF="_searchBar_14cfi_39",HF="_searchInput_14cfi_57",GF="_buttonContainer_14cfi_71",WF="_searchBtn_14cfi_83",YF="_addBtn_14cfi_85",QF="_addFile_14cfi_87",KF="_csvFormat_14cfi_89",JF="_tableContainer_14cfi_135",XF="_classInfoTable_14cfi_145",ZF="_classInfoTableAdd_14cfi_147",eP="_classInfoTableEdit_14cfi_149",tP="_view_14cfi_205",nP="_editBtn_14cfi_223",sP="_deleteBtn_14cfi_225",rP="_listBtn_14cfi_227",aP="_editImg_14cfi_243",oP="_deleteImg_14cfi_245",iP="_tableContainerAdd_14cfi_255",lP="_tableContainerEdit_14cfi_257",cP="_modalOverlay_14cfi_271",dP="_modal_14cfi_271",uP="_addInput_14cfi_355",mP="_btnRow_14cfi_377",fP="_selectInput_14cfi_391",hP="_editInput_14cfi_417",pP="_editField_14cfi_441",gP="_cancelBtn_14cfi_463",_P="_saveBtn_14cfi_481",vP="_confirmDeleteBtn_14cfi_483",yP="_addInstructorImg_14cfi_547",xP="_addInstructorBtn_14cfi_559",bP="_buttonRow_14cfi_571",jP="_loader_14cfi_589",wP="_spanSubject_14cfi_657",CP="_spanInstructor_14cfi_659",SP="_spanSubjectContent_14cfi_667",NP="_spanInstructorContent_14cfi_669",Ge={backBtnContainer:UF,backArrow:zF,backBtn:qF,searchBar:VF,searchInput:HF,buttonContainer:GF,searchBtn:WF,addBtn:YF,addFile:QF,csvFormat:KF,tableContainer:JF,classInfoTable:XF,classInfoTableAdd:ZF,classInfoTableEdit:eP,view:tP,editBtn:nP,deleteBtn:sP,listBtn:rP,editImg:aP,deleteImg:oP,tableContainerAdd:iP,tableContainerEdit:lP,modalOverlay:cP,modal:dP,addInput:uP,btnRow:mP,selectInput:fP,editInput:hP,editField:pP,cancelBtn:gP,saveBtn:_P,confirmDeleteBtn:vP,addInstructorImg:yP,addInstructorBtn:xP,buttonRow:bP,loader:jP,"l20-1":"_l20-1_14cfi_1","l20-2":"_l20-2_14cfi_1",spanSubject:wP,spanInstructor:CP,spanSubjectContent:SP,spanInstructorContent:NP},IP=e=>{const[t,s]=j.useState(null),[r,a]=j.useState(null),i=j.useCallback(async()=>{if(e!==null)try{const o=await U.get(`/api/get_class_program_instructor/${e}`);s(o.data)}catch(o){a(o)}},[e]);return j.useEffect(()=>{i()},[i]),{classProgramInstructor:t,errorInstructor:r,refetchClassProgram:()=>{i()}}},hg=j.createContext(),pg=()=>j.useContext(hg),$P=({children:e})=>{const[t,s]=j.useState(null);return n.jsx(hg.Provider,{value:{selectedClassProgramId:t,setSelectedClassProgramId:s},children:e})},kP=e=>{const[t,s]=j.useState(!1),[r,a]=j.useState(null),i=o=>new Promise(d=>setTimeout(d,o));return{addInstructor:async o=>{if(!e)return console.error("Class Program ID is not defined."),null;s(!0),a(null);try{await i(500);const d=await U.post(`/api/post_class_program_instructor/${e}/add_instructor`,o);return s(!1),d.data}catch(d){s(!1);const g=d.response?d.response.data:"Error adding instructor";return console.error("Error adding instructor:",g),a(g),null}},isLoadingAddInstructor:t,errorAddInstructor:r}},EP=e=>{const[t,s]=j.useState(!1),[r,a]=j.useState(null),i=o=>new Promise(d=>setTimeout(d,o));return{deleteInstructor:j.useCallback(async o=>{s(!0),a(null);try{await i(3e3);const d=await U.delete(`/api/del_class_program_instructor/${e}/${o}`);return s(!1),d.data}catch(d){return s(!1),a(d.message||"Failed to delete instructor"),null}},[e]),isLoading:t,error:r}};function Ll(){var z;const{id:e}=ps(),{selectedClassProgramId:t,setSelectedClassProgramId:s}=pg(),r=mt(),{updatePath:a}=Rt();j.useEffect(()=>{s(e||null)},[e,s]);const[i,l]=j.useState(!1),[o,d]=j.useState(null),[g,v]=j.useState(!1),{classProgramInstructor:c,errorInstructor:h,refetchClassProgram:_}=IP(t),[f,m]=j.useState(""),{faculty:y,errorFaculty:u,loadingFaculty:p}=lg(f),{addInstructor:x,isLoadingAddInstructor:w,errorAddInstructor:I}=kP(t),{deleteInstructor:$,isLoading:N,error:b}=EP(t),[C,S]=j.useState(new Set),k=j.useCallback(gs(M=>{m(M)},300),[]),B=M=>{M.preventDefault(),k(M.target.value)},R=()=>{s(null),r("/admin/classProgramInformation")},L=()=>{a("Class Program Information")},A=()=>{v(!0)},q=()=>{v(!1)},G=M=>{d(M),l(!0)},D=async()=>{if(!o)return;await $(o)?(E.success("Instructor deleted successfully"),_(),l(!1)):E.error("Failed to delete instructor")},V=async M=>{S(K=>new Set(K).add(M._id));const H={facultyID:M.facultyID,last_name:M.last_name,first_name:M.first_name,middle_initial:M.middle_initial},me=await x(H);S(K=>{const ue=new Set(K);return ue.delete(M._id),ue}),me?(E.success("Instructor added successfully"),_(),v(!1)):E.error("Failed to add instructor")};return n.jsx(n.Fragment,{children:n.jsxs("div",{className:g?`${Ge.mainContainer} ${Ge.blurred}`:Ge.mainContainer,children:[n.jsxs("div",{className:Ge.searchBar,children:[n.jsx("button",{onClick:()=>{R(),L()},className:Ge.backBtn,children:n.jsx("img",{src:Ir,className:Ge.backArrow,alt:"Back"})}),n.jsxs("button",{className:Ge.addBtn,onClick:M=>{M.preventDefault(),A()},children:[n.jsx("img",{src:On,alt:"Add"})," Add"]})]}),n.jsx("div",{className:Ge.tableContainer,children:n.jsxs("table",{className:Ge.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"SUBJECT"}),n.jsx("th",{children:"INSTRUCTOR"}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:(z=c==null?void 0:c.instructor)!=null&&z.length?c.instructor.map(M=>n.jsxs("tr",{children:[n.jsxs("td",{children:[c.subject_code," - ",c.subject_title]}),n.jsxs("td",{children:[n.jsxs("span",{children:[M.facultyID," "]}),n.jsx("span",{children:M.last_name}),",",n.jsxs("span",{children:[" ",M.first_name]}),",",n.jsxs("span",{children:[" ",M.middle_initial]})]}),n.jsx("td",{children:n.jsx("button",{onClick:()=>G(M._id),className:Ge.deleteBtn,disabled:N,children:n.jsx("img",{src:Vt,className:Ge.deleteImg,alt:"Delete"})})})]},M._id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"3",children:"No instructors available"})})})]})}),g&&n.jsx("div",{className:Ge.modalOverlay,children:n.jsxs("div",{className:Ge.modal,children:[n.jsx("h2",{children:"Select Instructor"}),n.jsx("input",{type:"text",placeholder:"Search Instructor...",className:Ge.searchInput,value:f,onChange:B}),p?n.jsx("p",{children:"Loading..."}):n.jsx("div",{className:Ge.tableContainerAdd,children:n.jsxs("table",{className:Ge.classInfoTableAdd,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"INSTRUCTOR"}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:Array.isArray(y)&&y.length>0?y.map(M=>n.jsxs("tr",{children:[n.jsx("td",{children:M.facultyID}),n.jsxs("td",{children:[n.jsx("span",{children:M.last_name}),",",n.jsxs("span",{children:[" ",M.first_name]}),",",n.jsxs("span",{children:[" ",M.middle_initial]})]}),n.jsx("td",{children:n.jsx("button",{className:Ge.addInstructorBtn,onClick:()=>V(M),disabled:C.has(M._id),children:C.has(M._id)?n.jsx("div",{className:Ge.loader}):n.jsx("img",{src:Xd,className:Ge.addInstructorImg,alt:"Add"})})})]},M._id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"3",children:"No instructors found"})})})]})}),n.jsx("div",{className:Ge.btnRow,children:n.jsx("button",{type:"button",className:Ge.cancelBtn,onClick:q,children:"Close"})})]})}),i&&n.jsx("div",{className:Ge.modalOverlay,children:n.jsxs("div",{className:Ge.modal,children:[n.jsx("h2",{children:"Confirm Deletion"}),n.jsx("h4",{children:"Are you sure you want to delete this instructor?"}),n.jsxs("div",{className:Ge.buttonRow,children:[n.jsx("button",{onClick:D,disabled:N,className:Ge.confirmDeleteBtn,children:N?n.jsx("div",{className:Ge.loader}):"Yes, Delete"}),n.jsx("button",{onClick:()=>l(!1),className:Ge.cancelBtn,children:"Cancel"})]})]})})]})})}const BP="_backBtnContainer_1o1h6_9",RP="_backArrow_1o1h6_19",LP="_backBtn_1o1h6_9",FP="_studentInfo_1o1h6_43",PP="_spanContainer_1o1h6_67",AP="_spanContent_1o1h6_75",DP="_searchBar_1o1h6_89",TP="_searchInput_1o1h6_107",OP="_searchInputAdd_1o1h6_109",MP="_buttonContainer_1o1h6_123",UP="_searchBtn_1o1h6_135",zP="_addBtn_1o1h6_137",qP="_addFile_1o1h6_139",VP="_csvFormat_1o1h6_141",HP="_tableContainer_1o1h6_197",GP="_classInfoTable_1o1h6_207",WP="_view_1o1h6_247",YP="_editBtn_1o1h6_265",QP="_deleteBtn_1o1h6_267",KP="_listBtn_1o1h6_269",JP="_editImg_1o1h6_285",XP="_deleteImg_1o1h6_287",ZP="_tableContainerModal_1o1h6_297",e4="_modalOverlay_1o1h6_311",t4="_modal_1o1h6_311",n4="_addInput_1o1h6_393",s4="_btnRow_1o1h6_415",r4="_selectInput_1o1h6_429",a4="_editInput_1o1h6_447",o4="_editField_1o1h6_471",i4="_cancelBtn_1o1h6_493",l4="_saveBtn_1o1h6_511",c4="_confirmDeleteBtn_1o1h6_513",d4="_uploadBtn_1o1h6_515",u4="_addStudentImg_1o1h6_589",m4="_addStudentBtn_1o1h6_599",f4="_buttonRow_1o1h6_609",h4="_loader_1o1h6_627",we={backBtnContainer:BP,backArrow:RP,backBtn:LP,studentInfo:FP,spanContainer:PP,spanContent:AP,searchBar:DP,searchInput:TP,searchInputAdd:OP,buttonContainer:MP,searchBtn:UP,addBtn:zP,addFile:qP,csvFormat:VP,tableContainer:HP,classInfoTable:GP,view:WP,editBtn:YP,deleteBtn:QP,listBtn:KP,editImg:JP,deleteImg:XP,tableContainerModal:ZP,modalOverlay:e4,modal:t4,addInput:n4,btnRow:s4,selectInput:r4,editInput:a4,editField:o4,cancelBtn:i4,saveBtn:l4,confirmDeleteBtn:c4,uploadBtn:d4,addStudentImg:u4,addStudentBtn:m4,buttonRow:f4,loader:h4,"l20-1":"_l20-1_1o1h6_1","l20-2":"_l20-2_1o1h6_1"},p4=e=>{const[t,s]=j.useState(null),[r,a]=j.useState(null),[i,l]=j.useState(0),o=j.useCallback(async()=>{if(e)try{const g=await U.get(`/api/get_class_program_students/${e}`);s(g.data),a(null)}catch(g){a(g)}},[e]);return j.useEffect(()=>{o()},[e,i,o]),{classProgramStudents:t,error:r,refetch:()=>{l(g=>g+1)}}},g4=e=>{const[t,s]=j.useState(!1),[r,a]=j.useState(null),i=o=>new Promise(d=>setTimeout(d,o));return{addStudent:async o=>{if(!e)return console.error("Class Program ID is not defined."),null;s(!0),a(null);try{await i(500);const d=await U.post(`/api/post_class_program_students/${e}/add_student`,o);return s(!1),d.data}catch(d){s(!1);const g=d.response?d.response.data:"Error adding student";return console.error("Error adding student:",g),a(g),null}},isLoadingAddStudent:t,errorAddStudent:r}},_4=e=>{const[t,s]=j.useState(!1),[r,a]=j.useState(null),i=o=>new Promise(d=>setTimeout(d,o));return{deleteStudent:j.useCallback(async o=>{s(!0),a(null);try{await i(500);const d=await U.delete(`/api/del_class_program_student/${e}/${o}`);return s(!1),d.data}catch(d){return console.error("Delete error:",d),s(!1),a(d.message||"Failed to delete student"),null}},[e]),isLoadingDeleteStudent:t,errorDeleteStudent:r}},v4=e=>{const[t,s]=j.useState(!1),[r,a]=j.useState(null),[i,l]=j.useState(null),o=g=>new Promise(v=>setTimeout(v,g));return{uploadStudents:async g=>{const v=new FormData;v.append("file",g);try{s(!0),await o(500),a(null);const c=await U.post(`/api/upload_students/${e}`,v,{headers:{"Content-Type":"multipart/form-data"}});E.success("File uploaded successfully!"),l(c.data)}catch(c){a(c.response?c.response.data:c.message)}finally{s(!1)}},uploading:t,errorUpload:r,data:i}};function Fl(){var ye;const{id:e}=ps(),{selectedClassProgramId:t,setSelectedClassProgramId:s}=pg(),r=mt(),{updatePath:a}=Rt(),[i,l]=j.useState(!1),[o,d]=j.useState(!1),[g,v]=j.useState(null),{classProgramStudents:c,error:h,refetch:_}=p4(t),[f,m]=j.useState(""),{students:y,errorStudent:u,loadingStudent:p}=fg(f),{addStudent:x,isLoadingAddStudent:w,errorAddStudent:I}=g4(t),{deleteStudent:$,isLoadingDeleteStudent:N,errorDeleteStudent:b}=_4(t),[C,S]=j.useState(new Set),k=(ye=c==null?void 0:c.students)==null?void 0:ye.filter(F=>{const ge=`${F.first_name} ${F.middle_initial} ${F.last_name}`.toLowerCase(),de=f.toLowerCase();return F.schoolID.toLowerCase().includes(de)||ge.includes(de)}),B=j.useCallback(gs(F=>{m(F)},100),[]),R=F=>{F.preventDefault(),B(F.target.value)};j.useEffect(()=>{s(e||null)},[e,s]);const L=()=>{s(null),r("/admin/classProgramInformation")},A=()=>{a("Class Program Information")},q=()=>{l(!0)},G=()=>{K(!0)},D=()=>{l(!1),K(!1),d(!1)},V=()=>{let F=`schoolID,last_name,first_name,middle_initial
`;const ge=new Blob([F],{type:"text/csv;charset=utf-8;"}),de=URL.createObjectURL(ge),Y=document.createElement("a");Y.href=de,Y.download="student_format_class_program_information.csv",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(de)},z=F=>{console.log("Student ID to be deleted:",F),v(F),d(!0)},M=async()=>{if(!g)return;await $(g)?(E.success("Student deleted successfully"),_(),d(!1)):E.error("Failed to delete student")},H=async F=>{S(Y=>new Set(Y).add(F._id));const ge={schoolID:F.schoolID,last_name:F.last_name,first_name:F.first_name,middle_initial:F.middle_initial},de=await x(ge);S(Y=>{const ze=new Set(Y);return ze.delete(F._id),ze}),de?(E.success("Student added successfully"),_(),l(!1)):E.error("Failed to add student")},[me,K]=j.useState(!1),{uploadStudents:ue,uploading:Q,errorUpload:fe}=v4(t),[Fe,ie]=j.useState(null),ne=F=>{const ge=F.target.files[0];ge&&ge.type!=="text/csv"?(E.error("Only .csv files are allowed."),ie(null)):ie(ge)},T=async F=>{if(F.preventDefault(),!Fe){E.error("Please select a file to upload");return}if(Fe)try{const ge=await ue(Fe);_(),console.log("Upload successful:",ge),ie(null),D()}catch(ge){console.error("Upload failed:",ge)}else E.warn("Please select a file to upload.")};return n.jsx(n.Fragment,{children:n.jsxs("div",{className:i||me||o?`${we.mainContainer} ${we.blurred}`:we.mainContainer,children:[n.jsxs("div",{className:we.searchBar,children:[n.jsx("button",{onClick:()=>{L(),A()},className:we.backBtn,title:"Go Back",children:n.jsx("img",{src:Ir,className:we.backArrow,alt:"Back"})}),n.jsx("input",{type:"text",placeholder:"Search Student...",className:we.searchInput,value:f,onChange:R}),n.jsxs("button",{className:we.addBtn,onClick:q,children:[n.jsx("img",{src:On,alt:""})," Add"]}),n.jsxs("button",{className:we.addFile,onClick:G,children:[n.jsx("img",{src:Dn,alt:""})," Upload File"]}),n.jsxs("button",{className:we.csvFormat,onClick:V,children:[n.jsx("img",{src:An,alt:""})," CSV Format"]})]}),n.jsx("div",{className:we.studentInfo,children:c&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:we.spanContainer,children:["Department:",n.jsx("span",{className:we.spanContent,children:c.department})]}),n.jsxs("span",{className:we.spanContainer,children:["Subject:",n.jsxs("span",{className:we.spanContent,children:[c.subject_code," - ",c.subject_title]})]}),n.jsxs("span",{className:we.spanContainer,children:["Year Level:",n.jsx("span",{className:we.spanContent,children:c.yearLevel})]}),n.jsxs("span",{className:we.spanContainer,children:["Section:",n.jsx("span",{className:we.spanContent,children:c.section})]}),n.jsxs("span",{className:we.spanContainer,children:["Semester:",n.jsx("span",{className:we.spanContent,children:c.semester})]}),n.jsxs("span",{className:we.spanContainer,children:["Academic Year:",n.jsx("span",{className:we.spanContent,children:c.academic_year})]})]})}),n.jsx("div",{className:we.tableContainer,children:n.jsxs("table",{className:we.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"#"}),n.jsx("th",{children:"Student ID"}),n.jsx("th",{children:"Last Name"}),n.jsx("th",{children:"First Name"}),n.jsx("th",{children:"Middle Initial"}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:k!=null&&k.length?k.map((F,ge)=>n.jsxs("tr",{children:[n.jsx("td",{children:ge+1}),n.jsx("td",{children:F.schoolID}),n.jsx("td",{children:F.last_name}),n.jsx("td",{children:F.first_name}),n.jsx("td",{children:F.middle_initial}),n.jsx("td",{children:n.jsx("button",{onClick:()=>z(F._id),className:we.deleteBtn,disabled:N,children:n.jsx("img",{src:Vt,className:we.deleteImg,alt:"Delete"})})})]},F.schoolID)):n.jsx("tr",{children:n.jsx("td",{colSpan:"6",children:"No students available"})})})]})}),i&&n.jsx("div",{className:we.modalOverlay,children:n.jsxs("div",{className:we.modal,children:[n.jsx("h2",{children:"Select Student"}),n.jsx("input",{type:"text",placeholder:"Search Student...",className:we.searchInputAdd,value:f,onChange:R}),p?n.jsx("p",{children:"Loading..."}):n.jsx("div",{className:we.tableContainerModal,children:n.jsxs("table",{className:we.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Student ID"}),n.jsx("th",{children:"Student"}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:Array.isArray(y)&&y.length>0?y.map(F=>n.jsxs("tr",{children:[n.jsx("td",{children:F.schoolID}),n.jsxs("td",{children:[n.jsx("span",{children:F.last_name}),",",n.jsxs("span",{children:[" ",F.first_name]}),",",n.jsxs("span",{children:[" ",F.middle_initial]})]}),n.jsx("td",{children:n.jsx("button",{className:we.addStudentBtn,onClick:()=>H(F),disabled:C.has(F._id),children:C.has(F._id)?n.jsx("div",{className:we.loader}):n.jsx("img",{src:Xd,className:we.addStudentImg,alt:"Add"})})})]},F._id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"3",children:"No students found"})})})]})}),n.jsx("div",{className:we.btnRow,children:n.jsx("button",{type:"button",className:we.cancelBtn,onClick:D,children:"Close"})})]})}),me&&n.jsx("div",{className:we.modalOverlay,children:n.jsxs("div",{className:we.modal,children:[n.jsx("h2",{children:"Upload CSV File"}),n.jsxs("form",{onSubmit:T,children:[n.jsxs("div",{className:we.uploadInput,children:[n.jsx("label",{children:"Select File:"}),n.jsx("input",{type:"file",accept:".csv",className:we.uploadField,onChange:ne,required:!0}),h&&n.jsx("p",{className:we.error,children:h})]}),n.jsxs("div",{className:we.btnRow,children:[n.jsx("button",{type:"button",className:we.cancelBtn,onClick:D,children:"Close"}),n.jsx("button",{type:"submit",className:we.uploadBtn,disabled:Q,children:Q?n.jsx("div",{className:we.loader}):"Upload"})]})]})]})}),o&&n.jsx("div",{className:we.modalOverlay,children:n.jsxs("div",{className:we.modal,children:[n.jsx("h2",{children:"Confirm Deletion"}),n.jsx("h4",{children:"Are you sure you want to delete this student?"}),n.jsxs("div",{className:we.buttonRow,children:[n.jsx("button",{onClick:M,disabled:N,className:we.confirmDeleteBtn,children:N?n.jsx("div",{className:we.loader}):"Yes, Delete"}),n.jsx("button",{onClick:D,className:we.cancelBtn,children:"Cancel"})]})]})})]})})}const y4="_dashboardContainer_j7ji3_3",x4="_sidebar_j7ji3_15",b4="_sidebarMenuLink_j7ji3_39",j4="_sidebarIcons_j7ji3_49",w4="_active_j7ji3_59",C4="_sidebarMenu_j7ji3_39",S4="_sidebarMenuItem_j7ji3_87",N4="_slideRight_j7ji3_1",I4="_ripple_j7ji3_105",$4="_navItem_j7ji3_123",k4="_disabled_j7ji3_175",E4="_disabledLink_j7ji3_187",B4="_tooltip_j7ji3_263",R4="_logo_j7ji3_343",L4="_eGradeLogo_j7ji3_343",F4="_userContainer_j7ji3_421",P4="_userImgContainer_j7ji3_443",A4="_userImg_j7ji3_443",D4="_userInfo_j7ji3_493",T4="_userName_j7ji3_541",O4="_userStatus_j7ji3_543",M4="_btn_j7ji3_1",U4="_mainContent_j7ji3_603",z4="_mainContainer_j7ji3_631",q4="_modalOverlay_j7ji3_661",V4="_modal_j7ji3_661",H4="_cancelBtn_j7ji3_743",G4="_confirmLogoutBtn_j7ji3_763",W4="_buttonRow_j7ji3_793",De={dashboardContainer:y4,sidebar:x4,sidebarMenuLink:b4,sidebarIcons:j4,active:w4,sidebarMenu:C4,sidebarMenuItem:S4,slideRight:N4,ripple:I4,navItem:$4,disabled:k4,disabledLink:E4,tooltip:B4,logo:R4,eGradeLogo:L4,userContainer:F4,userImgContainer:P4,userImg:A4,userInfo:D4,userName:T4,userStatus:O4,btn:M4,mainContent:U4,mainContainer:z4,modalOverlay:q4,modal:V4,cancelBtn:H4,confirmLogoutBtn:G4,buttonRow:W4},Zd=e=>{const[t,s]=j.useState(null),[r,a]=j.useState(!0),[i,l]=j.useState(null),o=j.useCallback(async()=>{if(e)try{a(!0);const d=await U.get(`/api/get-student-details/${e}`);s(d.data),l(null)}catch(d){l(d.message||"Failed to fetch user details")}finally{a(!1)}},[e]);return j.useEffect(()=>{o()},[o]),{userDetails:t,loading:r,error:i,refetch:o}};function Y4(){const{activeButton:e,updateActiveButton:t}=j.useContext(Cn),[s,r]=j.useState(!1),a=localStorage.getItem("token");let i="",l="";if(a)try{const N=vt(a);i=N.id,l=N.userId}catch(N){console.error("Failed to decode token:",N)}const{userDetails:o,loading:d,error:g,refetch:v}=Zd(i),c=j.useRef([]),{updatePath:h}=Rt();j.useEffect(()=>{const N=localStorage.getItem("activeButton");N&&t(N)},[t]);const _=()=>{r(!s)};j.useEffect(()=>{(async()=>{const b=localStorage.getItem("token");if(b)try{const C=vt(b),S=Date.now()/1e3;C.exp<S&&(console.warn("Token expired, logging out."),f())}catch(C){console.error("Invalid token, clearing localStorage.",C),f()}else f()})()},[]);const f=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("activeButton"),window.location.href="/login"},m=N=>{const b=document.querySelector(`.${De.sidebar}`);b&&(b.style.zIndex=N?"9999":"initial")},[y,u]=j.useState(!1),p=()=>{u(!0)},x=async()=>{try{await U.patch(`/api/update-student-status/${i}`,{isActive:!1}),await U.post("/api/logout-activity",{userID:l,activityDescription:"logged out"}),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("activeButton"),window.location.href="/",console.log("Logged out successfully")}catch(N){console.error("Error logging activity during logout:",N)}},w=N=>{t(N),h(null,null)},[I,$]=j.useState("");return j.useEffect(()=>{i&&(async()=>{try{const C=(await U.get(`/api/get-student-details/${i}`)).data.user_profile,k=C?`http://localhost:5000${C.startsWith("/uploads")?"":"/uploads/user-profiles/"}${C}`:Va;$(k)}catch(b){console.error("Error fetching user profile image:",b)}})()},[i]),n.jsxs("div",{className:De.dashboardContainer,children:[n.jsxs("div",{className:`${De.sidebar} ${s?De.active:""}`,children:[n.jsxs("div",{className:De.logo,children:[n.jsx("img",{src:jr,alt:"eGrade Logo",className:De.eGradeLogo}),n.jsx("img",{src:qa,onClick:_,id:De.btn})]}),n.jsxs("div",{className:De.userContainer,children:[n.jsx("div",{className:De.userImgContainer,children:n.jsx("img",{src:I,alt:"user_icon",className:De.userImg})}),n.jsxs("div",{className:De.userInfo,children:[d&&n.jsx("p",{children:"Loading..."}),g&&n.jsx("p",{children:"Error fetching user details."}),o&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:De.userName,children:[o.first_name," ",o.last_name]}),n.jsx("p",{className:De.userStatus,children:o.title})]})]})]}),n.jsxs("ul",{className:De.sidebarMenu,children:[[{to:"dashboard",label:"Dashboard",icon:Ma,btnId:"dashboard"},{to:"leaderboard",label:"Leaderboard",icon:Ua,btnId:"leaderboard",disabled:!(o!=null&&o.isVerified)},{to:"settings",label:"Settings",icon:za,btnId:"settings"}].map(({to:N,label:b,icon:C,btnId:S,disabled:k},B)=>n.jsxs("li",{className:`${De.sidebarMenuItem} ${k?De.disabled:""}`,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),ref:R=>c.current[B]=R,onClick:()=>!k&&w(S),children:[n.jsxs(dt,{to:k?"#":N,className:`${De.sidebarMenuLink} ${e===S?De.active:""} ${k?De.disabledLink:""}`,onClick:()=>!k&&t(S),children:[n.jsx("img",{src:C,className:De.sidebarIcons,alt:`${b} Icon`}),n.jsx("span",{className:De.navItem,children:b})]}),n.jsx("span",{className:De.tooltip,children:b})]},S)),n.jsxs("li",{className:De.sidebarMenuItem,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),ref:N=>c.current[c.current.length]=N,children:[n.jsxs("button",{onClick:p,className:De.sidebarMenuLink,children:[n.jsx("img",{src:Ha,className:De.sidebarIcons,alt:"Logout"}),n.jsx("span",{className:De.navItem,children:"Logout"})]}),n.jsx("span",{className:De.tooltip,children:"Logout"})]})]})]}),n.jsxs("div",{className:De.mainContent,children:[n.jsx(Ga,{}),n.jsx(wn,{})]}),y&&n.jsx("div",{className:De.modalOverlay,children:n.jsxs("div",{className:De.modal,children:[n.jsx("h2",{children:"Confirm Logout"}),n.jsx("h4",{children:"Are you sure you want to logout?"}),n.jsxs("div",{className:De.buttonRow,children:[n.jsx("button",{onClick:x,className:De.confirmLogoutBtn,children:"Yes, Logout"}),n.jsx("button",{onClick:()=>u(!1),className:De.cancelBtn,children:"Cancel"})]})]})})]})}const Q4="_dashboardContainer_1wipc_3",K4="_sidebar_1wipc_17",J4="_sidebarMenuLink_1wipc_41",X4="_sidebarIcons_1wipc_51",Z4="_active_1wipc_61",eA="_sidebarMenu_1wipc_41",tA="_sidebarMenuItem_1wipc_89",nA="_slideRight_1wipc_1",sA="_ripple_1wipc_107",rA="_navItem_1wipc_135",aA="_disabled_1wipc_185",oA="_disabledLink_1wipc_197",iA="_tooltip_1wipc_273",lA="_logo_1wipc_353",cA="_eGradeLogo_1wipc_353",dA="_userContainer_1wipc_447",uA="_userImgContainer_1wipc_469",mA="_userImg_1wipc_469",fA="_userInfo_1wipc_519",hA="_userName_1wipc_565",pA="_userStatus_1wipc_567",gA="_btn_1wipc_1",_A="_mainContent_1wipc_623",vA="_mainContainer_1wipc_651",yA="_modalOverlay_1wipc_681",xA="_modal_1wipc_681",bA="_cancelBtn_1wipc_763",jA="_confirmLogoutBtn_1wipc_783",wA="_buttonRow_1wipc_813",Te={dashboardContainer:Q4,sidebar:K4,sidebarMenuLink:J4,sidebarIcons:X4,active:Z4,sidebarMenu:eA,sidebarMenuItem:tA,slideRight:nA,ripple:sA,navItem:rA,disabled:aA,disabledLink:oA,tooltip:iA,logo:lA,eGradeLogo:cA,userContainer:dA,userImgContainer:uA,userImg:mA,userInfo:fA,userName:hA,userStatus:pA,btn:gA,mainContent:_A,mainContainer:vA,modalOverlay:yA,modal:xA,cancelBtn:bA,confirmLogoutBtn:jA,buttonRow:wA};function CA(){const{activeButton:e,updateActiveButton:t}=j.useContext(Cn),[s,r]=j.useState(!1),a=localStorage.getItem("token");let i="",l="";if(a)try{const $=vt(a);i=$.id,l=$.userId}catch($){console.error("Failed to decode token:",$)}const{userDetails:o,loading:d,error:g}=Nr(i),v=j.useRef([]),{updatePath:c}=Rt();j.useEffect(()=>{const $=localStorage.getItem("activeButton");$&&t($)},[t]);const h=()=>{r(!s)};j.useEffect(()=>{(async()=>{const N=localStorage.getItem("token");if(N)try{const b=vt(N),C=Date.now()/1e3;b.exp<C&&(console.warn("Token expired, logging out."),_())}catch(b){console.error("Invalid token, clearing localStorage.",b),_()}else _()})()},[]);const _=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("activeButton"),window.location.href="/login"},f=$=>{const N=document.querySelector(`.${Te.sidebar}`);N&&(N.style.zIndex=$?"9999":"initial")},[m,y]=j.useState(!1),u=()=>{y(!0)},p=async()=>{try{await U.patch(`/api/update-faculty-staff-status/${i}`,{isActive:!1}),await U.post("/api/logout-activity",{userID:l,activityDescription:"logged out"}),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("activeButton"),window.location.href="/",E.success("Logged out successfully")}catch($){console.error("Error logging activity during logout:",$)}},x=$=>{t($),c(null,null)},[w,I]=j.useState("");return j.useEffect(()=>{i&&(async()=>{try{const b=(await U.get(`/api/get_faculty_details/${i}`)).data.user_profile,S=b?`http://localhost:5000${b.startsWith("/uploads")?"":"/uploads/user-profiles/"}${b}`:Va;I(S)}catch(N){console.error("Error fetching user profile image:",N)}})()},[i]),n.jsxs("div",{className:Te.dashboardContainer,children:[n.jsxs("div",{className:`${Te.sidebar} ${s?Te.active:""}`,children:[n.jsxs("div",{className:Te.logo,children:[n.jsx("img",{src:jr,alt:"eGrade Logo",className:Te.eGradeLogo}),n.jsx("img",{src:qa,onClick:h,id:Te.btn})]}),n.jsxs("div",{className:Te.userContainer,children:[n.jsx("div",{className:Te.userImgContainer,children:n.jsx("img",{src:w,alt:"user_icon",className:Te.userImg})}),n.jsxs("div",{className:Te.userInfo,children:[d&&n.jsx("p",{children:"Loading..."}),g&&n.jsx("p",{children:"Error fetching user details."}),o&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:Te.userName,children:[o.first_name," ",o.last_name]}),n.jsx("p",{className:Te.userStatus,children:o.title})]})]})]}),n.jsxs("ul",{className:Te.sidebarMenu,children:[[{to:"dashboard",label:"Dashboard",icon:Ma,btnId:"dashboard"},{to:"subjects",label:"My Subjects",icon:Mi,btnId:"subjects",disabled:!(o!=null&&o.isVerified)},{to:"students",label:"My Students",icon:Sr,btnId:"students",disabled:!(o!=null&&o.isVerified)},{to:"leaderboard",label:"Leaderboard",icon:Ua,btnId:"leaderboard",disabled:!(o!=null&&o.isVerified)},{to:"settings",label:"Settings",icon:za,btnId:"settings"}].map(({to:$,label:N,icon:b,btnId:C,disabled:S},k)=>n.jsxs("li",{className:`${Te.sidebarMenuItem} ${S?Te.disabled:""}`,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),ref:B=>v.current[k]=B,onClick:()=>!S&&x(C),children:[n.jsxs(dt,{to:S?"#":$,className:`${Te.sidebarMenuLink} ${e===C?Te.active:""} ${S?Te.disabledLink:""}`,onClick:()=>!S&&t(C),children:[n.jsx("img",{src:b,className:Te.sidebarIcons,alt:`${N} Icon`}),n.jsx("span",{className:Te.navItem,children:N})]}),n.jsx("span",{className:Te.tooltip,children:N})]},C)),n.jsxs("li",{className:Te.sidebarMenuItem,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),ref:$=>v.current[v.current.length]=$,children:[n.jsxs("button",{onClick:u,className:Te.sidebarMenuLink,children:[n.jsx("img",{src:Ha,className:Te.sidebarIcons,alt:"Logout"}),n.jsx("span",{className:Te.navItem,children:"Logout"})]}),n.jsx("span",{className:Te.tooltip,children:"Logout"})]})]})]}),n.jsxs("div",{className:Te.mainContent,children:[n.jsx(Ga,{}),n.jsx(wn,{})]}),m&&n.jsx("div",{className:Te.modalOverlay,children:n.jsxs("div",{className:Te.modal,children:[n.jsx("h2",{children:"Confirm Logout"}),n.jsx("h4",{children:"Are you sure you want to logout?"}),n.jsxs("div",{className:Te.buttonRow,children:[n.jsx("button",{onClick:p,className:Te.confirmLogoutBtn,children:"Yes, Logout"}),n.jsx("button",{onClick:()=>y(!1),className:Te.cancelBtn,children:"Cancel"})]})]})})]})}const SA="_dashboardContainer_8940c_3",NA="_sidebar_8940c_15",IA="_sidebarMenuLink_8940c_39",$A="_sidebarIcons_8940c_49",kA="_active_8940c_59",EA="_sidebarMenu_8940c_39",BA="_sidebarMenuItem_8940c_87",RA="_slideRight_8940c_1",LA="_navItem_8940c_107",FA="_disabled_8940c_157",PA="_disabledLink_8940c_169",AA="_ripple_8940c_219",DA="_tooltip_8940c_245",TA="_logo_8940c_325",OA="_eGradeLogo_8940c_325",MA="_userContainer_8940c_441",UA="_userImgContainer_8940c_463",zA="_userImg_8940c_463",qA="_userInfo_8940c_515",VA="_userName_8940c_559",HA="_userStatus_8940c_561",GA="_btn_8940c_1",WA="_mainContent_8940c_617",YA="_mainContainer_8940c_645",QA="_modalOverlay_8940c_677",KA="_modal_8940c_677",JA="_cancelBtn_8940c_759",XA="_confirmLogoutBtn_8940c_779",ZA="_buttonRow_8940c_809",Oe={dashboardContainer:SA,sidebar:NA,sidebarMenuLink:IA,sidebarIcons:$A,active:kA,sidebarMenu:EA,sidebarMenuItem:BA,slideRight:RA,navItem:LA,disabled:FA,disabledLink:PA,ripple:AA,tooltip:DA,logo:TA,eGradeLogo:OA,userContainer:MA,userImgContainer:UA,userImg:zA,userInfo:qA,userName:VA,userStatus:HA,btn:GA,mainContent:WA,mainContainer:YA,modalOverlay:QA,modal:KA,cancelBtn:JA,confirmLogoutBtn:XA,buttonRow:ZA};function eD(){const{activeButton:e,updateActiveButton:t}=j.useContext(Cn),[s,r]=j.useState(!1),a=j.useRef([]),{updatePath:i}=Rt();j.useEffect(()=>{const $=localStorage.getItem("activeButton");$&&t($)},[t]);const l=()=>{r(!s)};j.useEffect(()=>{(async()=>{const N=localStorage.getItem("token");if(N)try{const b=vt(N),C=Date.now()/1e3;b.exp<C&&(console.warn("Token expired, logging out."),o())}catch(b){console.error("Invalid token, clearing localStorage.",b),o()}else o()})()},[]);const o=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("activeButton"),window.location.href="/login"},d=$=>{const N=document.querySelector(`.${Oe.sidebar}`);N&&(N.style.zIndex=$?"9999":"initial")},[g,v]=j.useState(!1),c=()=>{v(!0)},h=async()=>{try{await U.patch(`/api/update-college-staff-status/${m}`,{isActive:!1}),await U.post("/api/logout-activity",{userID:y,activityDescription:"logged out"}),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("activeButton"),window.location.href="/",console.log("Logged out successfully")}catch($){console.error("Error logging activity during logout:",$)}},_=$=>{t($),i(null,null)},f=localStorage.getItem("token");let m="",y="";if(f)try{const $=vt(f);m=$.id,y=$.userId}catch($){console.error("Failed to decode token:",$)}const{collegeStaffUserDetails:u,loading:p,error:x}=Jd(m),[w,I]=j.useState("");return j.useEffect(()=>{m&&(async()=>{try{const b=(await U.get(`/api/get-college-staff-details/${m}`)).data.user_profile,S=b?`http://localhost:5000${b.startsWith("/uploads")?"":"/uploads/user-profiles/"}${b}`:Va;I(S)}catch(N){console.error("Error fetching user profile image:",N)}})()},[m]),n.jsxs("div",{className:Oe.dashboardContainer,children:[n.jsxs("div",{className:`${Oe.sidebar} ${s?Oe.active:""}`,children:[n.jsxs("div",{className:Oe.logo,children:[n.jsx("img",{src:jr,alt:"eGrade Logo",className:Oe.eGradeLogo}),n.jsx("img",{src:qa,onClick:l,id:Oe.btn})]}),n.jsxs("div",{className:Oe.userContainer,children:[n.jsx("div",{className:Oe.userImgContainer,children:n.jsx("img",{src:w,alt:"user_icon",className:Oe.userImg})}),n.jsxs("div",{className:Oe.userInfo,children:[p&&n.jsx("p",{children:"Loading..."}),x&&n.jsx("p",{children:"Error fetching user details."}),u&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:Oe.userName,children:[u.first_name," ",u.last_name]}),n.jsx("p",{className:Oe.userStatus,children:u.title})]})]})]}),n.jsxs("ul",{className:Oe.sidebarMenu,children:[[{to:"dashboard",label:"Dashboard",icon:Ma,btnId:"dashboard"},{to:"classProgramInformation",label:"Class Program Information",icon:Gd,btnId:"classProgram",disabled:!(u!=null&&u.isVerified)},{to:"subjects",label:"Subjects",icon:Mi,btnId:"subjects",disabled:!(u!=null&&u.isVerified)},{to:"instructors",label:"Instructors",icon:Ui,btnId:"instructors",disabled:!(u!=null&&u.isVerified)},{to:"students",label:"Students",icon:Sr,btnId:"students",disabled:!(u!=null&&u.isVerified)},{to:"documents",label:"Documents",icon:Gp,btnId:"documents",disabled:!(u!=null&&u.isVerified)},{to:"leaderboard",label:"Leaderboard",icon:Ua,btnId:"leaderboard",disabled:!(u!=null&&u.isVerified)},{to:"settings",label:"Settings",icon:za,btnId:"settings"}].map(({to:$,label:N,icon:b,btnId:C,disabled:S},k)=>n.jsxs("li",{className:`${Oe.sidebarMenuItem} ${S?Oe.disabled:""}`,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),ref:B=>a.current[k]=B,onClick:()=>!S&&_(C),children:[n.jsxs(dt,{to:S?"#":$,className:`${Oe.sidebarMenuLink} ${e===C?Oe.active:""} ${S?Oe.disabledLink:""}`,onClick:()=>!S&&t(C),children:[n.jsx("img",{src:b,className:Oe.sidebarIcons,alt:`${N} Icon`}),n.jsx("span",{className:Oe.navItem,children:N})]}),n.jsx("span",{className:Oe.tooltip,children:N})]},C)),n.jsxs("li",{className:Oe.sidebarMenuItem,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),ref:$=>a.current[a.current.length]=$,children:[n.jsxs("button",{onClick:c,className:Oe.sidebarMenuLink,children:[n.jsx("img",{src:Ha,className:Oe.sidebarIcons,alt:"Logout"}),n.jsx("span",{className:Oe.navItem,children:"Logout"})]}),n.jsx("span",{className:Oe.tooltip,children:"Logout"})]})]})]}),n.jsxs("div",{className:Oe.mainContent,children:[n.jsx(Ga,{}),n.jsx(wn,{})]}),g&&n.jsx("div",{className:Oe.modalOverlay,children:n.jsxs("div",{className:Oe.modal,children:[n.jsx("h2",{children:"Confirm Logout"}),n.jsx("h4",{children:"Are you sure you want to logout?"}),n.jsxs("div",{className:Oe.buttonRow,children:[n.jsx("button",{onClick:h,className:Oe.confirmLogoutBtn,children:"Yes, Logout"}),n.jsx("button",{onClick:()=>v(!1),className:Oe.cancelBtn,children:"Cancel"})]})]})})]})}const tD="_dashboardContainer_1cd3t_3",nD="_sidebar_1cd3t_15",sD="_sidebarMenuLink_1cd3t_39",rD="_sidebarIcons_1cd3t_49",aD="_active_1cd3t_59",oD="_sidebarMenu_1cd3t_39",iD="_sidebarMenuItem_1cd3t_87",lD="_slideRight_1cd3t_1",cD="_ripple_1cd3t_105",dD="_navItem_1cd3t_133",uD="_tooltip_1cd3t_233",mD="_logo_1cd3t_313",fD="_eGradeLogo_1cd3t_313",hD="_userContainer_1cd3t_423",pD="_userImgContainer_1cd3t_443",gD="_userImg_1cd3t_443",_D="_userInfo_1cd3t_481",vD="_userName_1cd3t_527",yD="_userStatus_1cd3t_529",xD="_btn_1cd3t_1",bD="_mainContent_1cd3t_585",jD="_mainContainer_1cd3t_613",wD="_modalOverlay_1cd3t_643",CD="_modal_1cd3t_643",SD="_cancelBtn_1cd3t_725",ND="_confirmLogoutBtn_1cd3t_745",ID="_buttonRow_1cd3t_775",Ue={dashboardContainer:tD,sidebar:nD,sidebarMenuLink:sD,sidebarIcons:rD,active:aD,sidebarMenu:oD,sidebarMenuItem:iD,slideRight:lD,ripple:cD,navItem:dD,tooltip:uD,logo:mD,eGradeLogo:fD,userContainer:hD,userImgContainer:pD,userImg:gD,userInfo:_D,userName:vD,userStatus:yD,btn:xD,mainContent:bD,mainContainer:jD,modalOverlay:wD,modal:CD,cancelBtn:SD,confirmLogoutBtn:ND,buttonRow:ID};function $D(){const{activeButton:e,updateActiveButton:t}=j.useContext(Cn),[s,r]=j.useState(!1),a=j.useRef([]),{updatePath:i}=Rt();j.useEffect(()=>{const _=localStorage.getItem("activeButton");_&&t(_)},[t]);const l=()=>{r(!s)},o=_=>{const f=document.querySelector(`.${Ue.sidebar}`);f&&(f.style.zIndex=_?"9999":"initial")},[d,g]=j.useState(!1),v=()=>{g(!0)},c=()=>{localStorage.removeItem("token"),localStorage.removeItem("activeButton"),localStorage.removeItem("user"),window.location.href="/",console.log("Logged out successfully")},h=_=>{t(_),i(null,null)};return n.jsxs("div",{className:Ue.dashboardContainer,children:[n.jsxs("div",{className:`${Ue.sidebar} ${s?Ue.active:""}`,children:[n.jsxs("div",{className:Ue.logo,children:[n.jsx("img",{src:jr,alt:"eGrade Logo",className:Ue.eGradeLogo}),n.jsx("img",{src:qa,onClick:l,id:Ue.btn})]}),n.jsxs("div",{className:Ue.userContainer,children:[n.jsx("div",{className:Ue.userImgContainer,children:n.jsx("img",{src:Va,alt:"user_icon",className:Ue.userImg})}),n.jsxs("div",{className:Ue.userInfo,children:[n.jsx("p",{className:Ue.userName,children:"Lancelot"}),n.jsx("p",{className:Ue.userStatus,children:"Registrar Staff"})]})]}),n.jsxs("ul",{className:Ue.sidebarMenu,children:[[{to:"dashboard",label:"Dashboard",icon:Ma,btnId:"dashboard"},{to:"classProgramInformation",label:"Class Program Information",icon:Gd,btnId:"classProgram"},{to:"subjects",label:"Subjects",icon:Mi,btnId:"subjects"},{to:"instructors",label:"Instructors",icon:Ui,btnId:"instructors"},{to:"students",label:"Students",icon:Sr,btnId:"students"},{to:"leaderboard",label:"Leaderboard",icon:Ua,btnId:"leaderboard"},{to:"settings",label:"Settings",icon:za,btnId:"settings"}].map(({to:_,label:f,icon:m,btnId:y},u)=>n.jsxs("li",{className:Ue.sidebarMenuItem,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),ref:p=>a.current[u]=p,onClick:()=>h(y),children:[n.jsxs(dt,{to:_,className:`${Ue.sidebarMenuLink} ${e===y?Ue.active:""}`,onClick:()=>t(y),children:[n.jsx("img",{src:m,className:Ue.sidebarIcons,alt:`${f} Icon`}),n.jsx("span",{className:Ue.navItem,children:f})]}),n.jsx("span",{className:Ue.tooltip,children:f})]},y)),n.jsxs("li",{className:Ue.sidebarMenuItem,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),ref:_=>a.current[a.current.length]=_,children:[n.jsxs("button",{onClick:v,className:Ue.sidebarMenuLink,children:[n.jsx("img",{src:Ha,className:Ue.sidebarIcons,alt:"Logout"}),n.jsx("span",{className:Ue.navItem,children:"Logout"})]}),n.jsx("span",{className:Ue.tooltip,children:"Logout"})]})]})]}),n.jsxs("div",{className:Ue.mainContent,children:[n.jsx(Ga,{}),n.jsx(wn,{})]}),d&&n.jsx("div",{className:Ue.modalOverlay,children:n.jsxs("div",{className:Ue.modal,children:[n.jsx("h2",{children:"Confirm Logout"}),n.jsx("h4",{children:"Are you sure you want to logout?"}),n.jsxs("div",{className:Ue.buttonRow,children:[n.jsx("button",{onClick:c,className:Ue.confirmLogoutBtn,children:"Yes, Logout"}),n.jsx("button",{onClick:()=>g(!1),className:Ue.cancelBtn,children:"Cancel"})]})]})})]})}const kD=()=>{const[e,t]=j.useState({admins:[],collegeStaff:[],registrarStaff:[],facultyStaff:[]}),[s,r]=j.useState(!0),[a,i]=j.useState(null),l=d=>({admins:d.admins.sort((g,v)=>g.last_name.localeCompare(v.last_name)),collegeStaff:d.collegeStaff.sort((g,v)=>g.last_name.localeCompare(v.last_name)),registrarStaff:d.registrarStaff.sort((g,v)=>g.last_name.localeCompare(v.last_name)),facultyStaff:d.facultyStaff.sort((g,v)=>g.last_name.localeCompare(v.last_name))}),o=j.useCallback(async()=>{var d,g;r(!0),i(null);try{const v=await U.get("/api/get_users"),c=l(v.data);t(c),E.info("👥 User data loaded successfully!")}catch(v){i(v.message||"Error fetching users"),E.error("🚨 "+(((g=(d=v.response)==null?void 0:d.data)==null?void 0:g.message)||v.message))}finally{r(!1)}},[]);return j.useEffect(()=>{o()},[o]),{users:e,loading:s,error:a,refetch:o}},ED="_mainContainer_12efi_7",BD="_dashboardContent_12efi_27",RD="_searchBar_12efi_43",LD="_searchInput_12efi_61",FD="_addNewUserBtn_12efi_79",PD="_tableContainer_12efi_113",AD="_classInfoTable_12efi_127",DD="_view_12efi_167",TD="_actionRow_12efi_185",OD="_editBtn_12efi_199",MD="_deleteBtn_12efi_201",UD="_listBtn_12efi_203",zD="_editImg_12efi_219",qD="_deleteImg_12efi_221",VD="_listImg_12efi_223",HD="_modalOverlay_12efi_261",GD="_modal_12efi_261",WD="_addInput_12efi_335",YD="_btnRow_12efi_357",QD="_selectInput_12efi_371",KD="_inputWithButton_12efi_389",JD="_editInput_12efi_447",XD="_editField_12efi_471",ZD="_uploadField_12efi_491",e5="_cancelBtn_12efi_509",t5="_sendCode_12efi_529",n5="_saveBtn_12efi_529",s5="_confirmDeleteBtn_12efi_541",r5="_uploadBtn_12efi_543",a5="_buttonRow_12efi_901",o5="_loader_12efi_923",i5="_buttonContainer_12efi_1025",l5="_searchBtn_12efi_1035",c5="_addBtn_12efi_1037",d5="_addFile_12efi_1039",u5="_csvFormat_12efi_1041",m5="_slideRight_12efi_1",X={mainContainer:ED,dashboardContent:BD,searchBar:RD,searchInput:LD,addNewUserBtn:FD,tableContainer:PD,classInfoTable:AD,view:DD,actionRow:TD,editBtn:OD,deleteBtn:MD,listBtn:UD,editImg:zD,deleteImg:qD,listImg:VD,modalOverlay:HD,modal:GD,addInput:WD,btnRow:YD,selectInput:QD,inputWithButton:KD,editInput:JD,editField:XD,uploadField:ZD,cancelBtn:e5,sendCode:t5,saveBtn:n5,confirmDeleteBtn:s5,uploadBtn:r5,buttonRow:a5,loader:o5,"l20-1":"_l20-1_12efi_1","l20-2":"_l20-2_12efi_1",buttonContainer:i5,searchBtn:l5,addBtn:c5,addFile:d5,csvFormat:u5,slideRight:m5},f5=()=>{const[e,t]=j.useState({email:"",last_name:"",first_name:"",middle_initial:""}),s=()=>{t({email:"",last_name:"",first_name:"",middle_initial:""})},[r,a]=j.useState(!1),i=d=>{t({...e,[d.target.name]:d.target.value})},l=d=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d);return{dataAdmin:e,handleChangeAdmin:i,handleSubmitAdmin:async()=>{var v,c;if(!l(e.email)){E.warn("Invalid email format");return}const d=te.object({ID:te.string(),last_name:te.string().required(),first_name:te.string().required(),middle_initial:te.string().required(),email:te.string().email({tlds:{allow:!1}}).required(),isActive:te.boolean().default(!0),createdAt:te.date().default(Date.now)}),{error:g}=d.validate(e,{abortEarly:!1});if(g){const h=g.details.map(_=>_.message).join(", ");E.error(h);return}a(!0);try{const h=await U.post("/api/post_admin",e,{headers:{"Content-Type":"application/json"}});if(h.status===201)s(),E.success("New admin added successfully");else{const _="Unexpected response status: "+h.status;E.error(_)}}catch(h){console.error("Error response:",h.response);const _=((c=(v=h.response)==null?void 0:v.data)==null?void 0:c.message)||"Registration failed. Please try again.";E.error(_)}finally{a(!1)}},resetAdminForm:s,isAdminLoading:r}},h5=()=>{const[e,t]=j.useState({email:"",last_name:"",first_name:"",middle_initial:""}),s=()=>{t({email:"",last_name:"",first_name:"",middle_initial:""})},[r,a]=j.useState(!1),i=d=>{t({...e,[d.target.name]:d.target.value})},l=d=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d);return{dataCollege:e,handleChangeCollege:i,handleSubmitCollegeStaff:async()=>{if(!l(e.email)){E.warn("Invalid email format");return}const d=te.object({ID:te.string(),last_name:te.string().required(),first_name:te.string().required(),middle_initial:te.string().required(),email:te.string().email({tlds:{allow:!1}}).required(),isActive:te.boolean().default(!0),createdAt:te.date().default(Date.now)}),{errorCollege:g}=d.validate(e,{abortEarly:!1});if(g){E.error(g.details.map(v=>v.message).join(", "));return}a(!0);try{const v=await U.post("/api/post_college_staff",{email:e.email,last_name:e.last_name,first_name:e.first_name,middle_initial:e.middle_initial});v.status===201?(E.success("Successfully Added New College Staff"),s()):E.error("Unexpected response status: "+v.status)}catch(v){E.error(`Registration failed. Please try again. ${v.response.data.message}`)}finally{a(!1)}},resetCollegeForm:s,isCollegeStaffLoading:r}};function p5(){const{users:e,loading:t,error:s,refetch:r}=kD(),[a,i]=j.useState(!1),[l,o]=j.useState(null),[d,g]=j.useState(null),[v,c]=j.useState(!1),[h,_]=j.useState(""),f=F=>new Promise(ge=>setTimeout(ge,F)),m=(F,ge)=>{o(F),g(ge),i(!0)},y=async()=>{c(!0);try{await f(3e3),await U.delete(`/api/delete_user/${d}/${l}`),r(),E.success("Successfully Deleted User"),i(!1)}catch(F){console.error("Error deleting user:",F)}finally{c(!1)}},u=F=>{_(F.target.value)},p=F=>F.filter(ge=>ge.ID.toLowerCase().includes(h.toLowerCase())||ge.last_name.toLowerCase().includes(h.toLowerCase())||ge.first_name.toLowerCase().includes(h.toLowerCase())||ge.middle_initial.toLowerCase().includes(h.toLowerCase())||ge.title.toLowerCase().includes(h.toLowerCase())),[x,w]=j.useState(!1),[I,$]=j.useState(!1),[N,b]=j.useState(!1),[C,S]=j.useState(null),{dataAdmin:k,handleChangeAdmin:B,handleSubmitAdmin:R,resetAdminForm:L,isAdminLoading:A}=f5(),{dataCollege:q,handleChangeCollege:G,handleSubmitCollegeStaff:D,resetCollegeForm:V,isCollegeStaffLoading:z}=h5(),{dataFaculty:M,handleChangeFaculty:H,handleSubmitFaculty:me,resetFacultyForm:K,isFacultyStaffLoading:ue}=cg(),Q=async F=>{F.preventDefault();try{switch(C){case"admin":await R(),L();break;case"college":await D(),V();break;case"faculty":await me(),K();break;default:E.warn("Unknown submission type");return}r()}catch(ge){console.error("Error during save process:",ge),E.error("Error during save process:",ge)}},fe=()=>{S("admin"),w(!0)},Fe=()=>{S("college"),$(!0)},ie=()=>{S("faculty"),b(!0)},ne=()=>{w(!1),$(!1),b(!1),C==="admin"?L():C==="college"?V():C==="faculty"&&K()},T=F=>{if(F.target.name==="contact_number"&&F.target.value.length>11){E.warn("Contact number must be exactly 11 digits.");return}H(F)},ye=(e.admins.length||0)+(e.collegeStaff.length||0)+(e.registrarStaff.length||0)+(e.facultyStaff.length||0);return t?n.jsx("div",{children:"Loading..."}):s?n.jsxs("div",{children:["Error: ",s]}):n.jsxs("div",{className:X.mainContainer,children:[n.jsxs("div",{className:X.searchBar,children:[n.jsx("input",{type:"text",placeholder:"Search User...",className:X.searchInput,value:h,onChange:u}),n.jsxs("div",{className:X.buttonContainer,children:[n.jsx("button",{type:"button",className:X.addNewUserBtn,onClick:fe,children:"Admin"}),n.jsx("button",{type:"button",className:X.addNewUserBtn,onClick:Fe,children:"College Staff"}),n.jsx("button",{type:"button",className:X.addNewUserBtn,onClick:ie,children:"Faculty Staff"})]})]}),n.jsx("div",{className:X.totalUsers,children:n.jsxs("p",{children:["Total Users: ",ye]})}),n.jsx("div",{className:X.tableContainer,children:n.jsxs("table",{className:X.classInfoTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Last Name"}),n.jsx("th",{children:"First Name"}),n.jsx("th",{children:"Middle Initial"}),n.jsx("th",{children:"Title"}),n.jsx("th",{children:"Action"})]})}),n.jsxs("tbody",{children:[p(e.admins).map(F=>n.jsxs("tr",{children:[n.jsx("td",{children:F.ID}),n.jsx("td",{children:F.last_name}),n.jsx("td",{children:F.first_name}),n.jsx("td",{children:F.middle_initial}),n.jsx("td",{children:F.title}),n.jsx("td",{children:n.jsx("button",{onClick:()=>m(F._id,"admin"),className:X.deleteBtn,children:n.jsx("img",{src:Vt,className:X.deleteImg,alt:"Delete"})})})]},F._id)),p(e.collegeStaff).map(F=>n.jsxs("tr",{children:[n.jsx("td",{children:F.ID}),n.jsx("td",{children:F.last_name}),n.jsx("td",{children:F.first_name}),n.jsx("td",{children:F.middle_initial}),n.jsx("td",{children:F.title}),n.jsx("td",{children:n.jsx("button",{onClick:()=>m(F._id,"collegeStaff"),className:X.deleteBtn,children:n.jsx("img",{src:Vt,className:X.deleteImg,alt:"Delete"})})})]},F._id)),p(e.registrarStaff).map(F=>n.jsxs("tr",{children:[n.jsx("td",{children:F.ID}),n.jsx("td",{children:F.last_name}),n.jsx("td",{children:F.first_name}),n.jsx("td",{children:F.middle_initial}),n.jsx("td",{children:F.title}),n.jsx("td",{children:n.jsx("button",{onClick:()=>m(F._id,"registrarStaff"),className:X.deleteBtn,children:n.jsx("img",{src:Vt,className:X.deleteImg,alt:"Delete"})})})]},F._id)),p(e.facultyStaff).map(F=>n.jsxs("tr",{children:[n.jsx("td",{children:F.ID}),n.jsx("td",{children:F.last_name}),n.jsx("td",{children:F.first_name}),n.jsx("td",{children:F.middle_initial}),n.jsx("td",{children:F.title}),n.jsx("td",{children:n.jsx("button",{onClick:()=>m(F._id,"facultyStaff"),className:X.deleteBtn,children:n.jsx("img",{src:Vt,className:X.deleteImg,alt:"Delete"})})})]},F._id))]})]})}),x&&n.jsx("div",{className:X.modalOverlay,children:n.jsxs("div",{className:X.modal,children:[n.jsx("h2",{children:"Add New Admin"}),n.jsxs("form",{onSubmit:Q,children:[n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"Email:"}),n.jsx("div",{className:X.inputWithButton,children:n.jsx("input",{id:"email",name:"email",type:"email",className:X.editField,value:k.email,onChange:F=>{B(F)},required:!0})})]}),n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"Last Name:"}),n.jsx("input",{type:"text",className:X.editField,id:"last_name",name:"last_name",value:k.last_name,onChange:B,required:!0})]}),n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"First Name:"}),n.jsx("input",{type:"text",className:X.editField,id:"first_name",name:"first_name",value:k.first_name,onChange:B,required:!0})]}),n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"Middle initial:"}),n.jsx("input",{type:"text",className:X.editField,id:"middle_initial",name:"middle_initial",value:k.middle_initial,onChange:B,required:!0})]}),n.jsxs("div",{className:X.btnRow,children:[n.jsx("button",{type:"button",className:X.cancelBtn,onClick:ne,children:"Close"}),n.jsx("button",{type:"submit",className:X.saveBtn,onClick:F=>lr(F,X),disabled:A,children:A?n.jsx("div",{className:X.loader}):"Save"})]})]})]})}),I&&n.jsx("div",{className:X.modalOverlay,children:n.jsxs("div",{className:X.modal,children:[n.jsx("h2",{children:"Add New College Staff"}),n.jsxs("form",{onSubmit:Q,children:[n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"Email:"}),n.jsx("div",{className:X.inputWithButton,children:n.jsx("input",{id:"email",name:"email",type:"email",className:X.editField,value:q.email,onChange:F=>{G(F)},required:!0})})]}),n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"Last Name:"}),n.jsx("input",{type:"text",className:X.editField,id:"last_name",name:"last_name",value:q.last_name,onChange:G,required:!0})]}),n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"First Name:"}),n.jsx("input",{type:"text",className:X.editField,id:"first_name",name:"first_name",value:q.first_name,onChange:G,required:!0})]}),n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"Middle Initial:"}),n.jsx("input",{type:"text",className:X.editField,id:"middle_initial",name:"middle_initial",value:q.middle_initial,onChange:G,required:!0})]}),n.jsxs("div",{className:X.btnRow,children:[n.jsx("button",{type:"button",className:X.cancelBtn,onClick:ne,children:"Close"}),n.jsx("button",{type:"submit",className:X.saveBtn,onClick:F=>lr(F,X),disabled:z,children:z?n.jsx("div",{className:X.loader}):"Save"})]})]})]})}),N&&n.jsx("div",{className:X.modalOverlay,children:n.jsxs("div",{className:X.modal,children:[n.jsx("h2",{children:"Add New Faculty Staff"}),n.jsxs("form",{onSubmit:Q,children:[n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"Email:"}),n.jsx("div",{className:X.inputWithButton,children:n.jsx("input",{id:"email",name:"email",type:"email",className:X.editField,value:M.email,onChange:F=>{H(F)},required:!0})})]}),n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"Faculty ID:"}),n.jsx("input",{type:"text",className:X.editField,id:"facultyID",name:"facultyID",value:M.facultyID,onChange:H,required:!0})]}),n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"Last Name:"}),n.jsx("input",{type:"text",className:X.editField,id:"last_name",name:"last_name",value:M.last_name,onChange:H,required:!0})]}),n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"First Name:"}),n.jsx("input",{type:"text",className:X.editField,id:"first_name",name:"first_name",value:M.first_name,onChange:H,required:!0})]}),n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"Middle Initial:"}),n.jsx("input",{type:"text",className:X.editField,id:"middle_initial",name:"middle_initial",value:M.middle_initial,onChange:H,required:!0})]}),n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"Specialization:"}),n.jsxs("select",{type:"text",className:X.editField,id:"specialization",name:"specialization",value:M.specialization,onChange:H,required:!0,children:[n.jsx("option",{value:""}),n.jsx("option",{value:"BSCS",children:"BSCS"}),n.jsx("option",{value:"BSIS",children:"BSIS"})]})]}),n.jsxs("div",{className:X.editInput,children:[n.jsx("label",{children:"Contact Number:"}),n.jsx("input",{type:"number",className:X.editField,id:"contact_number",name:"contact_number",value:M.contact_number,onChange:T,pattern:"\\d{11}",required:!0})]}),n.jsxs("div",{className:X.btnRow,children:[n.jsx("button",{type:"button",className:X.cancelBtn,onClick:ne,children:"Close"}),n.jsx("button",{type:"submit",className:X.saveBtn,onClick:F=>lr(F,X),disabled:ue,children:ue?n.jsx("div",{className:X.loader}):"Save"})]})]})]})}),a&&n.jsx("div",{className:X.modalOverlay,children:n.jsxs("div",{className:X.modal,children:[n.jsx("h2",{children:"Confirm Deletion"}),n.jsx("h4",{children:"Are you sure you want to delete this user?"}),n.jsxs("div",{className:X.buttonRow,children:[n.jsx("button",{onClick:y,disabled:v,className:X.confirmDeleteBtn,children:v?n.jsx("div",{className:X.loader}):"Yes, Delete"}),n.jsx("button",{onClick:()=>i(!1),className:X.cancelBtn,children:"Cancel"})]})]})})]})}const g5=j.createContext(),_5=({children:e})=>{const[t,s]=j.useState(null),[r,a]=j.useState(null),i=l=>{a(t),s(l)};return n.jsx(g5.Provider,{value:{selectedStudentId:t,previousStudentId:r,updateStudentIds:i},children:e})},v5=({children:e})=>n.jsx(_5,{children:n.jsx(WL,{children:n.jsx($P,{children:n.jsx(Yp,{children:e})})})});function Hr({element:e,requiredTitle:t}){var a;const s=(a=JSON.parse(localStorage.getItem("user")))==null?void 0:a.title;return localStorage.getItem("token")?t&&s!==t?(console.log("User title does not match required title. Redirecting to /unauthorized."),n.jsx(Wn,{to:"/unauthorized"})):e:(console.log("User is not authenticated. Redirecting to /login."),n.jsx(Wn,{to:"/login"}))}const y5="_mainContainer_wc2lj_3",x5="_announcementCard_wc2lj_23",b5="_verificationMessage_wc2lj_69",j5="_verifiedMessage_wc2lj_91",w5="_verifiedIcon_wc2lj_121",C5="_dashboardContent_wc2lj_135",S5="_cardContainer_wc2lj_161",N5="_yearContainer_wc2lj_175",I5="_card_wc2lj_161",$5="_subjectCode_wc2lj_219",k5="_subjectTitle_wc2lj_231",E5="_gradeTable_wc2lj_243",B5="_remarks_wc2lj_299",R5="_pass_wc2lj_311",L5="_fail_wc2lj_319",F5="_failGrade_wc2lj_321",P5="_greetingCard_wc2lj_331",A5="_modalOverlay_wc2lj_373",D5="_modalContent_wc2lj_399",T5="_modalHeader_wc2lj_417",O5="_modalTitle_wc2lj_431",M5="_closeButton_wc2lj_441",U5="_modalDetails_wc2lj_455",z5="_closeModal_wc2lj_465",q5="_filterDropdown_wc2lj_477",V5="_loader_wc2lj_505",H5="_searchInput_wc2lj_619",G5="_searchBtn_wc2lj_627",W5="_addBtn_wc2lj_629",Y5="_slideRight_wc2lj_1",$e={mainContainer:y5,announcementCard:x5,verificationMessage:b5,verifiedMessage:j5,verifiedIcon:w5,dashboardContent:C5,cardContainer:S5,yearContainer:N5,card:I5,subjectCode:$5,subjectTitle:k5,gradeTable:E5,remarks:B5,pass:R5,fail:L5,failGrade:F5,greetingCard:P5,modalOverlay:A5,modalContent:D5,modalHeader:T5,modalTitle:O5,closeButton:M5,modalDetails:U5,closeModal:z5,filterDropdown:q5,loader:V5,"l20-1":"_l20-1_wc2lj_1","l20-2":"_l20-2_wc2lj_1",searchInput:H5,searchBtn:G5,addBtn:W5,slideRight:Y5},Q5=(e,t)=>{const[s,r]=j.useState(null),[a,i]=j.useState(!0),[l,o]=j.useState(null);return j.useEffect(()=>{e&&t&&(async()=>{try{const g=await U.get("/api/student-lookup",{params:{lastName:e,firstName:t}});r(g.data)}catch(g){o(g)}finally{i(!1)}})()},[e,t]),{studentDetails:s,loading:a,error:l}},K5=(e,t)=>{const[s,r]=j.useState(!0),[a,i]=j.useState(null);return j.useEffect(()=>{const l=async()=>{try{if(!Array.isArray(t))throw new Error("matchedStudents is not an array");const o=t.map(c=>({subject_code:c.subject.subject_code||"N/A",subject_title:c.subject.subject_title||"N/A",instructor:`${c.faculty.first_name||"N/A"} ${c.faculty.last_name||"N/A"}`,semester:c.subject.semester||"N/A",academic_year:c.subject.academic_year||"N/A",midterm_grade:String(c.midterm_grade||"0"),finalterm_grade:String(c.finalterm_grade||"0"),FINAL_GRADE:String(c.FINAL_GRADE||"0")})),{data:d}=await U.get(`/api/students-subjects/${e}`),g=d.grades||[],v=o.filter(c=>!g.some(h=>h.academic_year===c.academic_year&&h.semester===c.semester&&h.subjects.some(_=>_.subject_code===c.subject_code)));v.length>0&&await U.post(`/api/students/${e}/add-subjects`,{subjects:v})}catch(o){i(o)}finally{r(!1)}};t&&t.length>0&&l()},[e,t]),{loading:s,error:a}};function J5(){const[e,t]=j.useState(!1),[s,r]=j.useState(""),[a,i]=j.useState([]),l=localStorage.getItem("token");let o="";if(l)try{o=vt(l).id}catch(L){console.error("Failed to decode token:",L)}const{userDetails:d,loading:g,error:v,refetch:c}=Zd(o),{studentDetails:h,loading:_,error:f}=Q5(d==null?void 0:d.last_name,d==null?void 0:d.first_name),{removalCompleteData:m,error:y}=Kd();K5(o,h);const{subjects:u,errorSubject:p}=Yd();j.useEffect(()=>{if(d!=null&&d.grades){const L=d.grades.flatMap(A=>A.subjects);console.log("Student's Subjects:",L)}},[d]);const[x,w]=j.useState("");j.useEffect(()=>{const L=new Date().getHours();L<12?w("Good morning"):L<18?w("Good afternoon"):w("Good evening")},[]);const I=L=>{const A=u.filter(q=>(q==null?void 0:q.offered)===L&&(q==null?void 0:q.department)===(d==null?void 0:d.course)&&(q==null?void 0:q.effective)===(d==null?void 0:d.curriculum_effective_year));i(A),r(L),t(!0)},$=()=>{t(!1),r(""),i([])},{yearLevels:N}=zi(),{semesters:b}=vs(),[C,S]=j.useState(""),[k,B]=j.useState(""),R=()=>{S(""),B("")};return j.useEffect(()=>{const L=A=>{A.key==="Escape"&&$()};return e?document.addEventListener("keydown",L):document.removeEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[e]),n.jsxs("div",{className:e?`${$e.mainContainer} ${$e.blurred}`:$e.mainContainer,children:[n.jsxs("div",{className:$e.greetingCard,children:[n.jsxs("h2",{children:[x,", ",d?d.first_name:"Student","!"]}),n.jsx("p",{children:"Welcome to your dashboard."})]}),d!=null&&d.isVerified?n.jsx("div",{className:$e.verifiedMessage,children:n.jsxs("p",{children:[n.jsx("img",{src:$r,alt:"Verified",className:$e.verifiedIcon}),"Your account is verified."]})}):n.jsx("div",{className:$e.verificationMessage,children:n.jsx("p",{children:"Please verify your account in settings to access all features."})}),n.jsxs("div",{className:$e.dashboardContent,children:[n.jsxs("div",{className:$e.filters,children:[n.jsxs("select",{className:$e.filterDropdown,value:C,onChange:L=>S(L.target.value),children:[n.jsx("option",{value:"",children:"All Year Levels"}),N.map(L=>n.jsx("option",{value:L.yearLevel,children:L.yearLevel},L._id))]}),n.jsxs("select",{className:$e.filterDropdown,value:k,onChange:L=>B(L.target.value),children:[n.jsx("option",{value:"",children:"All Semesters"}),b.map(L=>n.jsx("option",{value:L.semester,children:L.semester},L._id))]}),n.jsx("button",{className:$e.filterDropdown,onClick:R,children:"Reset"})]}),n.jsxs("div",{className:$e.cardContainer,children:[n.jsxs("div",{className:$e.yearContainer,children:[(!C||C==="1")&&(!k||k==="1st")&&n.jsx("div",{className:$e.card,onClick:()=>I("FIRST YEAR (First Semester)"),children:n.jsx("div",{className:$e.subjectTitle,children:"FIRST YEAR (First Semester)"})}),(!C||C==="1")&&(!k||k==="2nd")&&n.jsx("div",{className:$e.card,onClick:()=>I("FIRST YEAR (Second Semester)"),children:n.jsx("div",{className:$e.subjectTitle,children:"FIRST YEAR (Second Semester)"})})]}),n.jsxs("div",{className:$e.yearContainer,children:[(!C||C==="2")&&(!k||k==="1st")&&n.jsx("div",{className:$e.card,onClick:()=>I("SECOND YEAR (First Semester)"),children:n.jsx("div",{className:$e.subjectTitle,children:"SECOND YEAR (First Semester)"})}),(!C||C==="2")&&(!k||k==="2nd")&&n.jsx("div",{className:$e.card,onClick:()=>I("SECOND YEAR (Second Semester)"),children:n.jsx("div",{className:$e.subjectTitle,children:"SECOND YEAR (Second Semester)"})})]}),n.jsxs("div",{className:$e.yearContainer,children:[(!C||C==="3")&&(!k||k==="1st")&&n.jsx("div",{className:$e.card,onClick:()=>I("THIRD YEAR (First Semester)"),children:n.jsx("div",{className:$e.subjectTitle,children:"THIRD YEAR (First Semester)"})}),(!C||C==="3")&&(!k||k==="2nd")&&n.jsx(n.Fragment,{children:n.jsx("div",{className:$e.card,onClick:()=>I("THIRD YEAR (Second Semester)"),children:n.jsx("div",{className:$e.subjectTitle,children:"THIRD YEAR (Second Semester)"})})}),(!C||C==="3")&&(!k||k==="summer")&&n.jsx(n.Fragment,{children:n.jsx("div",{className:$e.card,onClick:()=>I("SUMMER"),children:n.jsx("div",{className:$e.subjectTitle,children:"SUMMER"})})})]}),n.jsxs("div",{className:$e.yearContainer,children:[(!C||C==="4")&&(!k||k==="1st")&&n.jsx("div",{className:$e.card,onClick:()=>I("FOURTH YEAR (First Semester)"),children:n.jsx("div",{className:$e.subjectTitle,children:"FOURTH YEAR (First Semester)"})}),(!C||C==="4")&&(!k||k==="2nd")&&n.jsx(n.Fragment,{children:n.jsx("div",{className:$e.card,onClick:()=>I("FOURTH YEAR (Second Semester)"),children:n.jsx("div",{className:$e.subjectTitle,children:"FOURTH YEAR (Second Semester)"})})})]})]})]}),e&&n.jsx("div",{className:$e.modalOverlay,children:n.jsxs("div",{className:$e.modalContent,children:[n.jsx("span",{className:$e.closeModal,onClick:$,children:"×"}),n.jsxs("h3",{children:["Subjects for ",s,":"]}),a.length>0?n.jsxs("table",{className:$e.gradeTable,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Grade"}),n.jsx("th",{children:"Subject Code"}),n.jsx("th",{children:"Subject Title"}),n.jsx("th",{children:"Units"}),n.jsx("th",{children:"Pre - Requisite"})]})}),n.jsx("tbody",{children:a.map((L,A)=>{const q=d==null?void 0:d.grades.flatMap(z=>z.subjects).find(z=>z.subject_code===L.subject_code),G=m==null?void 0:m.find(z=>z.last_name===(d==null?void 0:d.last_name)&&z.first_name===(d==null?void 0:d.first_name)&&z.middle_initial===(d==null?void 0:d.middle_initial)&&z.subject.trim()===(q==null?void 0:q.subject_code.trim())),D=(q==null?void 0:q.FINAL_GRADE)??"",V=G!=null&&G.rating_obtained?` / ${G.rating_obtained}`:"";return n.jsxs("tr",{children:[n.jsx("td",{children:D+V}),n.jsx("td",{children:L.subject_code}),n.jsx("td",{children:L.subject_title}),n.jsx("td",{children:L.unit}),n.jsx("td",{children:L.prerequisite})]},A)})})]}):n.jsxs("p",{children:["No subjects found for ",s,"."]})]})})]})}const X5="_mainContainer_3vrwr_3",Z5="_dashboardContent_3vrwr_19",e7="_verifiedMessage_3vrwr_37",t7="_accountVerificationContainer_3vrwr_67",n7="_verificationForm_3vrwr_79",s7="_verifyButton_3vrwr_89",r7="_sendCodeButton_3vrwr_91",a7="_userConfig_3vrwr_159",o7="_columnContainer_3vrwr_169",i7="_column_3vrwr_169",l7="_userConfigInputField_3vrwr_189",c7="_submitButton_3vrwr_205",d7="_togglePasswordButton_3vrwr_223",u7="_verifiedIcon_3vrwr_255",m7="_passwordContainer_3vrwr_269",f7="_rowColumn_3vrwr_287",h7="_formContainer_3vrwr_303",p7="_showPass_3vrwr_341",g7="_buttonContainer_3vrwr_353",_7="_saveButton_3vrwr_363",v7="_showPasswordButton_3vrwr_393",y7="_userConfigContainer_3vrwr_409",x7="_imageContainer_3vrwr_481",b7="_profileImg_3vrwr_507",j7="_removeImageButton_3vrwr_521",w7="_editButton_3vrwr_565",C7="_cancel_3vrwr_609",S7="_loader_3vrwr_633",Ce={mainContainer:X5,dashboardContent:Z5,verifiedMessage:e7,accountVerificationContainer:t7,verificationForm:n7,verifyButton:s7,sendCodeButton:r7,userConfig:a7,columnContainer:o7,column:i7,userConfigInputField:l7,submitButton:c7,togglePasswordButton:d7,verifiedIcon:u7,passwordContainer:m7,rowColumn:f7,formContainer:h7,showPass:p7,buttonContainer:g7,saveButton:_7,showPasswordButton:v7,userConfigContainer:y7,imageContainer:x7,profileImg:b7,removeImageButton:j7,editButton:w7,cancel:C7,loader:S7,"l20-1":"_l20-1_3vrwr_1","l20-2":"_l20-2_3vrwr_1"},N7=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState(null),a=l=>new Promise(o=>setTimeout(o,l));return{updateStudentDetails:async(l,o)=>{try{t(!0),await a(500),r(null);const d=await U.put(`/api/student-details/${l}`,o,{headers:{"Content-Type":"multipart/form-data"}});return t(!1),d.data}catch(d){throw r(d),t(!1),d}},loading:e,error:s}};function I7(){const[e,t]=j.useState(!1),[s,r]=j.useState(null),[a,i]=j.useState(!1),[l,o]=j.useState({schoolID:"",last_name:"",first_name:"",middle_initial:"",email:"",college:"",course:"",year:"",section:"",currentPassword:"",newPassword:"",confirmPassword:""}),d=j.useRef(null),g=()=>{t(!e)},v=async()=>{i(!a)},c=T=>{const ye=T.target.files[0];if(ye){const F=new FileReader;F.onloadend=()=>{r(F.result)},F.readAsDataURL(ye)}},h=()=>{r(null),d.current&&(d.current.value="")},_=/^\d{2}-\d{1}-\d{4}$/,[f,m]=j.useState(!1),y=T=>{const{name:ye,value:F}=T.target;if(ye==="schoolID"&&m(!0),ye==="schoolID"&&F&&a&&f&&!_.test(F)){E.error("School ID must be in the format: 12-3-4567");return}o(ge=>({...ge,[ye]:F}))},u=localStorage.getItem("token");let p="";if(u)try{p=vt(u).id}catch(T){console.error("Failed to decode token:",T)}const{userDetails:x,loading:w,refetch:I}=Zd(p),{updateStudentDetails:$,loading:N,error:b}=N7();j.useEffect(()=>{if(x){const ye=x.user_profile?`http://localhost:5000${x.user_profile.startsWith("/uploads")?"":"/uploads/user-profiles/"}${x.user_profile}`:Bn;r(ye),o({schoolID:x.schoolID||"",last_name:x.last_name||"",first_name:x.first_name||"",middle_initial:x.middle_initial||"",email:x.email||"",college:x.college||"",course:x.course||"",year:x.year||"",section:x.section||"",currentPassword:"",newPassword:"",confirmPassword:""})}},[x]);const C=()=>l.newPassword!==l.confirmPassword?(E.error("New password and confirm password do not match"),!1):!0,S=async()=>{try{return(await U.post("/api/validate-current-password-student",{userId:p,currentPassword:l.currentPassword})).data.valid}catch(T){return console.error("Error validating current password:",T),E.error("Error validating current password"),!1}},k=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/,B=()=>l.newPassword!==l.confirmPassword?(E.error("New password and confirm password do not match"),!1):k.test(l.newPassword)?!0:(E.error("New password must be at least 8 characters long, include upper and lower case letters, a number, and a special character."),!1),R=async T=>{if(T.preventDefault(),!C()||!B()||!await S())return;const F=new FormData;F.append("schoolID",l.schoolID),F.append("last_name",l.last_name),F.append("first_name",l.first_name),F.append("middle_initial",l.middle_initial),F.append("email",l.email),F.append("college",l.college),F.append("course",l.course),F.append("year",l.year),F.append("section",l.section),l.currentPassword&&F.append("currentPassword",l.currentPassword),l.newPassword&&F.append("newPassword",l.newPassword),d.current.files[0]&&F.append("user_profile",d.current.files[0]);try{await $(p,F),E.success("User details updated successfully"),I(),i(!1),window.location.reload()}catch(ge){E.error("Failed to update user details"),console.error("Failed to update user details",ge)}},{dataEmail:L,handleChangeEmail:A,handleSubmitEmail:q,enteredCode:G,handleChangeCode:D,isCodeValid:V,isCooldownActive:z,cooldownTime:M,isLoading:H,resetCode:me}=Oa(),[K,ue]=j.useState(!1),Q=()=>{if(!x||!x.email){E.error("User details not loaded. Please try again.");return}if(L.email!==x.email){E.error("Entered email does not match your registered email.");return}q({preventDefault:()=>{}}),ue(!0)},[fe,Fe]=j.useState(!1),ie=T=>new Promise(ye=>setTimeout(ye,T)),ne=async()=>{Fe(!0),await ie(200);try{await U.post("/api/update-verification-status",{userId:p}),E.success("Email verified and status updated successfully"),me(),ue(!1),Fe(!1),window.location.reload()}catch{E.error("Error updating verification status")}};return n.jsxs("div",{className:Ce.mainContainer,children:[x?x!=null&&x.isVerified?n.jsx("div",{className:Ce.verifiedMessage,children:n.jsxs("p",{children:[n.jsx("img",{src:$r,alt:"Verified",className:Ce.verifiedIcon}),"Your account is verified."]})}):n.jsxs("div",{className:Ce.accountVerificationContainer,children:[n.jsx("h2",{children:"Account Verification"}),n.jsxs("form",{className:Ce.verificationForm,onSubmit:T=>T.preventDefault(),children:[n.jsx("label",{htmlFor:"email",children:"Email:"}),n.jsx("input",{type:"email",name:"email",id:"email",className:Ce.userConfigInputField,value:L.email,onChange:A}),n.jsx("button",{type:"button",onClick:Q,className:Ce.sendCodeButton,disabled:K||H,children:H?n.jsx("div",{className:Ce.loader}):z?`Please wait ${Math.floor(M/60)}:${(M%60).toString().padStart(2,"0")}`:"Send Code"}),K&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:Ce.labelRow,children:[n.jsx("label",{htmlFor:"code",children:"Verification Code:"}),V===!0&&n.jsx("p",{className:Ce.success,style:{color:"green"},children:"Code is correct"}),V===!1&&n.jsx("p",{className:Ce.error,style:{color:"red"},children:"Code is incorrect"})]}),n.jsx("input",{type:"number",name:"code",id:"code",className:Ce.userConfigInputField,value:G,onChange:D}),n.jsx("button",{type:"button",onClick:ne,className:Ce.verifyButton,disabled:fe||!V,children:fe?n.jsx("div",{className:Ce.loader}):"Verify Code"})]})]})]}):n.jsx("p",{children:"Loading user details..."}),n.jsx("hr",{}),n.jsx("div",{children:n.jsx("h2",{children:"User Configuration"})}),n.jsx("div",{className:Ce.dashboardContent,children:n.jsxs("div",{className:Ce.userConfigContainer,children:[n.jsxs("form",{className:Ce.userConfig,onSubmit:R,children:[n.jsxs("div",{className:Ce.columnContainer,children:[n.jsxs("div",{className:Ce.column,children:[n.jsxs("div",{className:Ce.imageContainer,children:[n.jsx("img",{src:s||Bn,alt:"Profile",className:Ce.profileImg,onError:T=>T.target.src=Bn}),s&&n.jsx("button",{type:"button",onClick:h,className:Ce.removeImageButton,children:"×"})]}),n.jsx("label",{htmlFor:"profileImage",children:"Profile Image:"}),n.jsx("input",{type:"file",id:"profileImage",name:"profileImage",className:Ce.userConfigInputField,accept:"image/png, image/jpeg",onChange:c,disabled:!a,ref:d})]}),n.jsxs("div",{className:Ce.column,children:[n.jsx("label",{htmlFor:"SchoolID",children:"School ID:"}),n.jsx("input",{type:"text",name:"schoolID",id:"schoolID",className:Ce.userConfigInputField,placeholder:"School ID:",value:l.schoolID,onChange:y,disabled:!0}),n.jsx("label",{htmlFor:"last_name",children:"Last Name:"}),n.jsx("input",{type:"text",name:"last_name",id:"last_name",className:Ce.userConfigInputField,placeholder:"Last Name",value:l.last_name,onChange:y,disabled:!a}),n.jsx("label",{htmlFor:"first_name",children:"First Name:"}),n.jsx("input",{type:"text",name:"first_name",id:"first_name",className:Ce.userConfigInputField,placeholder:"First Name:",value:l.first_name,onChange:y,disabled:!a}),n.jsx("label",{htmlFor:"middle_initial",children:"Middle Initial:"}),n.jsx("input",{type:"text",name:"middle_initial",id:"middle_initial",className:Ce.userConfigInputField,placeholder:"Middle initial:",value:l.middle_initial,onChange:y,disabled:!a}),n.jsx("label",{htmlFor:"email",children:"Email:"}),n.jsx("input",{type:"email",name:"email",id:"email",className:Ce.userConfigInputField,placeholder:"Email:",value:l.email,onChange:y,disabled:!a}),n.jsxs("div",{className:Ce.rowColumn,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"college",children:"College:"}),n.jsxs("select",{type:"text",name:"college",id:"college",className:Ce.userConfigInputField,value:l.college,onChange:y,disabled:!a,children:[n.jsx("option",{value:"",children:"College"}),n.jsx("option",{value:"CAS",children:"CAS"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"Course",children:"Course:"}),n.jsxs("select",{type:"text",name:"course",id:"course",className:Ce.userConfigInputField,value:l.course,onChange:y,disabled:!a,children:[n.jsx("option",{value:"",children:"Course"}),n.jsx("option",{value:"BSCS",children:"BSCS"}),n.jsx("option",{value:"BSIS",children:"BSIS"})]})]})]}),n.jsxs("div",{className:Ce.rowColumn,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"Year",children:"Year:"}),n.jsxs("select",{type:"text",name:"year",id:"year",className:Ce.userConfigInputField,value:l.year,onChange:y,disabled:!a,children:[n.jsx("option",{value:"",children:"Year"}),n.jsx("option",{value:"1",children:"1"}),n.jsx("option",{value:"2",children:"2"}),n.jsx("option",{value:"3",children:"3"}),n.jsx("option",{value:"4",children:"4"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"Section",children:"Section:"}),n.jsxs("select",{type:"text",name:"section",id:"section",className:Ce.userConfigInputField,value:l.section,onChange:y,disabled:!a,children:[n.jsx("option",{value:"",children:"Section"}),n.jsx("option",{value:"A",children:"A"}),n.jsx("option",{value:"B",children:"B"}),n.jsx("option",{value:"C",children:"C"}),n.jsx("option",{value:"D",children:"D"})]})]})]})]}),n.jsxs("div",{className:Ce.column,children:[n.jsx("label",{htmlFor:"currentPassword",children:"Current Password:"}),n.jsx("input",{type:e?"text":"password",id:"currentPassword",name:"currentPassword",className:Ce.userConfigInputField,value:l.currentPassword,onChange:y,disabled:!a}),n.jsx("label",{htmlFor:"newPassword",children:"New Password:"}),n.jsx("input",{type:e?"text":"password",id:"newPassword",name:"newPassword",className:Ce.userConfigInputField,value:l.newPassword,onChange:y,disabled:!a}),n.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),n.jsx("input",{type:e?"text":"password",id:"confirmPassword",name:"confirmPassword",className:Ce.userConfigInputField,value:l.confirmPassword,onChange:y,disabled:!a}),n.jsx("button",{type:"button",onClick:g,className:Ce.showPasswordButton,disabled:!a,children:e?"Hide Password":"Show Password"})]})]}),n.jsx("div",{className:Ce.buttonContainer,children:n.jsx("button",{type:"submit",className:Ce.saveButton,disabled:!a||N,children:N?n.jsx("div",{className:Ce.loader}):"Save Changes"})})]}),n.jsx("button",{onClick:v,className:`${Ce.editButton} ${a?Ce.cancel:""}`,disabled:N,children:a?"Cancel":"Edit"})]})})]})}const $7="_container_16ig4_1",k7="_column_16ig4_15",E7="_cardContainer_16ig4_23",B7="_card_16ig4_23",R7="_image_16ig4_63",L7="_link_16ig4_75",F7="_modal_16ig4_99",P7="_modalContent_16ig4_127",A7="_modalImage_16ig4_155",D7="_downloadButton_16ig4_167",T7="_close_16ig4_193",O7="_filterContainer_16ig4_229",M7="_filters_16ig4_247",U7="_filterDropdown_16ig4_263",z7="_searchInput_16ig4_289",Ke={container:$7,column:k7,cardContainer:E7,card:B7,image:R7,link:L7,modal:F7,modalContent:P7,modalImage:A7,downloadButton:D7,close:T7,filterContainer:O7,filters:M7,filterDropdown:U7,searchInput:z7};function q7(){const[e,t]=j.useState({gradeSheets:[],removalForms:[]}),[s,r]=j.useState(!0),[a,i]=j.useState(null),[l,o]=j.useState(!1);return j.useEffect(()=>{(async()=>{try{const g=await U.get("/api/files");t(g.data),o(!0)}catch(g){i(g)}finally{r(!1)}})()},[]),j.useEffect(()=>{l&&e.gradeSheets.length>0&&e.removalForms.length>0&&E.info("📂 Files loaded successfully!")},[e,l]),{files:e,loading:s,error:a}}const Vm="http://localhost:5000";function Hm(){const{files:e,loading:t,error:s}=q7(),[r,a]=j.useState(null),{departments:i}=_s(),{academicYears:l}=Ts(),{semesters:o}=vs(),[d,g]=j.useState(""),[v,c]=j.useState(""),[h,_]=j.useState(""),[f,m]=j.useState(""),[y,u]=j.useState(""),[p,x]=j.useState(""),w=k=>{a(k)},I=()=>{a(null)},$=()=>{fetch(r.url,{method:"GET",headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}).then(k=>k.blob()).then(k=>{const B=window.URL.createObjectURL(new Blob([k])),R=document.createElement("a");R.href=B,R.setAttribute("download",r.name),document.body.appendChild(R),R.click(),R.parentNode.removeChild(R)}).catch(k=>console.error("Download error:",k))},N=k=>Array.isArray(k)?k.filter(B=>{const R=B.name.toLowerCase(),L=d?R.includes(d.toLowerCase()):!0,A=v?R.includes(v.toLowerCase()):!0,q=h?R.includes(h.toLowerCase()):!0;return L&&A&&q}):(console.error("Expected files to be an array but got:",k),[]),b=k=>Array.isArray(k)?k.filter(B=>{const R=B.name.toLowerCase(),L=f?R.includes(f.toLowerCase()):!0,A=y?R.includes(y.toLowerCase()):!0,q=p?R.includes(p.toLowerCase()):!0;return L&&A&&q}):(console.error("Expected files to be an array but got:",k),[]);if(t)return n.jsx("div",{children:"Loading..."});if(s)return n.jsxs("div",{children:["Error: ",s.message]});const C=N(e.gradeSheets||[]),S=b(e.removalForms||[]);return n.jsxs("div",{className:Ke.container,children:[n.jsxs("div",{className:Ke.filterContainer,children:[n.jsx("h2",{children:"Grade Sheets"}),n.jsxs("div",{className:Ke.filters,children:[n.jsxs("select",{name:"academicYear",value:v,onChange:k=>c(k.target.value),className:Ke.filterDropdown,children:[n.jsx("option",{value:"",children:"All Academic Years"}),l.map(k=>n.jsx("option",{value:k.ay,children:k.ay},k._id))]}),n.jsxs("select",{name:"department",value:d,onChange:k=>g(k.target.value),className:Ke.filterDropdown,children:[n.jsx("option",{value:"",children:"All Departments"}),i.map(k=>n.jsx("option",{value:k.department,children:k.department},k._id))]}),n.jsxs("select",{name:"semester",value:h,onChange:k=>_(k.target.value),className:Ke.filterDropdown,children:[n.jsx("option",{value:"",children:"All Semesters"}),o.map(k=>n.jsx("option",{value:k.semester,children:k.semester},k._id))]})]}),n.jsx("div",{className:Ke.cardContainer,children:C.length>0?C.map(k=>{const B=`${Vm}${k.url}`;return n.jsxs("div",{className:Ke.card,children:[n.jsx("img",{src:B,alt:k.name,className:Ke.image,onClick:()=>w({...k,url:B}),style:{cursor:"pointer"}}),n.jsx("button",{onClick:()=>w({...k,url:B}),className:Ke.link,children:k.name})]},k.name)}):n.jsx("p",{children:"No grade sheets available."})})]}),n.jsxs("div",{className:Ke.filterContainer,children:[n.jsx("h2",{children:"Removal / Completion Forms"}),n.jsxs("div",{className:Ke.filters,children:[n.jsxs("select",{name:"academicYear",value:f,onChange:k=>m(k.target.value),className:Ke.filterDropdown,children:[n.jsx("option",{value:"",children:"All Academic Years"}),l.map(k=>n.jsx("option",{value:k.ay,children:k.ay},k._id))]}),n.jsxs("select",{name:"semester",value:y,onChange:k=>u(k.target.value),className:Ke.filterDropdown,children:[n.jsx("option",{value:"",children:"All Semesters"}),o.map(k=>n.jsx("option",{value:k.semester,children:k.semester},k._id))]}),n.jsx("input",{type:"text",placeholder:"Search by file name",value:p,onChange:k=>x(k.target.value),className:Ke.searchInput})]}),n.jsx("div",{className:Ke.cardContainer,children:S.length>0?S.map(k=>{const B=`${Vm}${k.url}`;return n.jsxs("div",{className:Ke.card,children:[n.jsx("img",{src:B,alt:k.name,className:Ke.image,onClick:()=>w({...k,url:B}),style:{cursor:"pointer"}}),n.jsx("button",{onClick:()=>w({...k,url:B}),className:Ke.link,children:k.name})]},k.name)}):n.jsx("p",{children:"No removal/completion forms available."})})]}),r&&n.jsx("div",{className:Ke.modal,children:n.jsxs("div",{className:Ke.modalContent,children:[n.jsx("span",{className:Ke.close,onClick:I,children:"×"}),n.jsx("img",{src:r.url,alt:"Selected",className:Ke.modalImage}),n.jsx("button",{onClick:$,className:Ke.downloadButton,children:"Download"})]})})]})}function V7(){var t;const e=!!localStorage.getItem("token");return(t=JSON.parse(localStorage.getItem("user")))==null||t.title,n.jsx(v5,{children:n.jsx(zy,{children:n.jsxs(Py,{children:[n.jsx(Z,{path:"/",element:n.jsx(kx,{})}),n.jsx(Z,{path:"/login",element:n.jsx(Yb,{})}),n.jsx(Z,{path:"/register",element:n.jsx(Dj,{})}),n.jsx(Z,{path:"/forgotPassword",element:n.jsx($w,{})}),n.jsx(Z,{path:"/createNewPassword",element:n.jsx(Ww,{})}),n.jsxs(Z,{path:"/admin",element:n.jsx(Hr,{element:n.jsx(Q0,{}),isAuthenticated:e,requiredTitle:"admin"}),children:[n.jsx(Z,{index:!0,element:n.jsx(Wn,{to:"dashboard"})}),n.jsx(Z,{path:"dashboard",element:n.jsx(Bl,{})}),n.jsx(Z,{path:"classProgramInformation",element:n.jsx(Nl,{})}),n.jsx(Z,{path:"classProgramInformation/instructor/:id",element:n.jsx(Ll,{})}),n.jsx(Z,{path:"classProgramInformation/students/:id",element:n.jsx(Fl,{})}),n.jsx(Z,{path:"subjects",element:n.jsx(Il,{})}),n.jsxs(Z,{path:"instructors",element:n.jsx(yo,{}),children:[n.jsx(Z,{index:!0,element:n.jsx(jo,{})}),n.jsx(Z,{path:"instructors_load/:id",element:n.jsx(wo,{})}),n.jsx(Z,{path:"instructors_load/:id/instructors_student/:loadId",element:n.jsx(Co,{})})]}),n.jsxs(Z,{path:"students",element:n.jsx($l,{}),children:[n.jsx(Z,{index:!0,element:n.jsx(kl,{})}),n.jsx(Z,{path:"student_subject/:id",element:n.jsx(Rl,{})})]}),n.jsx(Z,{path:"documents",element:n.jsx(Hm,{})}),n.jsx(Z,{path:"leaderboard",element:n.jsx(Vr,{})}),n.jsx(Z,{path:"activityLogHistory",element:n.jsx(U$,{})}),n.jsx(Z,{path:"activeUsers",element:n.jsx(dR,{})}),n.jsx(Z,{path:"usersList",element:n.jsx(p5,{})}),n.jsx(Z,{path:"settings",element:n.jsx(El,{})})]}),n.jsxs(Z,{path:"/student",element:n.jsx(Hr,{element:n.jsx(Y4,{}),isAuthenticated:e,requiredTitle:"student"}),children:[n.jsx(Z,{index:!0,element:n.jsx(Wn,{to:"dashboard"})}),n.jsx(Z,{path:"dashboard",element:n.jsx(J5,{})}),n.jsx(Z,{path:"leaderboard",element:n.jsx(Vr,{})}),n.jsx(Z,{path:"settings",element:n.jsx(I7,{})})]}),n.jsxs(Z,{path:"/facultyStaff",element:n.jsx(Hr,{element:n.jsx(CA,{}),isAuthenticated:e,requiredTitle:"faculty_staff"}),children:[n.jsx(Z,{index:!0,element:n.jsx(Wn,{to:"dashboard"})}),n.jsx(Z,{path:"dashboard",element:n.jsx(oB,{})}),n.jsx(Z,{path:"subjects",element:n.jsx(PN,{})}),n.jsxs(Z,{path:"instructors",element:n.jsx(yo,{}),children:[n.jsx(Z,{index:!0,element:n.jsx(jo,{})}),n.jsx(Z,{path:"instructors_load/:id",element:n.jsx(wo,{})}),n.jsx(Z,{path:"instructors_load/:id/instructors_student/:loadId",element:n.jsx(Co,{})})]}),n.jsxs(Z,{path:"students",element:n.jsx(j2,{}),children:[n.jsx(Z,{index:!0,element:n.jsx(b2,{})}),n.jsx(Z,{path:"/facultyStaff/students/student_grades/:instructorId/:studentId/:subjectId",element:n.jsx(l$,{})})]}),n.jsx(Z,{path:"leaderboard",element:n.jsx(Vr,{})}),n.jsx(Z,{path:"settings",element:n.jsx(y3,{})})]}),n.jsxs(Z,{path:"/collegeStaff",element:n.jsx(Hr,{element:n.jsx(eD,{}),isAuthenticated:e,requiredTitle:"college_staff"}),children:[n.jsx(Z,{index:!0,element:n.jsx(Wn,{to:"dashboard"})}),n.jsx(Z,{path:"dashboard",element:n.jsx(Bl,{})}),n.jsx(Z,{path:"classProgramInformation",element:n.jsx(Nl,{})}),n.jsx(Z,{path:"classProgramInformation/instructor/:id",element:n.jsx(Ll,{})}),n.jsx(Z,{path:"classProgramInformation/students/:id",element:n.jsx(Fl,{})}),n.jsx(Z,{path:"subjects",element:n.jsx(Il,{})}),n.jsxs(Z,{path:"instructors",element:n.jsx(yo,{}),children:[n.jsx(Z,{index:!0,element:n.jsx(jo,{})}),n.jsx(Z,{path:"instructors_load/:id",element:n.jsx(wo,{})}),n.jsx(Z,{path:"instructors_load/:id/instructors_student/:loadId",element:n.jsx(Co,{})})]}),n.jsxs(Z,{path:"students",element:n.jsx($l,{}),children:[n.jsx(Z,{index:!0,element:n.jsx(kl,{})}),n.jsx(Z,{path:"student_subject/:id",element:n.jsx(Rl,{})})]}),n.jsx(Z,{path:"leaderboard",element:n.jsx(Vr,{})}),n.jsx(Z,{path:"documents",element:n.jsx(Hm,{})}),n.jsx(Z,{path:"settings",element:n.jsx(El,{})})]}),n.jsxs(Z,{path:"/registrarStaff",element:n.jsx(Hr,{element:n.jsx($D,{}),isAuthenticated:e,requiredTitle:"registrar_staff"}),children:[n.jsx(Z,{index:!0,element:n.jsx(Wn,{to:"dashboard"})}),n.jsx(Z,{path:"dashboard",element:n.jsx(Bl,{})}),n.jsx(Z,{path:"classProgramInformation",element:n.jsx(Nl,{})}),n.jsx(Z,{path:"classProgramInformation/instructor/:id",element:n.jsx(Ll,{})}),n.jsx(Z,{path:"classProgramInformation/students/:id",element:n.jsx(Fl,{})}),n.jsx(Z,{path:"subjects",element:n.jsx(Il,{})}),n.jsxs(Z,{path:"instructors",element:n.jsx(yo,{}),children:[n.jsx(Z,{index:!0,element:n.jsx(jo,{})}),n.jsx(Z,{path:"instructors_load/:id",element:n.jsx(wo,{})}),n.jsx(Z,{path:"instructors_load/:id/instructors_student/:loadId",element:n.jsx(Co,{})})]}),n.jsxs(Z,{path:"students",element:n.jsx($l,{}),children:[n.jsx(Z,{index:!0,element:n.jsx(kl,{})}),n.jsx(Z,{path:"student_subject/:id",element:n.jsx(Rl,{})})]}),n.jsx(Z,{path:"leaderboard",element:n.jsx(Vr,{})}),n.jsx(Z,{path:"settings",element:n.jsx(El,{})})]}),n.jsx(Z,{path:"*",element:n.jsx(Wn,{to:"/"})})]})})})}var gg,Gm=Hv;gg=Gm.createRoot,Gm.hydrateRoot;gg(document.getElementById("root")).render(n.jsx(qe.StrictMode,{children:n.jsx(Yp,{children:n.jsxs(S0,{children:[n.jsx(V7,{}),n.jsx(Wb,{position:"top-center",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored",transition:Hb,bodyClassName:"toastBody"})]})})}));
